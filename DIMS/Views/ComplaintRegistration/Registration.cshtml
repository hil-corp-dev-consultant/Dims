@*

    Module              : CMS - DIMS Solution.
    DocumentName        : Registration.cs
    Project Name        : Dealer Information Management System (DIMS).
    Client Name         : HIL :: CK BIRLA GROUP.
    Dev. Organisation   : Envision Enterprise Solutions Pvt. Ltd.
    Team                : ASD.
    Description         : This Doc is for used for Complaint Registration Screen.
    Developer Name      : Swamy Ayyappa Peddinti.
    Change Log          : NA.


*@



@using LabelName = DIMS.Content.Resource_Files.ComplaintRegistration;
@{
    Layout = null;
    DIMS.Models.UserProperties UP = (DIMS.Models.UserProperties)Session["UP"];
    string SessionSITEDETAIL_CODE = UP.SITEDETAIL_CODE;
    string SessionUserCode = UP.UserCode;
    string SessionUserName = UP.UserName;
    string SessionCOMPANYDETAIL_CODE = UP.COMPANYDETAIL_CODE;
    string SessionUserType = UP.UserType;
    string SessionUserTypeID = UP.UserTypeCode;

    string ThreeMonthsBack = DateTime.Now.AddDays(-100).ToString("dd/MM/yyyy");


}

<style type="text/css">
    .modal-content {
        padding: 10px;
    }

    table tr {
        cursor: pointer;
    }

    .filestyle {
        border: 1px solid;
        border-radius: 6px;
    }

    .modal-body {
        overflow-x: auto;
    }
</style>

<section class="content-header" style="padding: 1px 15px 0;">

    <h2>Complaint Registration</h2>
    <ol class="breadcrumb">
        <li><a href ng-click="go('home')"><i class="fa fa-dashboard"></i>Home</a></li>
        <li>Complaint Management</li>
        <li class="active">Complaint Registration</li>
    </ol>
    <nav style="padding: 1px 10px 1px 10px;">
        <div class="row">
            <div class="col-sm-11" id="IconsNavBar">
                <a href ng-click="go('ComplaintPendingApproval')" id="PendingApprovalsList" style="float: left; display: none;">
                    <i class="fa fa-list fa-4" title="Pending Approvals List"></i>
                </a>
                <a href ng-click="go('RegistrationList')" id="RegList" style="float: left;">
                    <i class="fa fa-list fa-4" title="Registration List"></i>
                </a>
                <a href onclick="RegisterComplaintWithFiles()" id="CompRegSave" style="float: left;">
                    <i class="fa fa-floppy-o fa-4" title="Save Complaint"></i>
                </a>
                <a href ng-click="go('Registration')" id="NewReg" style="float: left;">
                    <i class="fa fa-file-o fa-4" title="Create New Complaint"></i>
                </a>
                <a href ng-click="SendRegistrationForApproval()" id="SendRegistrationApproval" style="float: left;">
                    <i class="fa fa-forward" title="Send Complaint for Review"></i>
                </a>
                @*<a href ng-click="SendRegistrationForApproval()" id="SendRegistrationApproval" style="float: left;">
                        <i class=" fa fa-thumbs-o-up" title="Send Complaint for Review"></i>
                    </a>*@
                <a href ng-click="GetApprovalPopUp()" id="MakeApproved" style="float: left;">
                    <i class="fa fa-check" title="Approve Complaint"></i>
                </a>
                <select id="StateFilter" ng-model="StateFilter" disabled="disabled" ng-change="StateChange()" style="float: left;"></select>
                <a href onclick="RegisterComplaintWithFiles()" id="SuperSave" style="float: left; display: none; margin-left: 10px;">
                    <i class="fa fa-floppy-o fa-4" title="Change Action"></i>
                </a>
                <a href ng-click="RegisterComplaint()" id="hiddenCompRegSave" style="display:none">
                </a>
            </div>
        </div>
    </nav>
</section>

<div class="CustomHeight_Section" style="overflow: auto;">
    <section style="padding: 0 15px 90px;">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary" style="background: white none repeat scroll 0 0; padding: 4px;">
                    <div class="box-header">
                        <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#" style="font-size: 12px; font-weight: normal" enctype="multipart/form-data">
                            <div class="row">
                                <input type="text" id="MyTest" style="display: none;" />
                                <div class="col-sm-12">
                                    <input type="text" class="form-control" id="FormIdentity" readonly="readonly" style="display: none" />
                                    <input type="text" class="form-control" id="UserCode" readonly="readonly" style="display: none;" value="@SessionUserCode" />
                                    <input type="text" class="form-control" id="UserName" readonly="readonly" style="display: none;" value="@SessionUserName" />
                                    <input type="text" class="form-control" id="UserType" readonly="readonly" style="display: none;" value="@SessionUserType" />
                                    <input type="text" class="form-control" id="UserType_ID" readonly="readonly" style="display: none" value="@SessionUserTypeID" />
                                    <input type="text" class="form-control" id="SITEDETAIL_CODE" readonly="readonly" style="display: none;" value="@SessionSITEDETAIL_CODE" />
                                    <input type="text" class="form-control" id="COMPANYDETAIL_CODE" readonly="readonly" style="display: none" value="@SessionCOMPANYDETAIL_CODE" />

                                    <input type="text" readonly="readonly" style="display:none;" value="@ThreeMonthsBack" id="ThreeMonthsBack" />

                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">@LabelName.ComplaintReceivedDate<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control" id="complaintReceivedDate_CRT" data-ng-model="complaintReceivedDate_CRT" readonly="readonly" />
                                        </div>
                                        <label class="col-sm-2 control-label Complaint_NumberDiv" style="display: none;">Complaint Number</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray Complaint_NumberDiv" style="display: none;" id="Complaint_Number" data-ng-model="Complaint_Number" disabled="disabled" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">@LabelName.ComplaintRegistrationDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="ComplaintRegistrationDate_CRT" data-ng-model="ComplaintRegistrationDate_CRT" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-2 control-label">@LabelName.ComplaintTrackingNo</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Complaint_Tracking_No" data-ng-model="Complaint_Tracking_No" disabled="disabled" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">@LabelName.RegistrantType<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Registrant_Type" data-ng-model="Registrant_Type" disabled="disabled" />
                                            <input type="text" class="form-control" id="Registrant_Type_Code" data-ng-model="Registrant_Type_Code" style="display: none;" />
                                        </div>
                                        <label class="col-sm-2 control-label">@LabelName.CRSeriesCode</label>
                                        <div class="col-sm-3">
                                            <div class="input-group add-on">
                                                <input class="form-control" id="CR_Series_Code" type="text" disabled="disabled" data-ng-model="CR_Series_Code">
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" id="CR_Series_CodeSpan" type="submit" ng-click="Getdata('GetCRSeriesCode','CRSeriesCode','Document Series')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">Business Unit<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <div class="input-group add-on">
                                                <input class="form-control" id="Product_Type" type="text" readonly="readonly" data-ng-model="Product_Type" disabled="disabled">
                                                <input type="text" class="form-control" id="Product_Type_CODE" data-ng-model="Product_Type_CODE" readonly="readonly" style="display: none;" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" id="Prod_Typ_MastSapn" ng-click="Getdata('GetProd_Typ_Mast','Prod_Typ_Mast','Business Unit List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>



                                        @*<label class="col-sm-2 control-label">@LabelName.RegistrationStatus</label>*@
                                        <label class="col-sm-2 control-label">Complaint Status</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Registration_Status" data-ng-model="Registration_Status" disabled="disabled" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">

                                        <label class="col-sm-3 control-label">@LabelName.SalesRepresentativeEmployeeCode<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <div class="input-group add-on">
                                                <input class="form-control" id="SalesRepresentativeEmployeeCode" type="text" readonly="readonly" data-ng-model="SalesRepresentativeEmployeeCode" disabled="disabled">
                                                @*<input class="form-control" id="SalesRepresentativeEmployeeID" type="text" readonly="readonly" data-ng-model="SalesRepresentativeEmployeeID" style="display:none;" >*@
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" id="SalesRepMasterSpan" ng-click="Getdata('GetSalesRep','SalesRepMaster','Sales Representative List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="col-sm-2 control-label">@LabelName.ComplaintCode</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Complaint_Code" data-ng-model="Complaint_Code" disabled="disabled" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">@LabelName.SalesRepresentativeEmployeeName<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="SalesRepresentativeEmployeeName" data-ng-model="SalesRepresentativeEmployeeName" disabled="disabled" />
                                        </div>

                                        <label class="col-sm-2 control-label">@LabelName.ApprovedDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Approved_Date" data-ng-model="Approved_Date" disabled="disabled" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">@LabelName.ComplaintDesc</label>
                                        <div class="col-sm-3">
                                            @*<textarea class="form-control" id="Complaint_Desc" data-ng-model="Complaint_Desc" maxlength="300"></textarea>*@
                                            <input type="text" class="form-control" id="Complaint_Desc" data-ng-model="Complaint_Desc" maxlength="300" />
                                        </div>
                                        @*svprasadk 19-05-2020 SBU 1 requirement to add type of complaint start*@
                                        <div id="TYPE_OF_COMPLAINT_DIV" style="display:none">
                                            <label class="col-sm-2 control-label">Type of Complaint<span class="Mandatory">*</span></label>
                                            <div class="col-sm-3">
                                                <select id="TYPE_OF_COMPLAINT" class="form-control">
                                                    <option value="0">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        @*svprasadk 19-05-2020 SBU 1 requirement to add type of complaint start*@
                                    </div>

                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-3 control-label">@LabelName.Remarks</label>
                                        <div class="col-sm-3">
                                            @*<textarea class="form-control" id="Remarks" data-ng-model="Remarks" maxlength="300"></textarea>*@
                                            <input type="text" class="form-control" id="Remarks" data-ng-model="Remarks" maxlength="300" />
                                        </div>
                                        <label id="lblAttachments" class="col-sm-2 control-label">@LabelName.FileUpload</label>
                                        <div class="col-sm-3" id="NewComplaintFileUploadDiv">
                                            <label class="col-sm-2 control-label" id="SelectedFiles" data-ng-model="FilesPath" style="width: 100%;"></label>
                                            <input type="file" id="ComplaintFile" name="ComplaintFile" class="filestyle" onchange="FileUploaded()" multiple="" />
                                            <input type="button" value="Upload" id="btnUpload" class="btn btn-info navbar-btn" onclick="UploadFiles()" />
                                            <input type="button" value="Clear" id="btnClear" class="btn btn-info navbar-btn" onclick="ClearFiles()" />
                                            <input type="hidden" id="ClickUploadFile" class="form-control" value="0" style="display: none;" />
                                            <input type="hidden" id="ClickSaveComplaint" class="form-control" value="0" style="display: none;" />
                                            <input type="hidden" id="CREATED_IN" data-ng-model="CREATED_IN" class="form-control" value="0" style="display: none;" />
                                        </div>
                                        @*VIKAS G,9/2/2022 AS PER THE REQUIREMENT OF JOSEPH ADDED THE LABEL OF NOTE FOR ATTACHMENTS*@
                                        <label id="lblNote" class="col-sm-12 control-label" style=" font: 14px Arial, sans-serif;color:black;">Note : <Strong>In case of Sales Return, Attached Approval from National Sale Head. Else, attach proof of complaint to be attached.</Strong></label>
                                        @*<div class="col-sm-3" id="NewComplaintFileNoteLabel">
                                                <label id="lblAttachments" class="col-sm-2 control-label">Note</label>
                                            </div>*@
                                        <div class="col-sm-3" id="LoadComplaintFileUploadDiv">
                                            <ul id="ComplaintFilesUploaded"></ul>
                                        </div>
                                    </div>

                                </div>
                                @*svprasadk 22-04-2020 SBU 1 requirement to add sub stockiest master start*@
                                <div class="col-sm-12 tabdiv" id="CustomerDetails">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('CustDetails')">
                                        <img src="~/Images/en_next.png" id="CustDetails_Img" />
                                        <a class="Expand">Customer Details</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="CustDetails_Form">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class="col-sm-1 control-label">@LabelName.CustomerCode<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Customer_Code" data-ng-model="Customer_Code" disabled="disabled" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="StockistMasterSpan" ng-click="Getdata('GetCustomer','StockistMaster','Customer List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                        <input type="text" class="form-control" id="Customer_ID" data-ng-model="Customer_ID" readonly="readonly" style="display: none;" />
                                                    </div>
                                                </div>
                                                <label class="col-sm-1 control-label">@LabelName.ContactPerson</label>
                                                <div class="col-sm-3 ">
                                                    <input type="text" class="form-control" id="Contact_Person" data-ng-model="Contact_Person" maxlength="150" />
                                                </div>
                                                @*<label class="col-sm-1 control-label SubStockiest_Direct_CustomerDIV">@LabelName.SubStockiestorDirectCustomer</label>*@
                                                <div id="SubStockiest_Direct_CustomerDiv">
                                                    <label class="col-sm-1 control-label SubStockiest_Direct_CustomerDIV" id="SubStockistDirectCustomer_Lbl"></label>
                                                    <div class="col-sm-3">
                                                        <textarea class="form-control SubStockiest_Direct_CustomerDIV" id="SubStockiest_Direct_Customer" data-ng-model="SubStockiest_Direct_Customer" maxlength="300"></textarea>
                                                    </div>
                                                </div>
                                                <div id="PartyTypeDiv">
                                                    @*<label class="col-sm-1 control-label">Party Type<span class="Mandatory">*</span></label>
                                                        <div class="col-sm-3">
                                                            <select id="party_type" class="form-control" onchange="showSubStockiestFields()">
                                                                <option value="0">Select</option>
                                                            </select>
                                                        </div>*@
                                                    <label class="col-sm-1 control-label">Party Type<span class="Mandatory">*</span></label>
                                                    <div class="col-sm-3">
                                                        <div class="input-group add-on">
                                                            <input class="form-control" id="party_type" type="text" disabled="disabled" data-ng-model="party_type">
                                                            <div class="input-group-btn">
                                                                <span class="btn btn-default" id="party_type_id" data-ng-model="party_type_id" type="submit" ng-click="Getdata('getPartyType','partyType','Party Type')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-1 control-label">@LabelName.CustomerName<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control gray" id="Customer_Name" data-ng-model="Customer_Name" disabled="disabled" />
                                                </div>
                                                <label class="col-sm-1 control-label">@LabelName.ContactNumber</label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control gray" id="Contact_Number" data-ng-model="Contact_Number" onkeypress="return isInteger(event)" maxlength="30" />
                                                </div>
                                                <div id="Is_Project_PartyDiv">
                                                    <label class="col-sm-1 control-label">@LabelName.IsProjectParty</label>
                                                    <div class="col-sm-3">
                                                        <input type="checkbox" id="Is_Project_Party" data-ng-model="Is_Project_Party" />
                                                        <input type="text" id="Project_Party_Check" style="display: none;" />
                                                    </div>
                                                </div>
                                                <div id="SubStockiest_CodeDiv">
                                                    <label class="col-sm-1 control-label">Sub-Stockiest Code<span class="Mandatory">*</span></label>
                                                    <div class="col-sm-3">
                                                        <div class="input-group add-on">
                                                            <input type="text" class="form-control" id="SubStockiest_Code" data-ng-model="SubStockiest_Code" disabled="disabled" />
                                                            <div class="input-group-btn"> <span class="btn btn-default" id="SubStockiestMasterSpan" ng-click="Getdata('GetSubStockiest','SubStockiestMaster','SubStockiest List')"><i class="glyphicon glyphicon-new-window"></i></span> </div>
                                                            <input type="text" class="form-control" id="SubStockiest_ID" data-ng-model="SubStockiest_ID" readonly="readonly" style="display: none;" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-1 control-label">@LabelName.CustomerType</label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control gray" id="Customer_Type" data-ng-model="Customer_Type" disabled="disabled" />
                                                    <input type="text" class="form-control" id="Customer_Type_CODE" data-ng-model="Customer_Type_CODE" readonly="readonly" style="display: none;" />
                                                </div>
                                                <label class="col-sm-1 control-label">@LabelName.Email</label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control" id="Customer_Email" data-ng-model="Customer_Email" maxlength="100" />
                                                </div>
                                                <div id="Site_AddressDiv">
                                                    <label class="col-sm-1 control-label">@LabelName.SiteAddress</label>
                                                    <div class="col-sm-3">
                                                        <textarea class="form-control" id="Site_Address" data-ng-model="Site_Address" maxlength="300"></textarea>
                                                    </div>
                                                </div>
                                                <div id="SubStockiest_NameDiv">
                                                    <label class="col-sm-1 control-label">Sub-Stockiest Name<span class="Mandatory">*</span></label>
                                                    <div class="col-sm-3">
                                                        <input name="text3" type="text" disabled="disabled" class="form-control gray" id="SubStockiest_Name" data-ng-model="SubStockiest_Name" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-1 control-label">@LabelName.City</label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control gray" id="Contact_City" data-ng-model="Contact_City" disabled="disabled" />
                                                </div>
                                                <input type="text" class="form-control" id="Customer_Fax" data-ng-model="Customer_Fax" maxlength="15" style="display: none;" />
                                                <input type="text" class="form-control gray" id="Customer_Location" data-ng-model="Customer_Location" disabled="disabled" style="display: none;" />
                                                <input type="text" class="form-control gray" id="Customer_LocationCode" data-ng-model="Customer_LocationCode" style="display: none;" />
                                                <label class="col-sm-1 control-label">@LabelName.ComplaintMode</label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Complaint_Mode" data-ng-model="Complaint_Mode" disabled="disabled" />
                                                        <input type="text" class="form-control" id="Complaint_Mode_CODE" data-ng-model="Complaint_Mode_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="ComplaintModeSpan" ng-click="Getdata('GetComplaint_Mode','Complaint_Mode','Complaint Mode List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="SubStockiest_AddressDiv">
                                                    <label class="col-sm-1 control-label">Site Address<span class="Mandatory">*</span></label>
                                                    <div class="col-sm-3">
                                                        <textarea class="form-control" id="SubStockiest_Address" data-ng-model="SubStockiest_Address" maxlength="300" disabled="disabled"></textarea>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-1 control-label">@LabelName.State<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control gray" id="Contact_State" data-ng-model="Contact_State" disabled="disabled" />
                                                    <input type="text" class="form-control" id="Contact_StateCode" data-ng-model="Contact_StateCode" style="display: none;" />
                                                    <input type="text" class="form-control" id="STATE_ID" data-ng-model="STATE_ID" style="display: none;" />
                                                </div>
                                                <label class="col-sm-1 control-label">Product Type<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Product_Category" data-ng-model="Product_Category" disabled="disabled" />
                                                        <input type="text" class="form-control" id="Product_Category_CODE" data-ng-model="Product_Category_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="ProductDivisionMasterSpan" ng-click="Getdata('ProductDivisionMaster','ProductDivisionMaster','Product Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>

                                               

                                                <div id="SubStockiest_NumberDiv">
                                                    <label class="col-sm-1 control-label">SubStockiest Contact<span class="Mandatory">*</span></label>
                                                    <div class="col-sm-3">
                                                        <input name="text4" type="text" class="form-control gray" id="SubStockiest_Number" onkeypress="return isInteger(event)" maxlength="30" data-ng-model="SubStockiest_Number" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-1 control-label">@LabelName.Area<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3">
                                                    <input type="text" class="form-control gray" id="Contact_Area" data-ng-model="Contact_Area" disabled="disabled" />
                                                    <input type="text" class="form-control" id="Contact_AreaCode" data-ng-model="Contact_AreaCode" style="display: none;" />
                                                </div>

                                                @*SBU8 NEW CODE START*@
                                                <label class="col-sm-1 control-label" id="SubProductDivisionMasterlbl">SUB Product Type<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3" id="SubProductDivisionMasterdiv">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Sub_Product_Category" data-ng-model="Sub_Product_Category" disabled="disabled" />
                                                        <input type="text" class="form-control" id="Sub_Product_Category_CODE" data-ng-model="Sub_Product_Category_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="ProductDivisionMasterSpan" ng-click="Getdata('SubProductDivisionMaster','SubProductDivisionMaster','SubProduct Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                @*SBU8 NEW CODE END*@
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                @*svprasadk 22-04-2020 SBU 1 requirement to add sub stockiest master end*@


                                <div class="col-sm-12 tabdiv" id="MaterialSupplyDetailsTab">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('Material_Supply_Detail')">
                                        <img src="~/Images/en_next.png" id="Material_Supply_Detail_Img" />
                                        <a class="Expand">Material Supply Detail</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="Material_Supply_Detail_Form">
                                        <div class="col-sm-12">
                                            <table class="table innertable" id="Material_Supply_Detail_Table">
                                                <thead>
                                                    <tr>
                                                        <th>S.No</th>
                                                        <th>@LabelName.Mat_MaterialBelongsTo</th>
                                                        <th>@LabelName.Mat_ProductSuppliedFrom</th>
                                                        <th>@LabelName.Mat_Name</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>

                                            <input type="button" value="Add" id="Mat_Sup_Det_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="OpenMSDModel()" />

                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-12 tabdiv" id="Priortize_ClassifyTab">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('Priortize_Classify')">
                                        <img src="~/Images/en_next.png" id="Priortize_Classify_Img" />
                                        <a class="Expand">Prioritize & Classify</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="Priortize_Classify_Form">
                                        <div class="col-sm-12">
                                            <div class="col-sm-12 form-group">
                                                <label class="col-sm-3 control-label">@LabelName.ComplaintType<span class="Mandatory">*</span></label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Complaint_Type" data-ng-model="Complaint_Type" disabled="disabled" />
                                                        @*<input type="text" class="form-control" id="Complaint_Type_ID" data-ng-model="Complaint_Type_ID" readonly="readonly" style="display: none;" />*@
                                                        <input type="text" class="form-control" id="Complaint_Type_CODE" data-ng-model="Complaint_Type_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="GetComplaintTypeSpan" ng-click="Getdata('GetComplaintType','ComplaintType','Complaint Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <label class="col-sm-3 control-label">@LabelName.ComplaintPriority</label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Complaint_Priority" data-ng-model="Complaint_Priority" disabled="disabled" />
                                                        @*<input type="text" class="form-control" id="Complaint_Priority_ID" data-ng-model="Complaint_Priority_ID" readonly="readonly" style="display: none;" />*@
                                                        <input type="text" class="form-control" id="Complaint_Priority_CODE" data-ng-model="Complaint_Priority_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="GetComplaintPrioritySpan" ng-click="Getdata('GetComplaintPriority','ComplaintPriority','Complaint Priority List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12 form-group">
                                                <label class="col-sm-3 control-label">@LabelName.ComplaintCategory<span class="Mandatory" id="CompCatMandSpan">*</span></label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Complaint_Category" data-ng-model="Complaint_Category" disabled="disabled" />
                                                        @*<input type="text" class="form-control" id="Complaint_Category_ID" data-ng-model="Complaint_Category_ID" readonly="readonly" style="display: none;" />*@
                                                        <input type="text" class="form-control" id="Complaint_Category_CODE" data-ng-model="Complaint_Category_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="GetComplaintCategorySpan" ng-click="Getdata('GetComplaintCategory','ComplaintCategory','Complaint Category List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <label class="col-sm-3 control-label">@LabelName.ComplaintSeverity</label>
                                                <div class="col-sm-3">
                                                    <div class="input-group add-on">
                                                        <input type="text" class="form-control" id="Complaint_Severity" data-ng-model="Complaint_Severity" disabled="disabled" />
                                                        @*<input type="text" class="form-control" id="Complaint_Severity_ID" data-ng-model="Complaint_Severity_ID" readonly="readonly" style="display: none;" />*@
                                                        <input type="text" class="form-control" id="Complaint_Severity_CODE" data-ng-model="Complaint_Severity_CODE" readonly="readonly" style="display: none;" />
                                                        <div class="input-group-btn">
                                                            <span class="btn btn-default" id="GetComplaintSeveritySpan" ng-click="Getdata('GetComplaintSeverity','ComplaintSeverity','Complaint Severity List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="col-sm-12 tabdiv" id="RecieptDetailsForSheetingDiv">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('Receipt_Details_Sheeting')">
                                        <img src="~/Images/en_next.png" id="Receipt_Details_Sheeting_Img" />
                                        <a class="Expand">Receipt Details For Sheeting</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="Receipt_Details_Sheeting_Form">
                                        <div class="col-sm-12">
                                            <table class="table innertable" id="Receipt_Details_Sheeting_Table">
                                                <thead>
                                                    <tr>
                                                        <th>S No</th>
                                                        <th>@LabelName.RDFS_ItemTypeProductName</th>
                                                        <th>
                                                            <label class="LabelForACSheets" style="display: block;">Size(M)</label><label class="LabelForCCSheets" style="display: none;">Size(ft)</label>
                                                        </th>
                                                        <th>@LabelName.RDFS_InvoiceNo</th>
                                                        <th>@LabelName.RDFS_InvoiceDate</th>
                                                        <th>@LabelName.RDFS_BatchNo</th>
                                                        <th>@LabelName.RDFS_ReceivedQtyNos</th>
                                                        <th>@LabelName.RDFS_BreakageQtyNos</th>
                                                        <th>@LabelName.RDFS_TypeofDefect</th>
                                                        <th>@LabelName.RDFS_Remarks</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                                <tfoot>
                                                    <tr style="display: none;">
                                                        <th>S No</th>
                                                        <th>Item Type(Product Name)</th>
                                                        <th>Size(M)</th>
                                                        <th>Invoice No</th>
                                                        <th>Invoice Date</th>
                                                        <th>Batch No</th>
                                                        <th>Received Qty (Nos)</th>
                                                        <th>Breakage Qty(Nos)</th>
                                                        <th>Type of Defect</th>
                                                        <th>Remarks</th>
                                                    </tr>
                                                </tfoot>
                                            </table>

                                            <input type="button" value="Add" id="Receipt_Details_Sheeting_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="OpenRDSTModel()" />
                                        </div>
                                    </div>
                                </div>


                                <div class="col-sm-12 tabdiv" id="SupplyDetailsDiv">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('SupplyDetails')">
                                        <img src="~/Images/en_next.png" id="SupplyDetails_Img" />
                                        <a class="Expand">Supply Details</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="SupplyDetails_Form">
                                        <div class="col-sm-12" id="InvoiceNoBU3_div" style="padding-top: 2%; display:none">
                                            <div class="col-sm-10">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                            Invoice No
                                                        </label>
                                                        <div class="col-sm-5">
                                                            <div class="input-group add-on">
                                                                <input type="text" class="form-control ng-pristine ng-untouched ng-valid" id="InvoiceNoBU3" data-ng-model="InvoiceNoBU3" />

                                                                <input type="text" class="form-control ng-pristine ng-untouched ng-valid" id="InvoiceNoBU3_text" data-ng-model="InvoiceNoBU3_text" readonly="readonly" style="display: none;">
                                                                <div class="input-group-btn">
                                                                    <span class="btn btn-default" id="InvoiceNoBU3_span" ng-click="Getdata('GetProductMasterAgainstInvoiceNoBU3','ProductMasterAgainstInvoiceNoBU3','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-2">&nbsp;</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-12">
                                            <table class="table innertable" id="SupplyDetails_Table">
                                                <thead>
                                                    <tr>
                                                        <th>S No</th>
                                                        <th>Product Details</th>
                                                        @* //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.*@
                                                        <th id="THplantname">Plant/Depo Name</th>
                                                        <th id="THCategory">Category</th>
                                                        <th>Invoice No</th>
                                                        <th>Invoice Date</th>
                                                        <th>Batch No</th>
                                                        <th>Supplied Qty (Nos)</th>
                                                        <th class="BreakageQtyLabel">Breakage Qty (Nos)</th>
                                                        <th>Transporter</th>
                                                        <th>Defect Type</th>
                                                        <th id="THDefectprct">Defect Percentage</th>
                                                        <th>Remarks </th>
                                                        @* //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.*@
                                                        <th id="THBASICAMOUNT">Basic Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>

                                            <input type="button" value="Add" id="SupplyDetails_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="OpenSupDetModel()" />
                                            @* //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.START*@
                                            <div class="col-sm-12" id="totalprodvalue">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-10 control-label" style="text-align: right;">
                                                            Total Basic Value
                                                        </label>
                                                        <div class="col-sm-2" style="float : right">
                                                            <input type="text" class="form-control" id="total_prod_value" data-ng-model="total_prod_value" disabled />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            @* //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS. END*@
                                        </div>
                                    </div>
                                </div>
                                @* //VIKAS G, 20-02-2023 AS PER SBU-8. START*@
                                <div class="col-sm-12 tabdiv" id="SupplyDetailsDivBU8">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('SupplyDetailsBU8')">
                                        <img src="~/Images/en_next.png" id="SupplyDetails_Img" />
                                        <a class="Expand">Supply Details</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="SupplyDetailsBU8_Form">
                                        @*<div class="col-sm-12" id="InvoiceNoBU3_div" style="padding-top: 2%; display:none">
                                                <div class="col-sm-10">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                Invoice No
                                                            </label>
                                                            <div class="col-sm-5">
                                                                <div class="input-group add-on">
                                                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid" id="InvoiceNoBU3" data-ng-model="InvoiceNoBU3" />

                                                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid" id="InvoiceNoBU3_text" data-ng-model="InvoiceNoBU3_text" readonly="readonly" style="display: none;">
                                                                    <div class="input-group-btn">
                                                                        <span class="btn btn-default" id="InvoiceNoBU3_span" ng-click="Getdata('GetProductMasterAgainstInvoiceNoBU3','ProductMasterAgainstInvoiceNoBU3','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-2">&nbsp;</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>*@

                                        <div class="col-sm-12">
                                            <table class="table innertable" id="SupplyDetails_Table_BU8">
                                                <thead>
                                                    <tr>
                                                        <th>S No</th>
                                                        <th>Product Details</th>
                                                        <th>Category</th>
                                                        <th>Invoice No</th>
                                                        <th>Invoice Date</th>
                                                        <th>Batch No</th>
                                                        <th>Received Qty (Nos)</th>
                                                        <th class="BreakageQtyLabel">Breakage Qty (Nos)</th>
                                                        <th>Transporter</th>
                                                        <th>Defect Type</th>
                                                        <th>Defect Percentage</th>
                                                        <th>Remarks </th>
                                                        <th id="THBASICAMOUNT">Basic Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>

                                            <input type="button" value="Add" id="SupplyDetails_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="OpenSupDetModel()" />

                                            <div class="col-sm-12" id="totalprodvalue">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-10 control-label" style="text-align: right; float:right">
                                                            Total Basic Value
                                                        </label>
                                                        <div class="col-sm-2" style="float : right">
                                                            <input type="text" class="form-control" id="total_prod_value_BU8" data-ng-model="total_prod_value_BU8" disabled />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                @* //VIKAS G, 20-02-2023 AS PER SBU-8. END*@

                                <div class="col-sm-12 tabdiv" id="ComplaintDetailedDescDiv">
                                    <div class="col-sm-12 CloseOpen" onclick="FormToggle('ComplaintDetailedDescription')">
                                        <img src="~/Images/en_next.png" id="ComplaintDetailedDescription_Img" />
                                        <a class="Expand">Complaint Detailed Description</a>
                                    </div>

                                    <div class="row" style="padding-top: 30px; display: none;" id="ComplaintDetailedDescription_Form">
                                        <div class="col-sm-12">
                                            <div class="col-sm-10">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                            @LabelName.NatureOfComplaint
                                                        </label>
                                                        <div class="col-sm-7">
                                                            <textarea class="form-control" id="NatureOfComplaint" data-ng-model="NatureOfComplaint" maxlength="3000"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-10" id="ObservationByHILOfficialField">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                            @LabelName.ObservationByHILOfficial
                                                        </label>
                                                        <div class="col-sm-7">
                                                            <textarea class="form-control" id="ObservationByHILOfficial" data-ng-model="ObservationByHILOfficial" maxlength="3000"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <br />
    </section>
    <div class="modal fade" id="ReceiptDetailsForSheetingModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    @*<h4 class="modal-title" id="myModalLabel">Receipt Details For Sheeting</h4>*@
                    <h4 class="modal-title" id="myModalLabel">@LabelName.ReceiptDetailsForSheeting_PopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">

                            <input type="hidden" id="RDFS_id" data-ng-model="RDFS_id" />

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_ItemTypeProductName
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Item_Type_Product_Name" data-ng-model="Item_Type_Product_Name" disabled="disabled" />
                                                <input type="text" class="form-control" id="Item_Type_Product_ID" data-ng-model="Item_Type_Product_ID" style="display: none;" />
                                                <input type="text" class="form-control" id="Item_Type_Product_CODE" data-ng-model="Item_Type_Product_CODE" style="display: none;" />
                                                <input type="text" class="form-control" id="GrossWeight" data-ng-model="GrossWeight" style="display: none;" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductMaster','GetProductMaster','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                    @*<span class="btn btn-default" aria-disabled="true"><i class="glyphicon glyphicon-new-window"></i></span>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label LabelForACSheets" style="text-align: right; display: block;">
                                            Size(M)
                                        </label>
                                        <label for="label-2-2" class="col-sm-5 control-label LabelForCCSheets" style="text-align: right; display: none;">
                                            Size(ft)
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Size_M" data-ng-model="Size_M" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_InvoiceNo
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Invoice_No" data-ng-model="Invoice_No" maxlength="10" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_InvoiceDate
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Invoice_Date" data-ng-model="Invoice_Date" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_BatchNo
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Batch_No" data-ng-model="Batch_No" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_ReceivedQtyNos
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Received_Qty_Nos" data-ng-model="Received_Qty_Nos" onkeypress="return isInteger(event)" onchange="ReceivedBreakage_Qty_NosChange('Received_Qty_Nos')" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_BreakageQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Breakage_Qty_Nos" data-ng-model="Breakage_Qty_Nos" onkeypress="return isInteger(event)" onchange="ReceivedBreakage_Qty_NosChange('Breakage_Qty_Nos')" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_DefectType
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Defect_Type" data-ng-model="Defect_Type" disabled="disabled" />
                                                <input type="text" class="form-control" id="Defect_Type_ID" data-ng-model="Defect_Type_ID" style="display: none;" />
                                                <input type="text" class="form-control" id="Defect_Type_CODE" data-ng-model="Defect_Type_CODE" style="display: none;" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetDefectTypeMaster','DefectTypeMaster','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                    @*<span class="btn btn-default" aria-disabled="true"><i class="glyphicon glyphicon-new-window"></i></span>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.RDFS_Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="RDFSRemarks" data-ng-model="RDFSRemarks" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="RDST_Save" class="btn btn-info" onclick="SaveRDFSData()">Save</button>
                    <button type="button" id="RDST_Delete" class="btn btn-info" onclick="DeleteRDFS()">Delete</button>
                    <button type="button" id="RDST_Close" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="MaterialSupplyDetailModal" tabindex="-1" role="dialog" aria-labelledby="MSDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    @*<h4 class="modal-title" id="MSDModalLabel">Material Supply Detail</h4>*@
                    <h4 class="modal-title" id="MSDModalLabel">@LabelName.MaterialSupplyDetail_PopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="MSD_id" data-ng-model="MSD_id" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.Mat_MaterialBelongsTo<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Material_Belongs_To" data-ng-model="Material_Belongs_To" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetPlantMaster','GetPlantMaster','Plant List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                                <input type="text" class="form-control" id="Material_Belongs_To_ID" data-ng-model="Material_Belongs_To_ID" style="display: none;" />
                                                <input type="text" class="form-control" id="Material_Belongs_To_CODE" data-ng-model="Material_Belongs_To_CODE" style="display: none;" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.Mat_ProductSuppliedFrom
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Product_Supplied_From" data-ng-model="Product_Supplied_From" disabled="disabled" />
                                                <input type="text" class="form-control" id="Product_Supplied_From_ID" data-ng-model="Product_Supplied_From_ID" style="display: none;" />
                                                <input type="text" class="form-control" id="Product_Supplied_From_CODE" data-ng-model="Product_Supplied_From_CODE" style="display: none;" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductSuppliedFrom','Product_Supplied_From','Supplier List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.Mat_Name
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="MSD_Name" data-ng-model="MSD_Name" disabled="disabled" />
                                                <input type="text" class="form-control" id="MSD_Name_ID" data-ng-model="MSD_Name_ID" style="display: none;" />
                                                <input type="text" class="form-control" id="MSD_Name_CODE" data-ng-model="MSD_Name_CODE" style="display: none;" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetMSD_Name','MSD_Name','')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="MSD_Save" class="btn btn-info" onclick="SaveMSDData()">Save</button>
                    <button type="button" id="MSD_Delete" class="btn btn-info" onclick="DeleteMSD()">Delete</button>
                    <button type="button" id="MSD_Close" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="SupplyDetailModal" tabindex="-1" role="dialog" aria-labelledby="SDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    @*<h4 class="modal-title" id="MSDModalLabel">Material Supply Detail</h4>*@
                    <h4 class="modal-title" id="SDModalLabel">@LabelName.SupplyDetail_PopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="text" id="SD_id" data-ng-model="SD_id" style="display: none" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_ProductDetails<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_ProductDetails" data-ng-model="SD_ProductDetails" disabled="disabled" />
                                                <input type="text" class="form-control" id="SD_ProductDetails_ID" data-ng-model="SD_ProductDetails_ID" style="display: none" />
                                                <input type="text" class="form-control" id="SD_ProductDetails_CODE" data-ng-model="SD_ProductDetails_CODE" style="display: none" />
                                                <input type="text" class="form-control" id="SD_ProductSIZE" data-ng-model="SD_ProductSIZE" style="display: none" />

                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetSD_ProductMaster','GetProductMaster','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            @* //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS START.*@
                            <div class="col-sm-12" style="display:none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Plant Name
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_PlantName" data-ng-model="SD_PlantName" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @*//VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.END*@
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_InvoiceNo<span class="Mandatory SBU3Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_InvoiceNo" data-ng-model="SD_InvoiceNo" maxlength="10" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_InvoiceDate<span class="Mandatory SBU3Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_InvoiceDate" data-ng-model="SD_InvoiceDate" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_BatchNo
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BatchNo" data-ng-model="SD_BatchNo" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_SuppliedQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_SuppliedQtyNos" data-ng-model="SD_SuppliedQtyNos" onkeypress="return isInteger(event)" onchange="SuppliedBreakageQtyNosChange('SUPPLY')" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label BreakageQtyLabel" style="text-align: right; float: left;">
                                            Breakage Qty(Nos)
                                        </label><span class="Mandatory" style="float: left;">*</span>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BreakageQtyNos" data-ng-model="SD_BreakageQtyNos" onkeypress="return isInteger(event)" onchange="SuppliedBreakageQtyNosChange('BREAK')" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_Transporter
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Transporter" data-ng-model="SD_Transporter" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_DefectType<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_DefectType" data-ng-model="SD_DefectType" disabled="disabled" />
                                                <input type="text" class="form-control" id="SD_DefectType_ID" data-ng-model="SD_DefectType_ID" style="display: none" />
                                                <input type="text" class="form-control" id="SD_DefectType_CODE" data-ng-model="SD_DefectType_CODE" style="display: none" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetSD_DefectTypeMaster','DefectTypeMaster','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Remarks" data-ng-model="SD_Remarks" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            @* //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS START.*@
                            <div class="col-sm-12" style="display: none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;display: none">
                                            BasicAmount
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BasicAmount" data-ng-model="SD_BasicAmount" style="display: none" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @*//VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.END*@
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="SD_Save" class="btn btn-info" ng-click="SaveSDData()">Save</button>
                    <button type="button" id="SD_Delete" class="btn btn-info" onclick="DeleteSD()">Delete</button>
                    <button type="button" id="SD_Close" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="SupplyDetailModal_SBU2" tabindex="-1" role="dialog" aria-labelledby="SDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="SDModalLabel_SBU2">Supply Detail_SBU@*@LabelName.SupplyDetail_PopUp*@</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="text" id="SD_id_SBU2" data-ng-model="SD_id" style="display: none" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_InvoiceNo<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_InvoiceNo_SBU2" data-ng-model="SD_InvoiceNo" maxlength="10" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_ProductDetails<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_ProductDetails_SBU2" data-ng-model="SD_ProductDetails" disabled="disabled" />
                                                <input type="text" class="form-control" id="SD_ProductDetails_ID_SBU2" data-ng-model="SD_ProductDetails_ID" style="display: none" />
                                                <input type="text" class="form-control" id="SD_ProductDetails_CODE_SBU2" data-ng-model="SD_ProductDetails_CODE" style="display: none" />
                                                <input type="text" class="form-control" id="SD_ProductSIZE_SBU2" data-ng-model="SD_ProductSIZE" style="display: none" />

                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetSD_ProductMaster','GetProductMaster_SBU2','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_InvoiceDate<span class="Mandatory SBU3Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_InvoiceDate_SBU2" data-ng-model="SD_InvoiceDate" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_BatchNo
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BatchNo_SBU2" data-ng-model="SD_BatchNo" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_SuppliedQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_SuppliedQtyNos_SBU2" data-ng-model="SD_SuppliedQtyNos" onkeypress="return isInteger(event)" onchange="SuppliedBreakageQtyNosChange('SUPPLY')" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label BreakageQtyLabel" style="text-align: right; float: left;">
                                            Breakage Qty(Nos)
                                        </label><span class="Mandatory" style="float: left;">*</span>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BreakageQtyNos_SBU2" data-ng-model="SD_BreakageQtyNos" onkeypress="return isInteger(event)" onchange="SuppliedBreakageQtyNosChange('BREAK')" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_Transporter
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Transporter_SBU2" data-ng-model="SD_Transporter" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_DefectType<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_DefectType_SBU2" data-ng-model="SD_DefectType" disabled="disabled" />
                                                <input type="text" class="form-control" id="SD_DefectType_ID_SBU2" data-ng-model="SD_DefectType_ID" style="display: none" />
                                                <input type="text" class="form-control" id="SD_DefectType_CODE_SBU2" data-ng-model="SD_DefectType_CODE" style="display: none" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetSD_DefectTypeMaster','DefectTypeMaster','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Remarks_SBU2" data-ng-model="SD_Remarks" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="SD_Save_SBU2" class="btn btn-info" onclick="SaveSDData()">Save</button>
                    <button type="button" id="SD_Delete_SBU2" class="btn btn-info" onclick="DeleteSD()">Delete</button>
                    <button type="button" id="SD_Close_SBU2" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    @*//VIKAS G, 21-02-2023. START *@
    <div class="modal fade" id="SupplyDetailModalBU8" tabindex="-1" role="dialog" aria-labelledby="SDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    @*<h4 class="modal-title" id="MSDModalLabel">Material Supply Detail</h4>*@
                    <h4 class="modal-title" id="SDModalLabel">@LabelName.SupplyDetail_PopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="text" id="SD_id_BU8" data-ng-model="SD_id" style="display: none" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_ProductDetails<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_ProductDetails_BU8" data-ng-model="SD_ProductDetails_BU8" disabled="disabled" />
                                                <input type="text" class="form-control" id="SD_ProductDetails_ID_BU8" data-ng-model="SD_ProductDetails_ID_BU8" style="display: none" />
                                                <input type="text" class="form-control" id="SD_ProductDetails_CODE_BU8" data-ng-model="SD_ProductDetails_CODE_BU8" style="display: none" />
                                                <input type="text" class="form-control" id="SD_ProductSIZE_BU8" data-ng-model="SD_ProductSIZE_BU8" style="display: none" />

                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetSD_ProductMaster','GetProductMaster','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12" id="Categorydiv" style="display:none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Category
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Category_BU8" data-ng-model="SD_Category_BU8" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_InvoiceNo<span class="Mandatory SBU3Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_InvoiceNo_BU8" data-ng-model="SD_InvoiceNo_BU8" maxlength="10" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_InvoiceDate<span class="Mandatory SBU3Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_InvoiceDate_BU8" data-ng-model="SD_InvoiceDate" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_BatchNo
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BatchNo_BU8" data-ng-model="SD_BatchNo" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_SuppliedQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_SuppliedQtyNos_BU8" data-ng-model="SD_SuppliedQtyNos_BU8" onkeypress="return isInteger(event)" onchange="SuppliedBreakageQtyNosChange('SUPPLY')" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label BreakageQtyLabel" style="text-align: right; float: left;">
                                            Defect Qty(Nos)
                                        </label><span class="Mandatory" style="float: left;">*</span>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BreakageQtyNos_BU8" data-ng-model="SD_BreakageQtyNos_BU8" onkeypress="return isInteger(event)" onchange="SuppliedBreakageQtyNosChange('SUPPLY')" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_Transporter
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Transporter_BU8" data-ng-model="SD_Transporter" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_DefectType<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_DefectType_BU8" data-ng-model="SD_DefectType" disabled="disabled" />
                                                <input type="text" class="form-control" id="SD_DefectType_ID_BU8" data-ng-model="SD_DefectType_ID" style="display: none" />
                                                <input type="text" class="form-control" id="SD_DefectType_CODE_BU8" data-ng-model="SD_DefectType_CODE" style="display: none" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetSD_DefectTypeMaster','DefectTypeMaster','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Defect %
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_DefectPercnt_BU8" data-ng-model="SD_DefectPercnt_BU8" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelName.SD_Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Remarks_BU8" data-ng-model="SD_Remarks" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12" style="display: none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;display: none">
                                            BasicAmount
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_BasicAmount_BU8" data-ng-model="SD_BasicAmount" style="display: none" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="SD_Save_BU8" class="btn btn-info" ng-click="SaveSDData()">Save</button>
                    <button type="button" id="SD_Delete_BU8" class="btn btn-info" onclick="DeleteSD()">Delete</button>
                    <button type="button" id="SD_Close_BU8" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="InvoiceForm" tabindex="-1" role="dialog" aria-labelledby="InvoiceLabel" style="display:none" >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="InvoiceLabel">Invoice Form</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <textarea class="form-control" id="Approvals_Remarks" data-ng-model="Approvals_Remarks" maxlength="300"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <!--<button type="button" class="btn btn-info" ng-click="MakeApproved('Approved')">Approve</button>
                    <button type="button" class="btn btn-info" ng-click="MakeApproved('Rejected')">Reject</button>-->
                    @* //VIKAS G, 25-03-2022 SEND BACK REQUEST IN COMPLAINT REGISTRATION APPROVAL*@

                    <button type="button" id="SameInvoiceComplaintRegistration" class="btn btn-info" ng-click="SameInvoiceComplaintRegistration()">ok</button>
                    <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    @*//VIKAS G, 21-02-2023.SBU-8 END*@

    <div class="modal fade" id="ApprovalsActionForm" tabindex="-1" role="dialog" aria-labelledby="ApprovalsLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="ApprovalsLabel">Approvals Action Form</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <textarea class="form-control" id="Approvals_Remarks" data-ng-model="Approvals_Remarks" maxlength="300"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" ng-click="MakeApproved('Approved')">Approve</button>
                    <button type="button" class="btn btn-info" ng-click="MakeApproved('Rejected')">Reject</button>
                    @* //VIKAS G, 25-03-2022 SEND BACK REQUEST IN COMPLAINT REGISTRATION APPROVAL*@

                    <button type="button" id="SendBackRCData" class="btn btn-info" ng-click="SendBackRCData()">Send Back</button>
                    <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="ProductMasterAgainstInvoiceNoBU3Modal" tabindex="-1" role="dialog" aria-labelledby="Product_Master_PopUpLabel">
        <div class="modal-dialog" role="document" style="width: 97%;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="Product_Master_PopUpLabel">Product Master</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row" id="ProductMasterAgainstInvoiceNoBU3TableDiv">
                            <table id="ProductMasterAgainstInvoiceNoBU3Table" class="ListTable" style="width: 90%;">
                                <thead>
                                    <tr>
                                        <th id="Check_inv">@*<input type="checkbox" id="ProductListCheckAllSBU3" onchange="ProductListCheckAllSBU3Change()" />*@</th>

                                        <th>Product</th>
                                        <th>Product Category</th>
                                        <th>Division</th>
                                        @*//VIKAS G , 10-3-2022*@
                                        <th id="ProdinvPlantname">Plant Name</th>
                                        <th>Invoice</th>
                                        <th>Batch No</th>
                                        <th>Supplied Qty</th>
                                        <th>Defect Qty</th>
                                        <th>Transporter</th>
                                        <th id="invdefect">Defect Type</th>
                                        <th id="Remarks_inv">Remarks</th>
                                        @*//VIKAS G , 10-3-2022*@
                                        <th id="ProdinvRateperUnit">Rate Per Unit</th>
                                        @*<th>Basic Amount</th>*@
                                        <th id="complaint_id">Product Used in Complaint</th>

                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="Product_Master_PopUp_Save" class="btn btn-info" onclick="Product_Master_PopUpLabel_SaveClick()">Save</button>
                    @*<button type="button" id="Product_Master_PopUp_Calculate" class="btn btn-info" onclick="calculateBasicAmount()">Calculate</button>*@
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(window).resize(function () {
        $('.CustomHeight_Section').height($(window).height() - 170);
    });
    $('.CustomHeight_Section').height($(window).trigger('resize'));

    //Date Pickers
    $(function () {

        var ForeignDate = TodayDateTime;

        var ThreeMonthsBack = $("#ThreeMonthsBack").val();
        //20-05-2016 12:53:20
        //18/08/2016
        ThreeMonthsBack = (ThreeMonthsBack.split(' ')[0]).split('-');

        ForeignDate = ForeignDate.split('/')[1] + "/" + ForeignDate.split('/')[0] + "/" + ForeignDate.split('/')[2];
        ThreeMonthsBack = ThreeMonthsBack[1] + "/" + ThreeMonthsBack[0] + "/" + ThreeMonthsBack[2];

        $('#complaintReceivedDate_CRT').datepicker({
            format: 'dd/mm/yyyy',
            autoclose: true,
            endDate: new Date(ForeignDate),
            startDate: new Date(ThreeMonthsBack),
        });

        $('#complaintReceivedDate_CRT').on('show', function (e) {
            console.debug('show', e.date, $(this).data('stickyDate'));

            if (e.date) {
                $(this).data('stickyDate', e.date);
            }
            else {
                $(this).data('stickyDate', null);
            }
        });

        $('#complaintReceivedDate_CRT').on('hide', function (e) {
            console.debug('hide', e.date, $(this).data('stickyDate'));
            var stickyDate = $(this).data('stickyDate');

            if (!e.date && stickyDate) {
                console.debug('restore stickyDate', stickyDate);
                $(this).datepicker('setDate', stickyDate);
                $(this).data('stickyDate', null);
            }
        });

        $("#ComplaintRegistrationDate_CRT").datepicker({
            format: 'dd/mm/yyyy',
            autoclose: true,
            endDate: new Date(ForeignDate)
        });
        //$("#Approved_Date").datepicker({
        //    format: 'dd/mm/yyyy',
        //    autoclose: true
        //});
        $("#Invoice_Date").datepicker({
            format: 'dd/mm/yyyy',
            autoclose: true,
            endDate: new Date(ForeignDate)
        });
        $("#SD_InvoiceDate").datepicker({
            format: 'dd/mm/yyyy',
            autoclose: true,
            endDate: new Date(ForeignDate)
        });
        $("#FormIdentity").bind('change', function () {
            enabledisableFileUpload();
        });
        $("#SelectedFiles").on('change', function () {
            enabledisableFileUpload();
        });
        $("#Registration_Status").on('change', function () {
            enabledisableFileUpload();
        });
        $("#SD_InvoiceNo_SBU2").focusout(function () {
            //ValidateInvoice();
        });

        ////svprasadk 19-05-2020 SBU 1 requirement to add type of complaint start
        //$.ajax({
        //    type: 'POST',
        //    url: '../../ComplaintRegistration/GetTypeofComplaints',
        //    async: true,
        //    success: function (response) {
        //        $("#TYPE_OF_COMPLAINT").empty();

        //        if (response == "FALSE") {

        //        }
        //        else {
        //            response = JSON.parse(response);
        //            var option = "";
        //            option = '<option value="0">Select</option>';
        //            for (var i = 0; i < response.length; i++) {
        //                option += '<option value="' + response[i]["id"] + '">' + response[i]["COMPLAINT_TYPE"] + '</option>';
        //            }
        //            $("#TYPE_OF_COMPLAINT").append(option);
        //        }
        //    },
        //    error: function (xhr, ajaxOptions, thrownError) {
        //    }
        //});
        ////svprasadk 19-05-2020 SBU 1 requirement to add type of complaint end

        ////svprasadk 10-07-2020 SBU 1 requirement to add type of parties start
        //$.ajax({
        //    type: 'POST',
        //    url: '../../ComplaintRegistration/GetPartyTypes',
        //    async: true,
        //    success: function (response) {
        //        $("#party_type").empty();

        //        if (response == "FALSE") {
        //            alert('No Data Available');
        //        }
        //        else {
        //            response = JSON.parse(response);
        //            var option = "";
        //            option = '<option value="0">Select</option>';
        //            for (var i = 0; i < response.length; i++) {
        //                option += '<option value="' + response[i]["id"] + '">' + response[i]["PARTY_TYPE"] + '</option>';
        //            }
        //            $("#party_type").append(option);
        //        }
        //    },
        //    error: function (xhr, ajaxOptions, thrownError) {
        //    }
        //});
        ////svprasadk 10-07-2020 SBU 1 requirement to add type of parties end
        $('#ProductMasterAgainstInvoiceNoBU3Table').DataTable({
            "paging": false,
            "ordering": false,
            "info": false
        });       
    });

    
    //for validating Received and Breakage Quantity Nos Change
    function ReceivedBreakage_Qty_NosChange(IP) {
        try {
            var RQN = $("#Received_Qty_Nos").val();
            var BQN = $("#Breakage_Qty_Nos").val();

            if (RQN == "" || RQN == null || RQN == undefined || isNaN(RQN)) {
                $("#Received_Qty_Nos").val("");
                RQN = "";
            }
            else {
                $("#Received_Qty_Nos").val(parseInt(RQN));
            }


            if (BQN == "" || BQN == null || BQN == undefined || isNaN(BQN)) {
                $("#Breakage_Qty_Nos").val("");
                BQN = "";
            }
            else {
                $("#Breakage_Qty_Nos").val(parseInt(BQN));
            }



            if (BQN == "" || RQN == "") {
            }
            else {
                if (parseInt(BQN) > parseInt(RQN)) {
                    alert("Breakage Quantity Cannot be morethan Received Quantity");
                    $("#Breakage_Qty_Nos").val("");
                }
            }

        }
        catch (e) {
            alert("Error :ReceivedBreakage_Qty_NosChange : " + e);
        }

    }


    //for validating Supplied and Breakage Quantity Nos Change
    function SuppliedBreakageQtyNosChange(Req) {
        try {
            debugger
            var BU = $("#Product_Type_CODE").val();
            var Productcode = $("#Product_Category_CODE").val();
            if ((BU == "SBU3" && Productcode != "36")) {
                var Supply = $("#SD_SuppliedQtyNos").val();
                var Breakage = $("#SD_BreakageQtyNos").val();

                if (Supply == "" || Supply == null || Supply == undefined || isNaN(Supply)) {
                    $("#SD_SuppliedQtyNos").val("");
                    Supply = "";
                }
                else {
                    $("#SD_SuppliedQtyNos").val(parseInt(Supply));
                }

                if (Breakage == "" || Breakage == null || Breakage == undefined || isNaN(Breakage)) {
                    $("#SD_BreakageQtyNos").val("");
                    Breakage = "";
                }
                else {
                    $("#SD_BreakageQtyNos").val(parseFloat(Breakage));
                }


                if (Supply == "" || Breakage == "") {
                    return;
                }
                else {
                    if (parseInt(Breakage) > parseInt(Supply)) {
                        alert("Breakage Quantity Cannot be morethan Supply Quantity");
                        $("#SD_BreakageQtyNos").val("");
                    }
                    else {

                    }
                }
            }
            else if ((BU == "SBU8")) {
                var Supply = $("#SD_SuppliedQtyNos_BU8").val();
                var Breakage = $("#SD_BreakageQtyNos_BU8").val();

                if (Supply == "" || Supply == null || Supply == undefined || isNaN(Supply)) {
                    $("#SD_SuppliedQtyNos_BU8").val("");
                    Supply = "";
                }
                else {
                    $("#SD_SuppliedQtyNos_BU8").val(parseInt(Supply));
                }

                if (Breakage == "" || Breakage == null || Breakage == undefined || isNaN(Breakage)) {
                    $("#SD_BreakageQtyNos_BU8").val("");
                    Breakage = "";
                }
                else {
                    $("#SD_BreakageQtyNos_BU8").val(parseFloat(Breakage));
                }


                if (Supply == "" || Breakage == "") {
                    return;
                }
                else {
                    if (parseInt(Breakage) > parseInt(Supply)) {
                        alert("Breakage Quantity Cannot be morethan Supply Quantity");
                        $("#SD_BreakageQtyNos_BU8").val("");
                    }
                    else {

                    }
                }
                if (Breakage != "" || Breakage != undefined || Breakage != null) {
                    var Supply = $("#SD_SuppliedQtyNos_BU8").val();
                    var Breakage = $("#SD_BreakageQtyNos_BU8").val();
                    var Defectprct = $("#SD_DefectPercnt_BU8").val();

                    Defectprct = ((Breakage / Supply) * 100);
                    var DefectPercentage = Math.round(Defectprct);
                    var DefectPercentagenew = roundNumber(Defectprct, 3);

                    $("#SD_DefectPercnt_BU8").val(DefectPercentagenew);
                }
                else {
                }
            }
            else {
                var Supply = $("#SD_SuppliedQtyNos_SBU2").val();
                var Breakage = $("#SD_BreakageQtyNos_SBU2").val();

                if (Supply == "" || Supply == null || Supply == undefined || isNaN(Supply)) {
                    $("#SD_SuppliedQtyNos_SBU2").val("");
                    Supply = "";
                }
                else {
                    $("#SD_SuppliedQtyNos_SBU2").val(parseInt(Supply));
                }

                if (Breakage == "" || Breakage == null || Breakage == undefined || isNaN(Breakage)) {
                    $("#SD_BreakageQtyNos_SBU2").val("");
                    Breakage = "";
                }
                else {
                    $("#SD_BreakageQtyNos_SBU2").val(parseFloat(Breakage));
                }


                if (Supply == "" || Breakage == "") {
                    return;
                }
                else {
                    if (parseInt(Breakage) > parseInt(Supply)) {
                        alert("Breakage Quantity Cannot be morethan Supply Quantity");
                        $("#SD_BreakageQtyNos_SBU2").val("");
                    }
                    else {

                    }
                }
            }
        }
        catch (e) {
            alert("Error SuppliedBreakageQtyNosChange : " + e);
        }
    }


    function DefcetPercentageChange(Req) {
        try {
            debugger
            var BU = $("#Product_Type").val();
            var Productcode = $("#Product_Category_CODE").val();
           
                var Supply = $("#SD_SuppliedQtyNos_BU8").val();
                var Breakage = $("#SD_BreakageQtyNos_BU8").val();
            var Defectprct = $("#SD_DefectPercnt_BU8").val();

            Defectprct = ((Breakage / Supply) * 100);
            var DefectPercentage = Math.round(Defectprct);
            var DefectPercentagenew = roundNumber(Defectprct,3);

            $("#SD_DefectPercnt_BU8").val(DefectPercentagenew);
            
        }
        catch (e) {
            alert("Error DefcetPercentageChange : " + e);
        }
    }
    function roundNumber(num, decimalPlaces) {
        const factor = 10 ** decimalPlaces;
        return Math.round(num * factor) / factor;
    }



    /*       Receipt Details For Sheeting       */

    /*
    The Below functions are for Open Save Edit Delete operations on the Reciept Details for Sheeting Table
    */

    function OpenRDSTModel() {
        try {
            var CNO = $("#Customer_Code").val();
            if (CNO == "") {
                alert("Please Select Customer");
                return;
            }

            var Product_Type = $("#Product_Type").val();
            var Product_Category = $("#Product_Category").val();

            if (Product_Type == "") {
                alert("Please Select Product Type");
                return;
            }
            if (Product_Category == "") {
                alert("Please Select Product Division");
                return;
            }


            $("#RDFS_id").val("");
            $("#Item_Type_Product_Name").val("");
            $("#Size_M").val("");
            $("#Invoice_No").val("");
            $("#Invoice_Date").val("");
            $("#Batch_No").val("");
            $("#Received_Qty_Nos").val("");
            $("#Breakage_Qty_Nos").val("");
            $("#Defect_Type").val("");
            $("#RDFSRemarks").val("");

            $("#Defect_Type_ID").val("");
            $("#Defect_Type_CODE").val("");

            $("#Item_Type_Product_ID").val("");
            $("#Item_Type_Product_CODE").val("");

            $("#GrossWeight").val("");

            $("#RDST_Delete").hide();
            $("#RDST_Save").text("Save");

            $("#ReceiptDetailsForSheetingModal").modal('show');
        }
        catch (e) {
            alert("Error : OpenRDSTModel :" + e);
        }
    }


    function SaveRDFSData() {
        try {
            var RDFS_id = $("#RDFS_id").val();

            var Item_Type_Product_Name = $("#Item_Type_Product_Name").val();
            var Size_M = $("#Size_M").val();
            var Invoice_No = $("#Invoice_No").val();
            var Invoice_Date = $("#Invoice_Date").val();
            var Batch_No = $("#Batch_No").val();
            var Received_Qty_Nos = $("#Received_Qty_Nos").val();
            var Breakage_Qty_Nos = $("#Breakage_Qty_Nos").val();
            var Defect_Type = $("#Defect_Type").val();
            var RDFSRemarks = $("#RDFSRemarks").val();

            var Defect_Type_ID = $("#Defect_Type_ID").val();
            var Defect_Type_CODE = $("#Defect_Type_CODE").val();


            var Item_Type_Product_ID = $("#Item_Type_Product_ID").val();
            var Item_Type_Product_CODE = $("#Item_Type_Product_CODE").val();

            var GrossWeight = $("#GrossWeight").val();

            var Flag = 0;

            if (Item_Type_Product_Name == "") {
                Flag = Flag + 1;
                $("#Item_Type_Product_Name").css("border-color", "red");
            }
            else {
                $("#Item_Type_Product_Name").css("border-color", "#d2d6de");
            }

            if (Size_M == "") {
                Flag = Flag + 1;
                $("#Size_M").css("border-color", "red");
            }
            else {
                $("#Size_M").css("border-color", "#d2d6de");
            }

            if (Received_Qty_Nos == "") {
                Flag = Flag + 1;
                $("#Received_Qty_Nos").css("border-color", "red");
            }
            else {
                $("#Received_Qty_Nos").css("border-color", "#d2d6de");
            }

            if (Breakage_Qty_Nos == "") {
                Flag = Flag + 1;
                $("#Breakage_Qty_Nos").css("border-color", "red");
            }
            else {
                $("#Breakage_Qty_Nos").css("border-color", "#d2d6de");
            }

            if (Defect_Type == "") {
                Flag = Flag + 1;
                $("#Defect_Type").css("border-color", "red");
            }
            else {
                $("#Defect_Type").css("border-color", "#d2d6de");
            }

            $("#Item_Type_Product_Name").css("border-color", "#d2d6de");
            $("#Size_M").css("border-color", "#d2d6de");
            $("#Received_Qty_Nos").css("border-color", "#d2d6de");
            $("#Breakage_Qty_Nos").css("border-color", "#d2d6de");
            $("#Defect_Type").css("border-color", "#d2d6de");

            Flag = 0; //Changed as per Requirement Change on 9/Nov/2016     Rs : 500/- and Rs : 1000/- Notes no more legal tender in India any More.    Trump has won the US Elections

            if (Breakage_Qty_Nos == "" || Breakage_Qty_Nos == null) {
                alert("Please enter Breakage Quantity");
                //if (Flag > 0) {
                return;
            }
            else {


                if (Invoice_No == "") {
                }
                else if (Invoice_No.length == 10) {
                }
                else {
                    alert("Invalid Invoice Number");
                    return
                }

                var TRCode = "";

                TRCode = TRCode + "<td>" + Item_Type_Product_Name + "</td>";
                TRCode = TRCode + "<td>" + Size_M + "</td>";
                TRCode = TRCode + "<td>" + Invoice_No + "</td>";
                TRCode = TRCode + "<td>" + Invoice_Date + "</td>";
                TRCode = TRCode + "<td>" + Batch_No + "</td>";
                TRCode = TRCode + "<td>" + Received_Qty_Nos + "</td>";
                TRCode = TRCode + "<td>" + Breakage_Qty_Nos + "</td>";
                TRCode = TRCode + "<td>" + Defect_Type + "</td>";
                TRCode = TRCode + "<td>" + RDFSRemarks + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + Defect_Type_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + Defect_Type_CODE + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + Item_Type_Product_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + Item_Type_Product_CODE + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + GrossWeight + "</td>";

                if (RDFS_id == "") {
                    RDFS_id = $("#Receipt_Details_Sheeting_Table tbody tr").length + 1;
                    TRCode = "<tr class='MousePointer' id='RDSTTR_" + RDFS_id + "' onclick='EditRDST(this.id)'><td>" + RDFS_id + "</td>" + TRCode + "</tr>";
                    $("#Receipt_Details_Sheeting_Table tbody").append(TRCode);
                }
                else {
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[0].innerHTML = RDFS_id;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[1].innerHTML = Item_Type_Product_Name;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[2].innerHTML = Size_M;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[3].innerHTML = Invoice_No;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[4].innerHTML = Invoice_Date;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[5].innerHTML = Batch_No;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[6].innerHTML = Received_Qty_Nos;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[7].innerHTML = Breakage_Qty_Nos;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[8].innerHTML = Defect_Type;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[9].innerHTML = RDFSRemarks;

                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[10].innerHTML = Defect_Type_ID;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[11].innerHTML = Defect_Type_CODE;

                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[12].innerHTML = Item_Type_Product_ID;
                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[13].innerHTML = Item_Type_Product_CODE;

                    $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + " td")[14].innerHTML = GrossWeight;


                }


                $("#RDFS_id").val("");
                $("#Item_Type_Product_Name").val("");
                $("#Size_M").val("");
                $("#Invoice_No").val("");
                $("#Invoice_Date").val("");
                $("#Batch_No").val("");
                $("#Received_Qty_Nos").val("");
                $("#Breakage_Qty_Nos").val("");
                $("#Defect_Type").val("");
                $("#RDFSRemarks").val("");

                $("#Defect_Type_ID").val("");
                $("#Defect_Type_CODE").val("");

                $("#Item_Type_Product_ID").val("");
                $("#Item_Type_Product_CODE").val("");

                $("#GrossWeight").val("");

                $("#ReceiptDetailsForSheetingModal").modal("hide");
                SaveDataToServer('ReceiptDetailsForSheeting');
            }
            //OpenRDSTModel();
        }
        catch (e) {
            alert("Error : SaveRDFSData : " + e);
        }

    }


    function EditRDST(RowId) {
        try {

            var Registration_Status = $("#Registration_Status").val();

            var UserType = $("#UserType_ID").val();
            if (UserType == "CSM" || UserType == "QH" || UserType == "CSM_BU2" || UserType == "CSM_BU3") {

            }
            else if (Registration_Status == "Waiting for approval" || Registration_Status == "Complaint Registered" || Registration_Status == "DRAFT") {
            }
            else {
                return;
            }

            $("#RDFS_id").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[0].innerHTML);
            $("#Item_Type_Product_Name").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[1].innerHTML);
            $("#Size_M").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[2].innerHTML);
            $("#Invoice_No").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[3].innerHTML);
            $("#Invoice_Date").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[4].innerHTML);
            $("#Batch_No").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[5].innerHTML);
            $("#Received_Qty_Nos").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[6].innerHTML);
            $("#Breakage_Qty_Nos").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[7].innerHTML);
            $("#Defect_Type").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[8].innerHTML);
            $("#RDFSRemarks").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[9].innerHTML);

            $("#Defect_Type_ID").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[10].innerHTML);
            $("#Defect_Type_CODE").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[11].innerHTML);

            $("#Item_Type_Product_ID").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[12].innerHTML);
            $("#Item_Type_Product_CODE").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[13].innerHTML);

            $("#GrossWeight").val($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[14].innerHTML);

            $("#ReceiptDetailsForSheetingModal").modal('show');

            $("#RDST_Delete").show();

            $("#RDST_Save").text("Update");
            //SaveDataToServer('ReceiptDetailsForSheeting');
        }
        catch (e) {
            alert("Error : EditRDST : " + e);
        }

    }


    function DeleteRDFS() {
        try {
            var RDFS_id = $("#RDFS_id").val();

            $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + RDFS_id + "").remove();

            $("#RDFS_id").val("");
            $("#Item_Type_Product_Name").val("");
            $("#Size_M").val("");
            $("#Invoice_No").val("");
            $("#Invoice_Date").val("");
            $("#Batch_No").val("");
            $("#Received_Qty_Nos").val("");
            $("#Breakage_Qty_Nos").val("");
            $("#Defect_Type").val("");
            $("#RDFSRemarks").val("");

            $("#Defect_Type_ID").val("");
            $("#Defect_Type_CODE").val("");

            $("#Item_Type_Product_ID").val("");
            $("#Item_Type_Product_CODE").val("");

            $("#GrossWeight").val("");

            $("#ReceiptDetailsForSheetingModal").modal("hide");

            var i = 1;

            $("#Receipt_Details_Sheeting_Table tbody tr").each(function () {
                $(this).attr("id", "RDSTTR_" + i);
                $("#Receipt_Details_Sheeting_Table tbody #RDSTTR_" + i + " td")[0].innerHTML = i;
                i = i + 1;
            });
            SaveDataToServer('ReceiptDetailsForSheeting');
        }
        catch (e) {
            alert("Error : DeleteRDFS : " + e);
        }

    }


    /*       Receipt Details For Sheeting       */




    /*       Material Supply Detail       */

    /*
   The Below functions are for Open Save Edit Delete operations on the Material Supply Details table
   */

    function OpenMSDModel() {
        try {
            //Vikas G, Avinash requirement of SBU2 and SBU3 validation of Invoice no. Start
            //if ($("#Material_Supply_Detail_Table tbody tr").length != 0) {
            // alert("You cannot add more than one plant");
            //return;
            //}
            //Vikas G, Avinash requirement of SBU2 and SBU3 validation of Invoice no. End
            var CNO = $("#Customer_Code").val();
            if (CNO == "") {
                alert("Please Select Customer");
                return;
            }

            $("#MSD_id").val("");
            $("#Material_Belongs_To").val("");
            $("#Product_Supplied_From").val("");
            $("#MSD_Name").val("");


            $("#Material_Belongs_To_ID").val("");
            $("#Material_Belongs_To_CODE").val("");
            $("#Product_Supplied_From_ID").val("");
            $("#Product_Supplied_From_CODE").val("");
            $("#MSD_Name_ID").val("");
            $("#MSD_Name_CODE").val("");


            $("#MSD_Delete").hide();
            $("#MSD_Save").text("Save");

            $("#MaterialSupplyDetailModal").modal('show');
        }
        catch (e) {
            alert("Error : MaterialSupplyDetailModal :" + e);
        }
    }


    function SaveMSDData() {
        try {
            var MSD_id = $("#MSD_id").val();
            var Material_Belongs_To = $("#Material_Belongs_To").val();
            var Product_Supplied_From = $("#Product_Supplied_From").val();
            var MSD_Name = $("#MSD_Name").val();


            var Material_Belongs_To_ID = $("#Material_Belongs_To_ID").val();
            var Material_Belongs_To_CODE = $("#Material_Belongs_To_CODE").val();
            var Product_Supplied_From_ID = $("#Product_Supplied_From_ID").val();
            var Product_Supplied_From_CODE = $("#Product_Supplied_From_CODE").val();
            var MSD_Name_ID = $("#MSD_Name_ID").val();
            var MSD_Name_CODE = $("#MSD_Name_CODE").val();

            var Flag = 0;

            if (Material_Belongs_To == "") {
                Flag = Flag + 1;
                $("#Material_Belongs_To").css("border-color", "red");
            }
            else {
                $("#Material_Belongs_To").css("border-color", "#d2d6de");
            }

            if (Flag > 0) {
                return;
            }
            else {
                var TRCode = "";

                TRCode = TRCode + "<td>" + Material_Belongs_To + "</td>";
                TRCode = TRCode + "<td>" + Product_Supplied_From + "</td>";
                TRCode = TRCode + "<td>" + MSD_Name + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + Material_Belongs_To_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + Material_Belongs_To_CODE + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + Product_Supplied_From_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + Product_Supplied_From_CODE + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + MSD_Name_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + MSD_Name_CODE + "</td>";

                if (MSD_id == "") {
                    MSD_id = $("#Material_Supply_Detail_Table tbody tr").length + 1;

                    TRCode = "<tr class='MousePointer' id='MSD_" + MSD_id + "' onclick='EditMSD(this.id)'><td>" + MSD_id + "</td>" + TRCode + "</tr>";
                    $("#Material_Supply_Detail_Table tbody").append(TRCode);
                }
                else {
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[0].innerHTML = MSD_id;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[1].innerHTML = Material_Belongs_To;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[2].innerHTML = Product_Supplied_From;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[3].innerHTML = MSD_Name;


                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[4].innerHTML = Material_Belongs_To_ID;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[5].innerHTML = Material_Belongs_To_CODE;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[6].innerHTML = Product_Supplied_From_ID;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[7].innerHTML = Product_Supplied_From_CODE;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[8].innerHTML = MSD_Name_ID;
                    $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + " td")[9].innerHTML = MSD_Name_CODE;



                    $("#Material_Belongs_To_ID").val("");
                    $("#Material_Belongs_To_CODE").val("");
                    $("#Product_Supplied_From_ID").val("");
                    $("#Product_Supplied_From_CODE").val("");
                    $("#MSD_Name_ID").val("");
                    $("#MSD_Name_CODE").val("");
                }


                $("#MSD_id").val("");
                $("#Material_Belongs_To").val("");
                $("#Product_Supplied_From").val("");
                $("#MSD_Name").val("");


                $("#Material_Belongs_To_ID").val("");
                $("#Material_Belongs_To_CODE").val("");
                $("#Product_Supplied_From_ID").val("");
                $("#Product_Supplied_From_CODE").val("");
                $("#MSD_Name_ID").val("");
                $("#MSD_Name_CODE").val("");


                $("#MaterialSupplyDetailModal").modal("hide");
            }

            SaveDataToServer('MaterialSupplyDetail');
            //OpenMSDModel();
        }
        catch (e) {
            alert("Error : SaveMSDData :" + e);
        }
    }


    function EditMSD(RowId) {
        try {

            var Registration_Status = $("#Registration_Status").val();

            var UserType = $("#UserType_ID").val();
            if (UserType == "CSM" || UserType == "QH" || UserType == "CSM_BU2" || UserType == "CSM_BU3") {
            }
            else if (Registration_Status == "Waiting for approval" || Registration_Status == "Complaint Registered" || Registration_Status == "DRAFT") {
            }
            else {
                return;
            }

            $("#MSD_id").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[0].innerHTML);
            $("#Material_Belongs_To").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[1].innerHTML);
            $("#Product_Supplied_From").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[2].innerHTML);
            $("#MSD_Name").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[3].innerHTML);

            $("#Material_Belongs_To_ID").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[4].innerHTML);
            $("#Material_Belongs_To_CODE").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[5].innerHTML);
            $("#Product_Supplied_From_ID").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[6].innerHTML);
            $("#Product_Supplied_From_CODE").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[7].innerHTML);
            $("#MSD_Name_ID").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[8].innerHTML);
            $("#MSD_Name_CODE").val($("#Material_Supply_Detail_Table tbody #" + RowId + " td")[9].innerHTML);


            $("#MaterialSupplyDetailModal").modal('show');
            $("#MSD_Delete").show();
            $("#MSD_Save").text("Update");
        }
        catch (e) {
            alert("Error : EditMSD : " + e);
        }

    }


    function DeleteMSD() {
        try {
            var MSD_id = $("#MSD_id").val();

            $("#Material_Supply_Detail_Table tbody #MSD_" + MSD_id + "").remove();

            $("#MSD_id").val("");
            $("#Material_Belongs_To").val("");
            $("#Product_Supplied_From").val("");
            $("#MSD_Name").val("");

            $("#Material_Belongs_To_ID").val("");
            $("#Material_Belongs_To_CODE").val("");
            $("#Product_Supplied_From_ID").val("");
            $("#Product_Supplied_From_CODE").val("");
            $("#MSD_Name_ID").val("");
            $("#MSD_Name_CODE").val("");

            $("#MaterialSupplyDetailModal").modal("hide");

            var i = 1;

            $("#Material_Supply_Detail_Table tbody tr").each(function () {
                $(this).attr("id", "MSD_" + i);
                $("#Material_Supply_Detail_Table tbody #MSD_" + i + " td")[0].innerHTML = i;
                i = i + 1;
            });

            $("#MaterialSupplyDetailModal").modal("hide");
            SaveDataToServer('MaterialSupplyDetail');
        }
        catch (e) {
            alert("Error : DeleteMSD : " + e);
        }

    }

    /*       Material Supply Detail       */



    /*      SupplyDetailsModel          */

    /*
   The Below functions are for Open Save Edit Delete operations on the Supply Deatils Table
   */


    function OpenSupDetModel() {
        try {

            //Vikas G, Avinash requirement of SBU2 and SBU3 validation of Invoice no. Start
            //if ($("#Material_Supply_Detail_Table tbody tr").length == 0)
            //{
            //     alert("Materials Supply Details are Mandatory");
            //    return;
            //}
            //Vikas G, Avinash requirement of SBU2 and SBU3 validation of Invoice no. End
            var CNO = $("#Customer_Code").val();
            if (CNO == "") {
                alert("Please Select Customer");
                return;
            }

            var Product_Type = $("#Product_Type_CODE").val();
            var Product_Category = $("#Product_Category").val();
            var Product_Category_CODE = $("#Product_Category_CODE").val();

            if (Product_Type == "") {
                alert("Please Select Product Type");
                return;
            }
            if (Product_Category == "") {
                alert("Please Select Product Division");
                return;
            }

            $("#SD_id").val("");
            $("#SD_ProductDetails").val("");
            //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
            $("#SD_PlantName").val("");
            $("#SD_InvoiceNo").val("");
            $("#SD_InvoiceDate").val("");
            $("#SD_BatchNo").val("");
            $("#SD_SuppliedQtyNos").val("");
            $("#SD_BreakageQtyNos").val("");
            $("#SD_Transporter").val("");
            $("#SD_DefectType").val("");
            $("#SD_Remarks").val("");
            //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
            $("#SD_BasicAmount").val("");

            //For SBU2 ProductType
            $("#SD_id_SBU2").val("");
            $("#SD_ProductDetails_SBU2").val("");
            $("#SD_InvoiceNo_SBU2").val("");
            $("#SD_InvoiceDate_SBU2").val("");
            $("#SD_BatchNo_SBU2").val("");
            $("#SD_SuppliedQtyNos_SBU2").val("");
            $("#SD_BreakageQtyNos_SBU2").val("");
            $("#SD_Transporter_SBU2").val("");
            $("#SD_DefectType_SBU2").val("");
            $("#SD_Remarks_SBU2").val("");

            $("#SD_ProductDetails_ID").val("");
            $("#SD_ProductDetails_CODE").val("");

            $("#SD_ProductDetails_ID_SBU2").val("");
            $("#SD_ProductDetails_CODE_SBU2").val("");

            $("#SD_DefectType_ID").val("");
            $("#SD_DefectType_CODE").val("");

            $("#SD_DefectType_ID_SBU2").val("");
            $("#SD_DefectType_CODE_SBU2").val("");

            $("#SD_ProductSIZE").val("");
            $("#SD_ProductSIZE_SBU2").val("");
            $("#SD_Delete").hide();
            $("#SD_Save").text("Save");
            $("#SD_Delete_SBU2").hide();
            $("#SD_Save_SBU2").text("Save");

            $("#SD_id_BU8").val("");
            $("#SD_ProductDetails_BU8").val("");
            $("#SD_Category_BU8").val("");
            $("#SD_InvoiceNo_BU8").val("");
            $("#SD_InvoiceDate_BU8").val("");
            $("#SD_BatchNo_BU8").val("");
            $("#SD_SuppliedQtyNos_BU8").val("");
            $("#SD_BreakageQtyNos_BU8").val("");
            $("#SD_Transporter_BU8").val("");
            $("#SD_DefectType_BU8").val("");
            $("#SD_DefectPercnt_BU8").val("");
            $("#SD_Remarks_BU8").val("");
            $("#SD_BasicAmount_BU8").val("");
            $("#SD_ProductDetails_ID_BU8").val("");
            $("#SD_ProductDetails_CODE_BU8").val("");
            $("#SD_DefectType_ID_BU8").val("");
            $("#SD_DefectType_CODE_BU8").val("");
            $("#SD_ProductSIZE_BU8").val("");
            $("#SD_Delete_BU8").hide();
            $("#SD_Save_BU8").text("Save");
            debugger
            if (Product_Type == "SBU3" && Product_Category_CODE == "36") {
                $("#SupplyDetailModal_SBU2").modal('show');

            }
            //VIKAS G, 2023-21-02 SBU8 START.
            else if (Product_Type == "SBU8") {
                $("#SupplyDetailModalBU8").modal('show');
            }
            //VIKAS G, 2023-21-02 SBU8 END.
            else if (Product_Type != "SBU2") {
                $("#SupplyDetailModal").modal('show');
            }
            else {
                $("#THCategory").hide();
                $("#THDefectprct").hide();
                $("#SupplyDetailModal_SBU2").modal('show');
            }
        }
        catch (e) {
            alert("Error : OpenSupDetModel :" + e);
        }
    }


    function SaveSDData() {
        debugger
        try {
            var ProdType = $("#Product_Type").val();
            var SD_id;
            var SD_ProductDetails;
            var SD_ProductDetails_ID;
            var SD_ProductDetails_CODE;
            //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
            //var SD_PlantName;
            var SD_InvoiceNo;
            var SD_InvoiceDate;
            var SD_BatchNo;
            var SD_SuppliedQtyNos;
            var SD_BreakageQtyNos;
            var SD_Transporter;
            var SD_DefectType;
            var SD_DefectType_ID;
            var SD_DefectType_CODE;
            var SD_Remarks;
            //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
            //var SD_BasicAmount;
            var SD_ProductSIZE;
            var Flag = 0;
            var Product_Category_CODE = $("#Product_Category_CODE").val();

            if (ProdType != "SBU2") {
                if (ProdType == "SBU3" && Product_Category_CODE == "36") {
                    SD_id = $("#SD_id_SBU2").val();
                    SD_ProductDetails = $("#SD_ProductDetails_SBU2").val();

                    SD_ProductDetails_ID = $("#SD_ProductDetails_ID_SBU2").val();
                    SD_ProductDetails_CODE = $("#SD_ProductDetails_CODE_SBU2").val();


                    SD_InvoiceNo = $("#SD_InvoiceNo_SBU2").val();
                    SD_InvoiceDate = $("#SD_InvoiceDate_SBU2").val();
                    SD_BatchNo = $("#SD_BatchNo_SBU2").val();
                    SD_SuppliedQtyNos = $("#SD_SuppliedQtyNos_SBU2").val();
                    SD_BreakageQtyNos = $("#SD_BreakageQtyNos_SBU2").val();
                    SD_Transporter = $("#SD_Transporter_SBU2").val();
                    SD_DefectType = $("#SD_DefectType_SBU2").val();

                    SD_DefectType_ID = $("#SD_DefectType_ID_SBU2").val();
                    SD_DefectType_CODE = $("#SD_DefectType_CODE_SBU2").val();

                    SD_Remarks = $("#SD_Remarks_SBU2").val();

                    SD_ProductSIZE = $("#SD_ProductSIZE_SBU2").val();

                    if (SD_InvoiceNo == "") {
                        Flag = Flag + 1;
                        $("#SD_InvoiceNo_SBU2").css("border-color", "red");
                    }
                    else {
                        $("#SD_InvoiceNo_SBU2").css("border-color", "#d2d6de");
                    }

                    if (SD_ProductDetails == "") {
                        Flag = Flag + 1;
                        $("#SD_ProductDetails_SBU2").css("border-color", "red");
                    }
                    else {
                        $("#SD_ProductDetails_SBU2").css("border-color", "#d2d6de");
                    }

                    if (SD_SuppliedQtyNos == "") {
                        Flag = Flag + 1;
                        $("#SD_SuppliedQtyNos_SBU2").css("border-color", "red");
                    }
                    else {
                        $("#SD_SuppliedQtyNos_SBU2").css("border-color", "#d2d6de");
                    }

                    if (SD_BreakageQtyNos == "") {
                        Flag = Flag + 1;
                        $("#SD_BreakageQtyNos_SBU2").css("border-color", "red");
                    }
                    else {
                        $("#SD_BreakageQtyNos_SBU2").css("border-color", "#d2d6de");
                    }

                    if (SD_DefectType == "") {
                        Flag = Flag + 1;
                        $("#SD_DefectType_SBU2").css("border-color", "red");
                    }
                    else {
                        $("#SD_DefectType_SBU2").css("border-color", "#d2d6de");
                    }
                }
                else {
                    SD_id = $("#SD_id").val();
                    SD_ProductDetails = $("#SD_ProductDetails").val();

                    SD_ProductDetails_ID = $("#SD_ProductDetails_ID").val();
                    SD_ProductDetails_CODE = $("#SD_ProductDetails_CODE").val();
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    //SD_PlantName = $("#SD_PlantName").val();

                    SD_InvoiceNo = $("#SD_InvoiceNo").val();
                    SD_InvoiceDate = $("#SD_InvoiceDate").val();
                    SD_BatchNo = $("#SD_BatchNo").val();
                    SD_SuppliedQtyNos = $("#SD_SuppliedQtyNos").val();
                    SD_BreakageQtyNos = $("#SD_BreakageQtyNos").val();
                    SD_Transporter = $("#SD_Transporter").val();
                    SD_DefectType = $("#SD_DefectType").val();

                    SD_DefectType_ID = $("#SD_DefectType_ID").val();
                    SD_DefectType_CODE = $("#SD_DefectType_CODE").val();

                    SD_Remarks = $("#SD_Remarks").val();
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    //SD_BasicAmount = $("#SD_BasicAmount").val();

                    SD_ProductSIZE = $("#SD_ProductSIZE").val();

                    if (SD_ProductDetails == "") {
                        Flag = Flag + 1;
                        $("#SD_ProductDetails").css("border-color", "red");
                    }
                    else {
                        $("#SD_ProductDetails").css("border-color", "#d2d6de");
                    }

                    if (SD_SuppliedQtyNos == "") {
                        Flag = Flag + 1;
                        $("#SD_SuppliedQtyNos").css("border-color", "red");
                    }
                    else {
                        $("#SD_SuppliedQtyNos").css("border-color", "#d2d6de");
                    }

                    if (SD_BreakageQtyNos == "") {
                        Flag = Flag + 1;
                        $("#SD_BreakageQtyNos").css("border-color", "red");
                    }
                    else {
                        $("#SD_BreakageQtyNos").css("border-color", "#d2d6de");
                    }

                    if (SD_DefectType == "") {
                        Flag = Flag + 1;
                        $("#SD_DefectType").css("border-color", "red");
                    }
                    else {
                        $("#SD_DefectType").css("border-color", "#d2d6de");
                    }
                }
            }
            else {
                SD_id = $("#SD_id_SBU2").val();
                SD_ProductDetails = $("#SD_ProductDetails_SBU2").val();

                SD_ProductDetails_ID = $("#SD_ProductDetails_ID_SBU2").val();
                SD_ProductDetails_CODE = $("#SD_ProductDetails_CODE_SBU2").val();


                SD_InvoiceNo = $("#SD_InvoiceNo_SBU2").val();
                SD_InvoiceDate = $("#SD_InvoiceDate_SBU2").val();
                SD_BatchNo = $("#SD_BatchNo_SBU2").val();
                SD_SuppliedQtyNos = $("#SD_SuppliedQtyNos_SBU2").val();
                SD_BreakageQtyNos = $("#SD_BreakageQtyNos_SBU2").val();
                SD_Transporter = $("#SD_Transporter_SBU2").val();
                SD_DefectType = $("#SD_DefectType_SBU2").val();

                SD_DefectType_ID = $("#SD_DefectType_ID_SBU2").val();
                SD_DefectType_CODE = $("#SD_DefectType_CODE_SBU2").val();

                SD_Remarks = $("#SD_Remarks_SBU2").val();

                SD_ProductSIZE = $("#SD_ProductSIZE_SBU2").val();

                if (SD_InvoiceNo == "") {
                    Flag = Flag + 1;
                    $("#SD_InvoiceNo_SBU2").css("border-color", "red");
                }
                else {
                    $("#SD_InvoiceNo_SBU2").css("border-color", "#d2d6de");
                }

                if (SD_ProductDetails == "") {
                    Flag = Flag + 1;
                    $("#SD_ProductDetails_SBU2").css("border-color", "red");
                }
                else {
                    $("#SD_ProductDetails_SBU2").css("border-color", "#d2d6de");
                }

                if (SD_SuppliedQtyNos == "") {
                    Flag = Flag + 1;
                    $("#SD_SuppliedQtyNos_SBU2").css("border-color", "red");
                }
                else {
                    $("#SD_SuppliedQtyNos_SBU2").css("border-color", "#d2d6de");
                }

                if (SD_BreakageQtyNos == "") {
                    Flag = Flag + 1;
                    $("#SD_BreakageQtyNos_SBU2").css("border-color", "red");
                }
                else {
                    $("#SD_BreakageQtyNos_SBU2").css("border-color", "#d2d6de");
                }

                if (SD_DefectType == "") {
                    Flag = Flag + 1;
                    $("#SD_DefectType_SBU2").css("border-color", "red");
                }
                else {
                    $("#SD_DefectType_SBU2").css("border-color", "#d2d6de");
                }
            }

            if ((ProdType == "SBU3" && Product_Category_CODE != "36")) {
                if (SD_InvoiceNo == "") {
                    Flag = Flag + 1;
                    $("#SD_InvoiceNo").css("border-color", "red");
                }
                else {
                    $("#SD_InvoiceNo").css("border-color", "#d2d6de");
                }


                if (SD_InvoiceDate == "") {
                    Flag = Flag + 1;
                    $("#SD_InvoiceDate").css("border-color", "red");
                }
                else {
                    $("#SD_InvoiceDate").css("border-color", "#d2d6de");
                }

            }


            if (Flag > 0) {
                return;
            }
            else {

                if (SD_InvoiceNo == "") {
                }
                else if (SD_InvoiceNo.length == 10) {
                }
                else {
                    alert("Invalid Invoice Number");
                    return
                }


                var TRCode = "";

                //if (ProdType == "SBU3" && Product_Category_CODE != "36") {
                //    TRCode = TRCode + "<td>" + SD_ProductDetails_CODE + "<br />" + SD_ProductDetails + "</td>";
                //} else {
                TRCode = TRCode + "<td>" + SD_ProductDetails + "</td>";
                //}
                //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                //TRCode = TRCode + "<td>" + SD_PlantName + "</td>";
                TRCode = TRCode + "<td>" + SD_InvoiceNo + "</td>";
                TRCode = TRCode + "<td>" + SD_InvoiceDate + "</td>";

                TRCode = TRCode + "<td>" + SD_BatchNo + "</td>";
                TRCode = TRCode + "<td>" + SD_SuppliedQtyNos + "</td>";
                TRCode = TRCode + "<td>" + SD_BreakageQtyNos + "</td>";

                TRCode = TRCode + "<td>" + SD_Transporter + "</td>";
                TRCode = TRCode + "<td>" + SD_DefectType + "</td>";
                TRCode = TRCode + "<td>" + SD_Remarks + "</td>";
                //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                //TRCode = TRCode + "<td>" + SD_BasicAmount + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + SD_ProductDetails_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + SD_ProductDetails_CODE + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + SD_DefectType_ID + "</td>";
                TRCode = TRCode + "<td style='display:none'>" + SD_DefectType_CODE + "</td>";

                TRCode = TRCode + "<td style='display:none'>" + SD_ProductSIZE + "</td>";


                if (SD_id == "") {
                    SD_id = $("#SupplyDetails_Table tbody tr").length + 1;

                    TRCode = "<tr class='MousePointer' id='SD_" + SD_id + "' onclick='EditSD(this.id)'><td>" + SD_id + "</td>" + TRCode + "</tr>";
                    $("#SupplyDetails_Table tbody").append(TRCode);
                }
                else {
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[0].innerHTML = SD_id;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[1].innerHTML = SD_ProductDetails;
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    //$("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[2].innerHTML = SD_PlantName;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[2].innerHTML = SD_InvoiceNo;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[3].innerHTML = SD_InvoiceDate;

                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[4].innerHTML = SD_BatchNo;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[5].innerHTML = SD_SuppliedQtyNos;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[6].innerHTML = SD_BreakageQtyNos;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[7].innerHTML = SD_Transporter;

                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[8].innerHTML = SD_DefectType;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[9].innerHTML = SD_Remarks;
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    //$("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[11].innerHTML = SD_BasicAmount;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[10].innerHTML = SD_ProductDetails_ID;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[11].innerHTML = SD_ProductDetails_CODE;

                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[12].innerHTML = SD_DefectType_ID;
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[13].innerHTML = SD_DefectType_CODE;

                    $("#SupplyDetails_Table tbody #SD_" + SD_id + " td")[14].innerHTML = SD_ProductSIZE;

                }


                $("#SD_id").val("");
                $("#SD_ProductDetails").val("");
                //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                //$("#SD_PlantName").val("");
                $("#SD_InvoiceNo").val("");
                $("#SD_InvoiceDate").val("");
                $("#SD_BatchNo").val("");
                $("#SD_SuppliedQtyNos").val("");
                $("#SD_BreakageQtyNos").val("");
                $("#SD_Transporter").val("");
                $("#SD_DefectType").val("");
                $("#SD_Remarks").val("");
                //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                //$("#SD_BasicAmount").val("");
                $("#SD_ProductDetails_ID").val("");
                $("#SD_ProductDetails_CODE").val("");

                $("#SD_DefectType_ID").val("");
                $("#SD_DefectType_CODE").val("");

                $("#SD_ProductSIZE").val("");

                $("#SD_id_SBU2").val("");
                $("#SD_ProductDetails_SBU2").val("");
                $("#SD_InvoiceNo_SBU2").val("");
                $("#SD_InvoiceDate_SBU2").val("");
                $("#SD_BatchNo_SBU2").val("");
                $("#SD_SuppliedQtyNos_SBU2").val("");
                $("#SD_BreakageQtyNos_SBU2").val("");
                $("#SD_Transporter_SBU2").val("");
                $("#SD_DefectType_SBU2").val("");
                $("#SD_Remarks_SBU2").val("");

                $("#SD_ProductDetails_ID_SBU2").val("");
                $("#SD_ProductDetails_CODE_SBU2").val("");

                $("#SD_DefectType_ID_SBU2").val("");
                $("#SD_DefectType_CODE_SBU2").val("");

                $("#SD_ProductSIZE_SBU2").val("");

                $("#SupplyDetailModal").modal("hide");
                $("#SupplyDetailModal_SBU2").modal("hide");
                SaveDataToServer('SupplyDetails');
            }
            //OpenSupDetModel();
        }
        catch (e) {
            alert("Error : SaveSDData :" + e);
        }
    }


    function EditSD(RowId) {
        try {
            debugger
            var Registration_Status = $("#Registration_Status").val();
            var ProdType = $("#Product_Type").val();
            var UserType = $("#UserType_ID").val();
            var Product_Category_CODE = $("#Product_Category_CODE").val();
            if (UserType == "CSM" || UserType == "QH" || UserType == "CSM_BU2" || UserType == "CSM_BU3") {

            }
            else if (Registration_Status == "Waiting for approval" || Registration_Status == "Complaint Registered" || Registration_Status == "DRAFT") {
            }
            else {
                return;
            }
            if (ProdType != "SBU2") {
                if (ProdType == "SBU3" && Product_Category_CODE == "36") {
                    $("#SD_id_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML);
                    $("#SD_ProductDetails_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML);
                    $("#SD_InvoiceNo_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML);
                    $("#SD_InvoiceDate_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML);
                    $("#SD_BatchNo_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML);
                    $("#SD_SuppliedQtyNos_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML);
                    $("#SD_BreakageQtyNos_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML);
                    $("#SD_Transporter_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML);
                    $("#SD_DefectType_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML);
                    $("#SD_Remarks_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML);

                    $("#SD_ProductDetails_ID_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML);
                    $("#SD_ProductDetails_CODE_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML);

                    $("#SD_DefectType_ID_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML);
                    $("#SD_DefectType_CODE_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML);

                    $("#SD_ProductSIZE_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML);


                    $("#SupplyDetailModal_SBU2").modal('show');
                    $("#SD_Delete_SBU2").show();
                    $("#SD_Save_SBU2").text("Update");
                }
                else if (ProdType == "SBU8" ) {
                    $("#SD_id_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML);
                    $("#SD_ProductDetails_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML);
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    $("#SD_Category_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML);
                    $("#SD_InvoiceNo_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML);
                    $("#SD_InvoiceDate_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML);
                    $("#SD_BatchNo_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML);
                    $("#SD_SuppliedQtyNos_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML);
                    $("#SD_BreakageQtyNos_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML);
                    $("#SD_Transporter_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML);
                    $("#SD_DefectType_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML);
                    $("#SD_DefectPercnt_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML);
                    $("#SD_Remarks_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML);
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    $("#SD_BasicAmount_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML);

                    $("#SD_ProductDetails_ID_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML);
                    $("#SD_ProductDetails_CODE_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML);

                    $("#SD_DefectType_ID_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[15].innerHTML);
                    $("#SD_DefectType_CODE_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[16].innerHTML);

                    $("#SD_ProductSIZE_BU8").val($("#SupplyDetails_Table tbody #" + RowId + " td")[17].innerHTML);


                    $("#SupplyDetailModalBU8").modal('show');
                    $("#SD_Delete_BU8").show();
                    $("#SD_Save_BU8").text("Update");
                }
                else {
                    $("#SD_id").val($("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML);
                    $("#SD_ProductDetails").val($("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML);
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    $("#SD_PlantName").val($("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML);
                    $("#SD_InvoiceNo").val($("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML);
                    $("#SD_InvoiceDate").val($("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML);
                    $("#SD_BatchNo").val($("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML);
                    $("#SD_SuppliedQtyNos").val($("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML);
                    $("#SD_BreakageQtyNos").val($("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML);
                    $("#SD_Transporter").val($("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML);
                    $("#SD_DefectType").val($("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML);
                    $("#SD_Remarks").val($("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML);
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    $("#SD_BasicAmount").val($("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML);

                    $("#SD_ProductDetails_ID").val($("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML);
                    $("#SD_ProductDetails_CODE").val($("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML);

                    $("#SD_DefectType_ID").val($("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML);
                    $("#SD_DefectType_CODE").val($("#SupplyDetails_Table tbody #" + RowId + " td")[15].innerHTML);

                    $("#SD_ProductSIZE").val($("#SupplyDetails_Table tbody #" + RowId + " td")[16].innerHTML);


                    $("#SupplyDetailModal").modal('show');
                    $("#SD_Delete").show();
                    $("#SD_Save").text("Update");
                }
            } else {
                $("#SD_id_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML);
                $("#SD_ProductDetails_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML);
                $("#SD_InvoiceNo_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML);
                $("#SD_InvoiceDate_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML);
                $("#SD_BatchNo_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML);
                $("#SD_SuppliedQtyNos_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML);
                $("#SD_BreakageQtyNos_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML);
                $("#SD_Transporter_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML);
                $("#SD_DefectType_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML);
                $("#SD_Remarks_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML);

                $("#SD_ProductDetails_ID_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML);
                $("#SD_ProductDetails_CODE_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML);

                $("#SD_DefectType_ID_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML);
                $("#SD_DefectType_CODE_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML);

                $("#SD_ProductSIZE_SBU2").val($("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML);


                $("#SupplyDetailModal_SBU2").modal('hide');
                $("#SD_Delete_SBU2").show();
                $("#SD_Save_SBU2").text("Update");
            }
            //SaveDataToServer('SupplyDetails');
        }
        catch (e) {
            alert("Error : EditSD : " + e);
        }

    }


    function DeleteSD() {
        try {
            debugger
            var ProdType = $("#Product_Type").val();
            var Product_Category_CODE = $("#Product_Category_CODE").val();
            var BasicAmount = $("#SD_BasicAmount").val();

            var SD_id;
            if (ProdType != "SBU2") {
                if (ProdType == "SBU3" && Product_Category_CODE == "36") {
                    SD_id = $("#SD_id_SBU2").val();

                    $("#SupplyDetails_Table tbody #SD_" + SD_id + "").remove();

                    $("#SD_id_SBU2").val("");
                    $("#SD_ProductDetails_SBU2").val("");
                    $("#SD_InvoiceNo_SBU2").val("");
                    $("#SD_InvoiceDate_SBU2").val("");
                    $("#SD_BatchNo_SBU2").val("");
                    $("#SD_SuppliedQtyNos_SBU2").val("");
                    $("#SD_BreakageQtyNos_SBU2").val("");
                    $("#SD_Transporter_SBU2").val("");
                    $("#SD_DefectType_SBU2").val("");
                    $("#SD_Remarks_SBU2").val("");

                    $("#SD_ProductDetails_ID_SBU2").val("");
                    $("#SD_ProductDetails_CODE_SBU2").val("");

                    $("#SD_DefectType_ID_SBU2").val("");
                    $("#SD_DefectType_CODE_SBU2").val("");

                    $("#SD_ProductSIZE_SBU2").val("");

                    $("#SupplyDetailModal_SBU2").modal("hide");

                    var i = 1;

                    $("#SupplyDetails_Table tbody tr").each(function () {
                        $(this).attr("id", "SD_" + i);
                        $("#SupplyDetails_Table tbody #SD_" + i + " td")[0].innerHTML = i;
                        i = i + 1;
                    });
                }
                else if (ProdType == "SBU8") {
                    SD_id = $("#SD_id_BU8").val();
                    var BasicAmount = $("#SD_BasicAmount_BU8").val();
                    var TotalProdValue = $("#total_prod_value").val();
                    var After_del_row_TotalProdValue = TotalProdValue - BasicAmount;
                    //console.log("After_del_row_TotalProdValue :" + After_del_row_TotalProdValue);
                    $("#total_prod_value").val(After_del_row_TotalProdValue);
                    $("#SupplyDetails_Table tbody #SD_" + SD_id + "").remove();

                    $("#SD_id_BU8").val("");
                    $("#SD_ProductDetails_BU8").val("");
                    $("#SD_Category_BU8").val("");
                    $("#SD_InvoiceNo_BU8").val("");
                    $("#SD_InvoiceDate_BU8").val("");
                    $("#SD_BatchNo_BU8").val("");
                    $("#SD_SuppliedQtyNos_BU8").val("");
                    $("#SD_BreakageQtyNos_BU8").val("");
                    $("#SD_Transporter_BU8").val("");
                    $("#SD_DefectType_BU8").val("");
                    $("#SD_DefectPercnt_BU8").val("");
                    $("#SD_Remarks_BU8").val("");
                    $("#SD_BasicAmount_BU8").val("");
                    $("#SD_ProductDetails_ID_BU8").val("");
                    $("#SD_ProductDetails_CODE_BU8").val("");
                    $("#SD_DefectType_ID_BU8").val("");
                    $("#SD_DefectType_CODE_BU8").val("");
                    $("#SD_ProductSIZE_BU8").val("");

                    $("#SupplyDetailModalBU8").modal("hide");

                    var i = 1;

                    $("#SupplyDetails_Table tbody tr").each(function () {
                        $(this).attr("id", "SD_" + i);
                        $("#SupplyDetails_Table tbody #SD_" + i + " td")[0].innerHTML = i;
                        i = i + 1;
                    });
                }
                else {
                    SD_id = $("#SD_id").val();
                    var BasicAmount = $("#SD_BasicAmount").val();
                    var TotalProdValue = $("#total_prod_value").val();
                    var After_del_row_TotalProdValue = TotalProdValue - BasicAmount;
                    //console.log("After_del_row_TotalProdValue :" + After_del_row_TotalProdValue);
                    $("#total_prod_value").val(After_del_row_TotalProdValue);

                    $("#SupplyDetails_Table tbody #SD_" + SD_id + "").remove();

                    $("#SD_id").val("");
                    $("#SD_ProductDetails").val("");
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    $("#SD_PlantName").val("");
                    $("#SD_InvoiceNo").val("");
                    $("#SD_InvoiceDate").val("");
                    $("#SD_BatchNo").val("");
                    $("#SD_SuppliedQtyNos").val("");
                    $("#SD_BreakageQtyNos").val("");
                    $("#SD_Transporter").val("");
                    $("#SD_DefectType").val("");
                    $("#SD_Remarks").val("");
                    //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                    $("#SD_BasicAmount").val("");
                    $("#SD_ProductDetails_ID").val("");
                    $("#SD_ProductDetails_CODE").val("");

                    $("#SD_DefectType_ID").val("");
                    $("#SD_DefectType_CODE").val("");

                    $("#SD_ProductSIZE").val("");

                    $("#SupplyDetailModal").modal("hide");

                    var i = 1;

                    $("#SupplyDetails_Table tbody tr").each(function () {
                        $(this).attr("id", "SD_" + i);
                        $("#SupplyDetails_Table tbody #SD_" + i + " td")[0].innerHTML = i;
                        i = i + 1;
                    });
                }
            } else {
                SD_id = $("#SD_id_SBU2").val();

                $("#SupplyDetails_Table tbody #SD_" + SD_id + "").remove();

                $("#SD_id_SBU2").val("");
                $("#SD_ProductDetails_SBU2").val("");
                $("#SD_InvoiceNo_SBU2").val("");
                $("#SD_InvoiceDate_SBU2").val("");
                $("#SD_BatchNo_SBU2").val("");
                $("#SD_SuppliedQtyNos_SBU2").val("");
                $("#SD_BreakageQtyNos_SBU2").val("");
                $("#SD_Transporter_SBU2").val("");
                $("#SD_DefectType_SBU2").val("");
                $("#SD_Remarks_SBU2").val("");

                $("#SD_ProductDetails_ID_SBU2").val("");
                $("#SD_ProductDetails_CODE_SBU2").val("");

                $("#SD_DefectType_ID_SBU2").val("");
                $("#SD_DefectType_CODE_SBU2").val("");

                $("#SD_ProductSIZE_SBU2").val("");

                $("#SupplyDetailModal_SBU2").modal("hide");

                var i = 1;

                $("#SupplyDetails_Table tbody tr").each(function () {
                    $(this).attr("id", "SD_" + i);
                    $("#SupplyDetails_Table tbody #SD_" + i + " td")[0].innerHTML = i;
                    i = i + 1;
                });
            }
            $("#SupplyDetailModal").modal("hide");
            $("#SupplyDetailModal_SBU2").modal("hide");
            SaveDataToServer('SupplyDetails');
        }
        catch (e) {
            alert("Error : DeleteSD : " + e);
        }

    }


    /*      SupplyDetailsModel          */



    //Common function for differentiating the form for different product types
    function ProductTypeChanges(Product_Type) {
        try {
            debugger
            $("#SubProductDivisionMasterlbl").css('display', 'none');
            $("#SubProductDivisionMasterdiv").hide();
            if (Product_Type == "") {
                $("#RecieptDetailsForSheetingDiv").show();
                $("#SupplyDetailsDiv").hide();
                $("#ComplaintDetailedDescDiv").hide();


                $("#Complaint_Type").val("");
                $("#Complaint_Type_CODE").val("");

                $(".SBU3Mandatory").hide();

            }
            else if (Product_Type == "SBU1") {
                $("#RecieptDetailsForSheetingDiv").show();
                $("#SupplyDetailsDiv").hide();
                $("#ComplaintDetailedDescDiv").hide();

                $("#MaterialSupplyDetailsTab").css('display', 'none');
                $("#Priortize_ClassifyTab").css('display', 'none');

                $("#Complaint_Type").val("");
                $("#Complaint_Type_CODE").val("");

                $("#SubStockistDirectCustomer_Lbl").text("Sub-Stockiest/ Direct Customer");

                $("#CompCatMandSpan").hide();
                $(".SBU3Mandatory").hide();

            }
            else if (Product_Type == "SBU2") {
                $("#RecieptDetailsForSheetingDiv").hide();
                $("#SupplyDetailsDiv").show();
                $("#SupplyDetailsDivBU8").hide();
                $("#ComplaintDetailedDescDiv").show();

                $("#MaterialSupplyDetailsTab").css('display', 'block');
                $("#Priortize_ClassifyTab").css('display', 'block');

                $("#SubStockistDirectCustomer_Lbl").text("Sub-Stockiest/ Direct Customer");

                $("#ObservationByHILOfficialField").css("display", "block");

                $("#CompCatMandSpan").hide();

                $("#Complaint_Type_CODE").val("");
                $("#Complaint_Type").val("");
                $(".SBU3Mandatory").hide();

            }
            else if (Product_Type == "SBU3") {

                $("#RecieptDetailsForSheetingDiv").hide();
                $("#SupplyDetailsDiv").show();
                $("#SupplyDetailsDivBU8").hide();
                $("#ComplaintDetailedDescDiv").show();

                $("#MaterialSupplyDetailsTab").css('display', 'none');
                $("#Priortize_ClassifyTab").css('display', 'block');

                $("#SubStockistDirectCustomer_Lbl").text("Distributor/ Wholesaler/ Dealer/ Project");

                $("#ObservationByHILOfficialField").css("display", "none");

                $("#CompCatMandSpan").show();

                $(".BreakageQtyLabel").text("Defect Qty (Nos)");

                $("#Complaint_Type_CODE").val("CTC1");
                $("#Complaint_Type").val("Product Complaints");
                $(".SBU3Mandatory").show();

            }
            else if (Product_Type == "SBU8") {
                $("#SubProductDivisionMasterlbl").css('display', 'block');
                $("#SubProductDivisionMasterdiv").show();
                $("#RecieptDetailsForSheetingDiv").hide();
                $("#SupplyDetailsDiv").show();
                $("#SupplyDetailsDivBU8").hide();
                $("#ComplaintDetailedDescDiv").show();

                $("#MaterialSupplyDetailsTab").css('display', 'block');
               // $("#MaterialSupplyDetailsTab").hide();
                $("#Priortize_ClassifyTab").css('display', 'block');

                $("#SubStockistDirectCustomer_Lbl").text("Sub-Stockiest/ Direct Customer");
                $(".BreakageQtyLabel").text("Defect Qty (Nos)");
                $("#ObservationByHILOfficialField").css("display", "block");

                $("#CompCatMandSpan").hide();

                $("#Complaint_Type_CODE").val("CTC1");
                $("#Complaint_Type").val("Product Complaints");
                $(".SBU3Mandatory").hide();               

            }
        }
        catch (e) {
            alert("Error : ProductTypeChanges :" + e);
        }
    }


    //Draft Save function
    function SaveDataToServer(TableName) {
        //debugger
        try {
            var Flag = 0;
            //svprasadk 23-04-2020 SBU 1 requirement to add sub stockiest master start
            if (($("#Product_Type_CODE").val() == "SBU1" || $("#Product_Type_CODE").val() == "SBU8") && ($("#party_type").val() == "Select" || $("#party_type").val() == "")) {
                Flag = Flag + 1;
                $("#party_type").css("border-color", "red");
            }
            else if (($("#Product_Type_CODE").val() == "SBU1" || $("#Product_Type_CODE").val() == "SBU8") && ($("#party_type").val() != "Select" || $("#party_type").val() != "")) {
                $("#party_type").css("border-color", "#d2d6de");
            }
            if (($("#Product_Type_CODE").val() == "SBU1" || $("#Product_Type_CODE").val() == "SBU8") && ($("#party_type").val() == "SubDealer" || $("#party_type_id").val() == 2 || $("#party_type").val() == "Sub-Stockiest")) {
                if ($("#SubStockiest_Code").val() == "") {
                    Flag = Flag + 1;
                    $("#SubStockiest_Code").css("border-color", "red");
                }
                else {
                    $("#SubStockiest_Code").css("border-color", "#d2d6de");
                }

                if ($("#SubStockiest_Name").val() == "") {
                    Flag = Flag + 1;
                    $("#SubStockiest_Name").css("border-color", "red");
                }
                else {
                    $("#SubStockiest_Name").css("border-color", "#d2d6de");
                }

                if ($("#SubStockiest_Address").val() == "") {
                    Flag = Flag + 1;
                    $("#SubStockiest_Address").css("border-color", "red");
                }
                else {
                    $("#SubStockiest_Address").css("border-color", "#d2d6de");
                }

                if ($("#SubStockiest_Number").val() == "") {
                    Flag = Flag + 1;
                    $("#SubStockiest_Number").css("border-color", "red");
                }
                else {
                    $("#SubStockiest_Number").css("border-color", "#d2d6de");
                }
            }
            //svprasadk 23-04-2020 SBU 1 requirement to add sub stockiest master end

            if (Flag > 0) {
                return;
            }
            else {
            }
            var ReceiptDetailsForSheeting = new Array();
            var MaterialSupplyDetail = new Array();
            var SupplyDetails = new Array();


            MaterialSupplyDetail = new Array();

            $("#Material_Supply_Detail_Table tbody tr").each(function () {
                RowId = ($(this).attr("id"));
                MaterialSupplyDetail.push({
                    SlNo: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[0].innerHTML,
                    MaterialBelongsTo: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[1].innerHTML,
                    ProductSuppliedFrom: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[2].innerHTML,
                    Name: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[3].innerHTML,


                    Material_Belongs_To_ID: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[4].innerHTML,
                    Material_Belongs_To_CODE: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[5].innerHTML,
                    Product_Supplied_From_ID: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[6].innerHTML,
                    Product_Supplied_From_CODE: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[7].innerHTML,
                    MSD_Name_ID: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[8].innerHTML,
                    MSD_Name_CODE: $("#Material_Supply_Detail_Table tbody #" + RowId + " td")[9].innerHTML

                });
            });

            ReceiptDetailsForSheeting = new Array();

            $("#Receipt_Details_Sheeting_Table tbody tr").each(function () {
                RowId = ($(this).attr("id"));
                ReceiptDetailsForSheeting.push({
                    SlNo: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[0].innerHTML,
                    ItemType: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[1].innerHTML,
                    Size: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[2].innerHTML,
                    InvoiceNo: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[3].innerHTML,
                    //InvoiceDate: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[4].innerHTML,
                    InvoiceDate: DateToWestern($("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[4].innerHTML),
                    BatchNo: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[5].innerHTML,
                    ReceivedQty: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[6].innerHTML,
                    BreakageQty: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[7].innerHTML,
                    TypeofDefect: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[8].innerHTML,
                    Remarks: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[9].innerHTML,

                    Defect_Type_ID: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[10].innerHTML,
                    Defect_Type_CODE: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[11].innerHTML,
                    Item_Type_Product_ID: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[12].innerHTML,
                    Item_Type_Product_CODE: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[13].innerHTML,

                    GrossWeight: $("#Receipt_Details_Sheeting_Table tbody #" + RowId + " td")[14].innerHTML
                });
            });

            SupplyDetails = new Array();
            var BU = $("#Product_Type").val();
            console.log("BU :" + BU);
            var Productcode = $("#Product_Category_CODE").val();
            console.log("Productcode : " + Productcode);
            if ((BU == "SBU3" && Productcode != "36")) {
                $("#SupplyDetails_Table tbody tr").each(function () {
                    RowId = ($(this).attr("id"));
                    SupplyDetails.push({
                        SlNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML,
                        ProductDetails: $("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML,
                        //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                        SD_PlantName: $("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML,
                        InvoiceNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML,
                        //InvoiceDate: $("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML,
                        InvoiceDate: DateToWestern($("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML),
                        BatchNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML,
                        SuppliedQtyNos: $("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML,
                        BreakageQtyNos: $("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML,
                        Transporter: $("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML,
                        Defect_Type: $("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML,
                        Remarks: $("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML,
                        //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                        BasicAmount: $("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML,
                        SD_ProductDetails_ID: $("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML,
                        SD_ProductDetails_CODE: $("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML,
                        SD_DefectType_ID: $("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML,
                        SD_DefectType_CODE: $("#SupplyDetails_Table tbody #" + RowId + " td")[15].innerHTML,

                        SD_ProductSIZE: $("#SupplyDetails_Table tbody #" + RowId + " td")[16].innerHTML

                    });
                });
            }

            else if (BU == "SBU8" ){
                $("#SupplyDetails_Table tbody tr").each(function () {
                    RowId = ($(this).attr("id"));
                    SupplyDetails.push({
                        SlNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML,
                        ProductDetails: $("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML,
                        //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                        SD_PlantName: $("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML,
                        InvoiceNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML,
                        //InvoiceDate: $("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML,
                        InvoiceDate: DateToWestern($("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML),
                        BatchNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML,
                        SuppliedQtyNos: $("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML,
                        BreakageQtyNos: $("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML,
                        Transporter: $("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML,
                        Defect_Type: $("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML,
                        SD_DefectPercnt_BU8: $("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML,
                        Remarks: $("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML,
                        //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                        BasicAmount: $("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML,
                        SD_ProductDetails_ID: $("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML,
                        SD_ProductDetails_CODE: $("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML,
                        SD_DefectType_ID: $("#SupplyDetails_Table tbody #" + RowId + " td")[15].innerHTML,
                        SD_DefectType_CODE: $("#SupplyDetails_Table tbody #" + RowId + " td")[16].innerHTML,

                        SD_ProductSIZE: $("#SupplyDetails_Table tbody #" + RowId + " td")[17].innerHTML

                    });
                });
            }
            else {
                $("#SupplyDetails_Table tbody tr").each(function () {
                    RowId = ($(this).attr("id"));
                    SupplyDetails.push({
                        SlNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[0].innerHTML,
                        ProductDetails: $("#SupplyDetails_Table tbody #" + RowId + " td")[1].innerHTML,
                        //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                        //SD_PlantName: $("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML,
                        InvoiceNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[2].innerHTML,
                        //InvoiceDate: $("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML,
                        InvoiceDate: DateToWestern($("#SupplyDetails_Table tbody #" + RowId + " td")[3].innerHTML),
                        BatchNo: $("#SupplyDetails_Table tbody #" + RowId + " td")[4].innerHTML,
                        SuppliedQtyNos: $("#SupplyDetails_Table tbody #" + RowId + " td")[5].innerHTML,
                        BreakageQtyNos: $("#SupplyDetails_Table tbody #" + RowId + " td")[6].innerHTML,
                        Transporter: $("#SupplyDetails_Table tbody #" + RowId + " td")[7].innerHTML,
                        Defect_Type: $("#SupplyDetails_Table tbody #" + RowId + " td")[8].innerHTML,
                        Remarks: $("#SupplyDetails_Table tbody #" + RowId + " td")[9].innerHTML,
                        //VIKAS G, 9-3-2022 AS PER jOSEPH REQUIREMENT ADDING BASIC AMOUNT IN THE COMPLAINT REGISTRATION SUPPLY DETAILS.
                        //BasicAmount: $("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML,
                        SD_ProductDetails_ID: $("#SupplyDetails_Table tbody #" + RowId + " td")[10].innerHTML,
                        SD_ProductDetails_CODE: $("#SupplyDetails_Table tbody #" + RowId + " td")[11].innerHTML,
                        SD_DefectType_ID: $("#SupplyDetails_Table tbody #" + RowId + " td")[12].innerHTML,
                        SD_DefectType_CODE: $("#SupplyDetails_Table tbody #" + RowId + " td")[13].innerHTML,

                        SD_ProductSIZE: $("#SupplyDetails_Table tbody #" + RowId + " td")[14].innerHTML

                    });
                });
            }
            //svprasadk 17-10-2020 SBU 1 requirement to remove type of complaint start
            $("#TYPE_OF_COMPLAINT").val(0);
            //svprasadk 17-10-2020 SBU 1 requirement to remove type of complaint start
            var RegistrationData = JSON.stringify({
                FormIdentity: $("#FormIdentity").val(),
                complaintReceivedDate_CRT: $("#complaintReceivedDate_CRT").val(),
                ComplaintRegistrationDate_CRT: $("#ComplaintRegistrationDate_CRT").val(),
                Registrant_Type: $("#Registrant_Type").val(),
                Registrant_Type_Code: $("#Registrant_Type_Code").val(),
                SalesRepresentativeEmployeeCode: $("#SalesRepresentativeEmployeeCode").val(),
                SalesRepresentativeEmployeeName: $("#SalesRepresentativeEmployeeName").val(),
                Complaint_Desc: $("#Complaint_Desc").val(),

                Remarks: $("#Remarks").val(),
                Complaint_Tracking_No: $("#Complaint_Tracking_No").val(),
                CR_Series_Code: $("#CR_Series_Code").val(),
                Registration_Status: $("#Registration_Status").val(),
                Complaint_Code: $("#Complaint_Code").val(),

                Approved_Date: $("#Approved_Date").val(),
                Customer_Code: $("#Customer_Code").val(),
                Customer_Name: $("#Customer_Name").val(),

                Customer_Type: $("#Customer_Type").val(),
                Customer_Type_CODE: $("#Customer_Type_CODE").val(),

                Customer_Location: $("#Customer_Location").val(),
                Customer_LocationCode: $("#Customer_LocationCode").val(),


                Contact_City: $("#Contact_City").val(),
                CityCode: $("#CityCode").val(),

                Contact_State: $("#Contact_State").val(),
                Contact_StateCode: $("#Contact_StateCode").val(),

                Contact_Area: $("#Contact_Area").val(),
                Contact_AreaCode: $("#Contact_AreaCode").val(),
                Contact_Person: $("#Contact_Person").val(),
                Contact_Number: $("#Contact_Number").val(),

                Customer_Fax: $("#Customer_Fax").val(),
                Customer_Email: $("#Customer_Email").val(),
                Complaint_Mode: $("#Complaint_Mode").val(),
                Product_Type: $("#Product_Type").val(),
                Product_Category: $("#Product_Category").val(),

                SubStockiest_Direct_Customer: $("#SubStockiest_Direct_Customer").val(),
                Is_Project_Party: $("#Is_Project_Party").is(':checked'),
                Site_Address: $("#Site_Address").val(),
                Complaint_Type: $("#Complaint_Type").val(),
                Complaint_Category: $("#Complaint_Category").val(),

                Complaint_Priority: $("#Complaint_Priority").val(),
                Complaint_Severity: $("#Complaint_Severity").val(),

                NatureOfComplaint: $("#NatureOfComplaint").val(),
                ObservationByHILOfficial: $("#ObservationByHILOfficial").val(),


                Product_Category_CODE: $("#Product_Category_CODE").val(),
                Sub_Product_Category_CODE: $("#Sub_Product_Category_CODE").val(),
                Sub_Product_Category: $("#Sub_Product_Category").val(),

                Complaint_Priority_CODE: $("#Complaint_Priority_CODE").val(),


                Complaint_Severity_CODE: $("#Complaint_Severity_CODE").val(),

                Complaint_Mode_ID: $("#Complaint_Mode_ID").val(),
                Complaint_Mode_CODE: $("#Complaint_Mode_CODE").val(),

                Complaint_Type_ID: $("#Complaint_Type_ID").val(),
                Complaint_Type_CODE: $("#Complaint_Type_CODE").val(),


                Complaint_Category_CODE: $("#Complaint_Category_CODE").val(),


                Product_Type_CODE: $("#Product_Type_CODE").val(),

                Customer_ID: $("#Customer_ID").val(),

                SITEDETAIL_CODE: $("#SITEDETAIL_CODE").val(),
                COMPANYDETAIL_CODE: $("#COMPANYDETAIL_CODE").val(),

                CREATED_BY: $("#UserCode").val(),

                ReceiptDetailsForSheeting: ReceiptDetailsForSheeting,
                MaterialSupplyDetail: MaterialSupplyDetail,
                SupplyDetails: SupplyDetails,
                //svprasadk 23-04-2020 SBU 1 requirement to add sub stockiest master start
                party_type: $("#party_type_id").val(),
                SubStockiest_Code: $("#SubStockiest_Code").val(),
                SubStockiest_ID: $("#SubStockiest_ID").val(),
                SubStockiest_Name: $("#SubStockiest_Name").val(),
                SubStockiest_Address: $("#SubStockiest_Address").val(),
                SubStockiest_Number: $("#SubStockiest_Number").val(),
                //svprasadk 23-04-2020 SBU 1 requirement to add sub stockiest master end
                //svprasadk 19-05-2020 SBU 1 requirement to add type of complaint start
                //TYPE_OF_COMPLAINT: $("#TYPE_OF_COMPLAINT").val()
                TYPE_OF_COMPLAINT: $("#TYPE_OF_COMPLAINT").val()
                //svprasadk 19-05-2020 SBU 1 requirement to add type of complaint end
            });

            $.ajax({
                method: 'POST',
                url: '../../ComplaintRegistration/SaveComplaint',
                async: false,
                data: { RegistrationData: RegistrationData },
            }).then(function successCallback(response) {
                //debugger
                var FormIdentity = $("#FormIdentity").val();
                if (response == "FALSE") {
                }
                if (response == "TRUE") {
                    //$(".Complaint_NumberDiv").css("display", "block");
                }
                else {
                    var RD = JSON.parse(response);
                    console.log("SaveComplaint : " + RD);
                    if (RD["Result"] == "TRUE") {

                        $("#SendRegistrationApproval").css('display', 'block');
                        $("#FormIdentity").val(RD["ID"]);
                        $("#Complaint_Code").val(RD["CC"]);
                        //$(".Complaint_NumberDiv").css("display", "block");
                        $("#Complaint_Number").val(RD["ID"]);
                        $("#Complaint_Number").val(RD["ID"]);
                    }
                }

                if ($("#Registration_Status").val() == "DRAFT") {
                    $("#SendRegistrationApproval").css('display', 'block');
                }
                else {
                    $("#SendRegistrationApproval").css('display', 'none');
                }

            },
                function errorCallback(response) {
                    alert("Error : " + response);
                });

        }

        catch (e) {
            alert("Error : SaveDataToServer : " + e);
        }
    }

    function ajaxcalls() {

        return [
            $.ajax("../../ComplaintRegistration/GetComplaint")

        ];
    }

    //$.when.apply($, ajaxcalls()).then(function () {
    //    //$.ajax("../../ComplaintRegistration/SaveComplaint");
    //    $.ajax("../../ComplaintRegistration/GetComplaint");
    //});



    function FileUploaded() {
        var filename = $("#ComplaintFile").val();
        var file = document.getElementById('ComplaintFile').files[0];
        var extension = filename.replace(/^.*\./, '');
        //if (extension.toUpperCase() == "XLSX" || extension.toUpperCase() == "XLS") {
        //}
        //else {
        //    alert("Invalid File");
        //    $("#ComplaintFile").val("");
        //}
        //svprasadk 22-06-2020 SBU 1 requirement to validate file extension in investigation stage start
        if (/\.(jpe?g|png|pdf|zip)$/i.test(file.name) === false) {
            alert("Please upload jpeg or png or pdf or zip files only!");
            return;
        }
        //svprasadk 22-06-2020 SBU 1 requirement to validate file extension in investigation stage end
        else if (file.size > 5242880) {
            alert("File size must not exceed 5MB.");
            $("#ComplaintFile").val("");
        } else {
            alert("Please Upload Attachment");
        }
    }
    var AttachedFiles = new Array();
    function UploadFiles() {
        var filename = $("#ComplaintFile").val();
        var file = document.getElementById('ComplaintFile').files[0];
        if (filename == "") {
            return;
        }
        //svprasadk 22-06-2020 SBU 1 requirement to validate file extension in investigation stage start
        if (/\.(jpe?g|png|pdf|zip)$/i.test(file.name) === false) {
            alert("Please upload jpeg or png or pdf or zip files only!");
            return;
        }
        //svprasadk 22-06-2020 SBU 1 requirement to validate file extension in investigation stage end
        if (AttachedFiles != null && AttachedFiles.length > 0) {
            for (var i = 0; i < AttachedFiles.length; i++) {
                if (AttachedFiles[i].filename.includes(filename)) {
                    alert("File already selected");
                    $("#ComplaintFile").val("");
                    return;
                }
            }
        }
        if (AttachedFiles != null && AttachedFiles.length >= 3) {
            alert("Maximum 3 files can be selected");
            $("#ComplaintFile").val("");
            return;
        }
        if (filename.includes(",")) {
            alert("File name must not contain comma(,)");
            $("#ComplaintFile").val("");
            return;
        }
        AttachedFiles.push({
            file: file,
            filename: filename
        });
        $("#ComplaintFile").val("");
        var splitFilename = filename.split("\\");
        $('#SelectedFiles').append("" + splitFilename[2].trim() + "<br/>");
        $("#ClickUploadFile").val(1);
        RegisterComplaintWithFiles();
    }
    function ClearFiles() {
        AttachedFiles = new Array();
        $('#SelectedFiles').text('');
    }
    function RegisterComplaintWithFiles() {
        try {
            var MyTest = $("#MyTest").val();
            if (MyTest == "") {
                if (confirm("Do you want to Save data?")) {
                    $("#MyTest").val("Save");
                }
                else {
                    return;
                }
            }
            if ($("#SelectedFiles").text() != "") {
                $("#ClickUploadFile").val(1);
                $("#ClickSaveComplaint").val(1);
            }
            //$("#Product_Type").val() == "SBU1" &&
            var file = document.getElementById('ComplaintFile').files.length;
            if (($("#Product_Type").val() == "SBU3" && file == 0 && ($("#ComplaintFilesUploaded").children().length <= 0 || $("#SelectedFiles").text() == "") && $("#ClickUploadFile").val() == 0) || ($("#Product_Type").val() == "SBU8" && file == 0 && ($("#ComplaintFilesUploaded").children().length <= 0 || $("#SelectedFiles").text() == "") && $("#ClickUploadFile").val() == 0)) {
                alert("Please Select Attachment and Press Upload and then click on Save button");
                return;
            }
            if (($("#Product_Type").val() == "SBU3" && file >= 0 && $("#ClickUploadFile").val() == 0) || ($("#Product_Type").val() == "SBU8" && file >= 0 && $("#ClickUploadFile").val() == 0)) {
                alert("Please Upload Attachment and then click on Save button");
                return;
            }
            var formData = new FormData();
            for (var i = 0; i < AttachedFiles.length; i++) {
                formData.append('RegisterFile_' + i, AttachedFiles[i].file);
            }
            if (AttachedFiles.length > 0) {
                ShowLoader();
                $.ajax({
                    url: '../../ComplaintRegistration/UploadFile',
                    type: 'POST',
                    data: formData,
                    async: true,
                    success: function (Resp) {
                        if (Resp != "") {
                            AttachedFiles = new Array();
                            $('#SelectedFiles').text('');
                            $("#ComplaintFile").val("");
                            $('#SelectedFiles').text(Resp);
                            HideFileUpload();
                            HideLoader();
                            if (($("#Product_Type").val() == "SBU3")) {
                                $("#ClickSaveComplaint").val(1);
                            }
                            $('#hiddenCompRegSave').click();
                        }
                        else {
                            HideLoader();
                            $("#ComplaintFile").val("");
                        }
                    },
                    cache: false,
                    contentType: false,
                    processData: false
                });
            }
            else {
                $('#hiddenCompRegSave').click();
            }
        }
        catch (e) {
            alert("Error : SaveDataToServer : " + e);
        }
    }

    function enabledisableFileUpload() {
        if ($("#FormIdentity").val() != "") {
            if (($("#Registration_Status").val() == "DRAFT") && ($("#SelectedFiles").text() == ""))
                ShowFileUpload();
            else
                HideFileUpload();
        } else {
            ShowFileUpload();
        }
    }
    function HideFileUpload() {
        $("#NewComplaintFileUploadDiv").hide();
        $("#LoadComplaintFileUploadDiv").show();
        if ($("#SelectedFiles").text() != "") {
            $("#lblAttachments").show();
            var Paths = $("#SelectedFiles").text().split(',');
            var mydiv = document.getElementById("LoadComplaintFileUploadDiv");
            $("#ComplaintFilesUploaded").empty();
            for (var i = 0; i < Paths.length; i++) {
                var myList = document.getElementById("ComplaintFilesUploaded");
                var liTag = document.createElement('li');
                var aTag = document.createElement('a');
                //debugger
                if ($("#CREATED_IN").val() == "mobile") {
                    //aTag.setAttribute('href', 'http://219.65.69.198:3001/DIMSFiles/ComplaintFiles/' + Paths[i]);
                    aTag.setAttribute('href', 'http://219.65.69.198:3001/ComplaintFiles/' + Paths[i]);
                } else {
                    aTag.setAttribute('href', window.location.origin + '/DIMSFiles/ComplaintFiles/' + Paths[i]);
                }
                //aTag.setAttribute('href', window.location.origin + '/DIMSFiles/ComplaintFiles/' + Paths[i]);
                aTag.setAttribute('target', "_blank");
                aTag.innerHTML = Paths[i].substring(0, 30);
                liTag.appendChild(aTag);
                myList.appendChild(liTag);
                mydiv.appendChild(myList);
            }
        }
        else {
            $("#lblAttachments").hide();
        }
    }
    function ShowFileUpload() {
        $("#LoadComplaintFileUploadDiv").hide();
        $("#NewComplaintFileUploadDiv").show();
    }
    function ValidateInvoice() {
        var SD_InvoiceNo = $("#SD_InvoiceNo_SBU2").val();
        if (SD_InvoiceNo.trim() == "") {
            $("#SD_InvoiceNo_SBU2").val('');
            $("#SD_ProductDetails_SBU2").val("");
            $("#SD_ProductDetails_ID_SBU2").val("");
            $("#SD_ProductDetails_CODE_SBU2").val("");
            $("#SD_ProductSIZE_SBU2").val("");
            $("#SD_InvoiceDate_SBU2").val("");
            alert("Enter Valid Invoice Number");
            return false;
        } else {
            $.ajax({
                type: 'POST',
                data: { Data: SD_InvoiceNo },
                url: '../../ComplaintRegistration/GetInvoiceValidation',
                success: function (response) {
                    if (response["complaintNo"] != "FALSE") {
                        alert("Invoice Already Registered With Complaint Number : " + response["complaintNo"]);
                        $("#SD_InvoiceNo_SBU2").val('');
                        //$("#SD_InvoiceNo_SBU2").focus();
                        return false;
                    } else {
                        $("#SD_ProductDetails_SBU2").val("");
                        $("#SD_ProductDetails_ID_SBU2").val("");
                        $("#SD_ProductDetails_CODE_SBU2").val("");
                        $("#SD_ProductSIZE_SBU2").val("");
                        $("#SD_InvoiceDate_SBU2").val("");
                    }
                },
                error: function (data) {
                    alert("Error Saving Data.");
                }
            });
        }
    }

</script>
