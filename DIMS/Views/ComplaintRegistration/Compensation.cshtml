@using LabelNames = DIMS.Content.Resource_Files.Compensation;

@{
    Layout = null;

    DIMS.Models.UserProperties UP = (DIMS.Models.UserProperties)Session["UP"];
    string SessionSITEDETAIL_CODE = UP.SITEDETAIL_CODE;
    string SessionUserCode = UP.UserCode;
    string SessionUserName = UP.UserName;
    string SessionCOMPANYDETAIL_CODE = UP.COMPANYDETAIL_CODE;
    string SessionUserType = UP.UserTypeCode;
    string SessionUserTypeID = UP.UserType;
}

<style type="text/css">
    .modal-content {
        padding: 10px;
    }
</style>
<section class="content-header" style="padding: 1px 15px 0;">
    <h2>Compensation</h2>
    <ol class="breadcrumb">
        <li><a href ng-click="go('home')"><i class="fa fa-dashboard"></i>Home</a></li>
        <li>Compensation</li>
        <li class="active">Compensation</li>
    </ol>
    <nav style="padding: 1px 10px 1px 10px;">
        <div class="row">
            <div class="col-sm-11" id="IconsNavBar">
                <a href ng-click="go('ComplaintPendingApproval')" id="PendingApprovalsList" style="float: left; display: none;">
                    <i class="fa fa-list fa-4" title="Pending Approvals"></i>
                </a>
                <a href ng-click="go('CompensationList')" id="CompensationList" style="float: left;">
                    <i class=" fa fa-list fa-4" title="Compensation List"></i>
                </a>
                <a href ng-click="go('PendingApprovalCommercial')" id="PendingApprovalCommercial" style="float: left;display:none">
                    <i class=" fa fa-list fa-4" title="Pending Approval Commercial List"></i>
                </a>
                <a href ng-click="SaveCompensation()" id="SaveCompensation" style="float: left;">
                    <i class=" fa fa-floppy-o fa-4" title="Save"></i>
                </a>
                <a href ng-click="UpdateCreditNote()" id="UpdateCreditNote" style="float: left;display:none">
                    <i class=" fa fa-floppy-o fa-4" title="Save CreditNote"></i>
                </a>
                <a href ng-click="go('Compensation')" id="AddNewCompensation" style="float: left; display: none;">
                    <i class=" fa fa-file-o fa-4" title="Add New"></i>
                </a>
                <a href ng-click="SendForApproval()" id="SendForApproval" style="display: none; float: left;">
                    <i class="fa fa-forward" title="Send for Review"></i>
                </a>
                @*<a href ng-click="SendForApproval()" id="SendForApproval" style="display: none; float: left;">
                    <i class=" fa fa-thumbs-o-up" title="Send for Review"></i>
                </a>*@
                <a href ng-click="GetApprovalPopUp()" id="CompMakeApproved" style="float: left;">
                    <i class="fa fa-check" title="Approve Complaint"></i>
                </a>
                <select id="StateFilter" ng-model="StateFilter" disabled="disabled" ng-change="StateChange()" style="float: left;"></select>
                <a href ng-click="SaveCompensation()" id="SuperSaveCompensation" style="float: left; display: none; margin-left: 10px;">
                    <i class=" fa fa-floppy-o fa-4" title="Change Action"></i>
                </a>
                <input type="text" id="RoleingSuperSave" value="@SessionUserType" style="display:none;" />
            </div>
        </div>
    </nav>
</section>
<div class="CustomHeight_Section" style="overflow: auto;">
    <section style="padding: 0 15px 90px;">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary" style="background: white none repeat scroll 0 0; padding: 4px;">
                    <div class="box-body">
                        <form name="test" class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#" style="font-size: 12px; font-weight: normal" data-ng-init="GetEditData(39)">
                            <div class="row">
                                <div class="col-sm-12">
                                    <input type="text" id="ApproveSave" hidden="hidden">
                                    <input type="hidden" id="CompensationId" data-ng-model="CompensationId" />
                                    <input type="text" id="SITEDETAIL_CODE_Compensation" style="display: none;" value="@SessionSITEDETAIL_CODE" />
                                    <input type="text" id="COMPANYDETAIL_CODE_Compensation" style="display: none;" value="@SessionCOMPANYDETAIL_CODE" />
                                    <input type="text" id="USERNAME_Compensation" style="display: none;" value="@SessionUserName" />
                                    <input type="text" id="USERCODE_Compensation" style="display: none;" value="@SessionUserCode" />
                                    <input type="text" id="USERTYPE_Compensation" style="display: none;" value="@SessionUserType" />
                                    <input type="text" id="CompCategory" style="display: none;" />

                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">@LabelNames.InvestigationNum<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Investigation_Num" data-ng-model="Investigation_Num" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetInvestigationNum','CompensationInvestigationMaster','Investigation List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.InvestigationDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Investigation_Date" data-ng-model="Investigation_Date" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.CompensationId</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Compensation_Id" data-ng-model="Compensation_Id" disabled="disabled" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-1 control-label" hidden="hidden">@LabelNames.ComplaintNo</label>
                                        <div class="col-sm-3" hidden="hidden">
                                            <input type="text" class="form-control gray" id="Complaint_No" data-ng-model="Complaint_No" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.SiteVisitDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Site_Visit_Date" data-ng-model="Site_Visit_Date" disabled="disabled" />
                                        </div>
                                        @*<label class="col-sm-1 control-label">@LabelNames.COMPSeriesCode<span class="Mandatory">*</span></label>*@
                                        <label class="col-sm-1 control-label">COMP SeriesCode<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="COMP_Series_Code" data-ng-model="COMP_Series_Code" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('getCompensationDocumentSeriesData','CRSeriesCode','Document Series')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">@LabelNames.ComplaintTrackingNo</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Complaint_Tracking_No" data-ng-model="Complaint_Tracking_No" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.PreviousVisitDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Previous_Visit_Date" data-ng-model="Previous_Visit_Date" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.CompensationDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Compensation_Date" data-ng-model="Compensation_Date" disabled="disabled" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        @*<label class="col-sm-1 control-label">@LabelNames.ComplaintReceivedDate</label>*@
                                        <label class="col-sm-1 control-label">Complaint ReceivedDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Complaint_Received_Date" data-ng-model="Complaint_Received_Date" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.InvestigationDoneBy</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Investigation_Done_By" data-ng-model="Investigation_Done_By" disabled="disabled" />
                                        </div>
                                        @*<label class="col-sm-1 control-label">@LabelNames.CompensationStatus</label>*@
                                        <label class="col-sm-1 control-label">Complaint Status</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Compl_Status" data-ng-model="Compl_Status" disabled="disabled" />
                                            <input type="text" class="form-control gray" id="Compensation_Status" data-ng-model="Compensation_Status" disabled="disabled" style="display: none;" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        @*<label class="col-sm-1 control-label">@LabelNames.ComplaintRegisteredDate</label>*@
                                        <label class="col-sm-1 control-label">Complaint RegisteredDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Complaint_Registered_Date" data-ng-model="Complaint_Registered_Date" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.InvestigationRemarks</label>
                                        <div class="col-sm-3">
                                            <textarea class="form-control" id="Investigation_Remarks" data-ng-model="Investigation_Remarks" maxlength="3000"></textarea>
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.ApprovedDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Approved_Date" data-ng-model="Approved_Date" disabled="disabled" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        @*<label class="col-sm-1 control-label">@LabelNames.ComplaintAttendentDate</label>*@
                                        <label class="col-sm-1 control-label">Complaint AttendentDate</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="Complaint_Attendent_Date" data-ng-model="Complaint_Attendent_Date" disabled="disabled" />
                                        </div>
                                        @*<label class="col-sm-1 control-label">@LabelNames.SalesRepresentativeEmployeeCode</label>*@
                                        <label class="col-sm-1 control-label">SalesRep. EmployeeCode</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="SalesRepresentativeEmployeeCode" data-ng-model="SalesRepresentativeEmployeeCode" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label">@LabelNames.DigitalSign</label>
                                        <div class="col-sm-3">
                                            <input type="checkbox" id="Digital_Sign" data-ng-model="Digital_Sign" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-1 control-label">@LabelNames.ComplaintDescription</label>
                                        <div class="col-sm-3">
                                            <textarea class="form-control gray" id="Complaint_Description" data-ng-model="Complaint_Description" maxlength="300" disabled="disabled"></textarea>
                                        </div>
                                        @*<label class="col-sm-1 control-label">@LabelNames.SalesRepresentativeEmployeeName</label>*@
                                        <label class="col-sm-1 control-label">SalesRep. EmployeeName</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control gray" id="SalesRepresentativeEmployeeName" data-ng-model="SalesRepresentativeEmployeeName" disabled="disabled" />
                                        </div>
                                        <label class="col-sm-1 control-label" style="display: none;"></label>
                                        <div class="col-sm-3" style="display: none;">
                                        </div>
                                        <label id="lblAttachments" class="col-sm-2 control-label">Attachments</label>
                                        <div class="col-sm-3" id="NewAttachmentsDiv">
                                            <label class="col-sm-2 control-label" id="SelectedComplaintFiles" data-ng-model="ComplaintFilesPath" style="width: 100%;"></label>
                                            <label class="col-sm-2 control-label" id="SelectedInvestigationFiles" data-ng-model="InvestigationFilesPath" style="width: 100%;"></label>
                                            <input type="hidden" id="CREATED_IN" data-ng-model="CREATED_IN" class="form-control" value="0" style="display: none;" />
                                        </div>
                                        <div class="col-sm-3" id="LoadAttachmentsDiv">
                                            <ul id="AttachmentsUploaded"></ul>
                                        </div>
                                    </div>

                                    @*svprasadk 20-05-2020 SBU 1 requirement to add type of complaint start*@

                                    <div class="form-group" id="TYPE_OF_COMPLAINT_DIV" style="display:none">
                                        <label class="col-sm-1 control-label">Type of Complaint<span class="Mandatory">*</span></label>
                                        <div class="col-sm-3">
                                            @*<select id="TYPE_OF_COMPLAINT" class="form-control" disabled="disabled">
            <option value="0">Select</option>
        </select>*@
                                            <input type="hidden" class="form-control gray" id="TYPE_OF_COMPLAINT_ID" data-ng-model="TYPE_OF_COMPLAINT_id" disabled="disabled" />
                                            <input type="text" class="form-control gray" id="TYPE_OF_COMPLAINT" data-ng-model="TYPE_OF_COMPLAINT" disabled="disabled" />
                                        </div>
                                    </div>

                                    @*svprasadk 20-05-2020 SBU 1 requirement to add type of complaint end*@

                                    <div class="col-sm-12 tabdiv">
                                        <div class="col-sm-12 CloseOpen" onclick="FormToggle('CustDetails')">
                                            <img src="~/Images/en_next.png" id="CustDetails_Img" />
                                            <a class="Expand">Customer Details</a>
                                        </div>
                                        <div class="row" style="padding-top: 30px; display: none;" id="CustDetails_Form">
                                            <div class="col-sm-12">


                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">@LabelNames.CustomerCode</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Customer_Code" data-ng-model="Customer_Code" disabled="disabled" />
                                                    </div>
                                                    <label class="col-sm-1 control-label">@LabelNames.ContactPerson</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Contact_Person" data-ng-model="Contact_Person" disabled="disabled" />
                                                    </div>
                                                    @*<label class="col-sm-1 control-label">@LabelNames.SubStockiestDirectCustomer</label>*@
                                                    <div id="SubStockiest_Direct_CustomerDiv">
                                                        <label class="col-sm-1 control-label" id="lblSubStockiest_Direct_Customer"></label>
                                                        <div class="col-sm-3">
                                                            <textarea class="form-control gray" id="SubStockiest_Direct_Customer" data-ng-model="SubStockiest_Direct_Customer" maxlength="300"></textarea>
                                                        </div>
                                                    </div>
                                                    <div id="PartyTypeDiv">
                                                        <label class="col-sm-1 control-label SubStockiest_Direct_CustomerDIV" id="SubStockistDirectCustomer_Lbl">Party Type<span class="Mandatory">*</span></label>
                                                        <div class="col-sm-3">
                                                            <input type="hidden" class="form-control gray" id="party_type_id" data-ng-model="party_type_id" disabled="disabled" />
                                                            <input type="text" class="form-control gray" id="party_type" data-ng-model="party_type" disabled="disabled" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">@LabelNames.CustomerName</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Customer_Name" data-ng-model="Customer_Name" disabled="disabled" />
                                                    </div>
                                                    <label class="col-sm-1 control-label">@LabelNames.ContactNumber</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Contact_Number" data-ng-model="Contact_Number" disabled="disabled" maxlength="30" />
                                                    </div>
                                                    <div id="Is_Project_PartyDiv">
                                                        <label class="col-sm-1 control-label">@LabelNames.IsProjectParty</label>
                                                        <div class="col-sm-3">
                                                            <input type="checkbox" id="Is_Project_Party" data-ng-model="Is_Project_Party" />
                                                        </div>
                                                    </div>
                                                    <div id="SubStockiest_CodeDiv">
                                                        <label class="col-sm-1 control-label">Sub-Stockiest Code<span class="Mandatory">*</span></label>
                                                        <div class="col-sm-3">
                                                            <div class="input-group add-on">
                                                                <input type="text" class="form-control gray" id="SubStockiest_Code" data-ng-model="SubStockiest_Code" disabled="disabled" />
                                                                <input type="text" class="form-control gray" id="SubStockiest_ID" data-ng-model="SubStockiest_ID" readonly="readonly" style="display: none;" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">@LabelNames.CustomerType</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Customer_Type" data-ng-model="Customer_Type" disabled="disabled" />
                                                    </div>

                                                    <label class="col-sm-1 control-label" style="display: none;">@LabelNames.Fax</label>
                                                    <div class="col-sm-3" style="display: none;">
                                                        <input type="text" class="form-control gray" id="Customer_Fax" data-ng-model="Customer_Fax" disabled="disabled" />
                                                    </div>

                                                    <label class="col-sm-1 control-label">@LabelNames.Email</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Customer_Email" data-ng-model="Customer_Email" disabled="disabled" />
                                                    </div>
                                                    <div id="Site_AddressDiv">
                                                        <label class="col-sm-1 control-label">@LabelNames.SiteAddress</label>
                                                        <div class="col-sm-3">
                                                            <textarea class="form-control gray" id="Site_Address" data-ng-model="Site_Address" maxlength="300" disabled="disabled"></textarea>
                                                        </div>
                                                    </div>
                                                    <div id="SubStockiest_NameDiv">
                                                        <label class="col-sm-1 control-label">Sub-Stockiest Name<span class="Mandatory">*</span></label>
                                                        <div class="col-sm-3">
                                                            <input name="text3" type="text" disabled="disabled" class="form-control gray" id="SubStockiest_Name" data-ng-model="SubStockiest_Name" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    @*<label class="col-sm-1 control-label">@LabelNames.Location</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control gray" id="Customer_Location" data-ng-model="Customer_Location" disabled="disabled" />
                    </div>*@
                                                    <label class="col-sm-1 control-label">@LabelNames.City</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Contact_City" data-ng-model="Contact_City" disabled="disabled" />
                                                    </div>

                                                    @*<label class="col-sm-1 control-label">@LabelNames.ProductType</label>*@
                                                    <label class="col-sm-1 control-label">Business Unit</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Product_Type" data-ng-model="Product_Type" disabled="disabled" />
                                                    </div>


                                                    <div id="SubStockiest_AddressDiv">
                                                        <label class="col-sm-1 control-label">Site Address<span class="Mandatory">*</span></label>
                                                        <div class="col-sm-3">
                                                            @*<input type="text" class="form-control gray" id="SubStockiest_Address" data-ng-model="SubStockiest_Address" disabled="disabled" />*@
                                                            <textarea class="form-control" id="SubStockiest_Address" data-ng-model="SubStockiest_Address" maxlength="300" disabled="disabled"></textarea>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">@LabelNames.State</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Contact_State" data-ng-model="Contact_State" disabled="disabled" />
                                                    </div>

                                                    @*<label class="col-sm-1 control-label">@LabelNames.ProductCategory</label>*@
                                                    <label class="col-sm-1 control-label">Product Type</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Product_Category" data-ng-model="Product_Category" disabled="disabled" />
                                                    </div>


                                                    <div id="SubStockiest_NumberDiv">
                                                        <label class="col-sm-1 control-label">SubStockiest Contact<span class="Mandatory">*</span></label>
                                                        <div class="col-sm-3">
                                                            <input name="text4" type="text" class="form-control gray" id="SubStockiest_Number" onkeypress="return isInteger(event)" maxlength="30" data-ng-model="SubStockiest_Number" disabled="disabled" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-sm-1 control-label">@LabelNames.Area</label>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control gray" id="Contact_Area" data-ng-model="Contact_Area" disabled="disabled" />
                                                    </div>
                                                    <label class="col-sm-1 control-label" style="display: none;"></label>
                                                    <div class="col-sm-3" style="display: none;">
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 tabdiv">
                                        <div class="col-sm-12 CloseOpen" onclick="FormToggle('Material_Supply_Detail')">
                                            <img src="~/Images/en_next.png" id="Material_Supply_Detail_Img" />
                                            <a class="Expand">Material Supply Detail</a>
                                        </div>

                                        <div class="row" style="padding-top: 30px; display: none;" id="Material_Supply_Detail_Form">
                                            <div class="col-sm-12">
                                                <table class="table innertable" id="Material_Supply_Detail_Table">
                                                    <thead>
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>@LabelNames.MSD_MaterialBelongsTo</th>
                                                            <th>@LabelNames.MSD_ProductSuppliedFrom</th>
                                                            <th>@LabelNames.MSD_Name</th>
                                                            <th>@LabelNames.MSD_UOM</th>
                                                            <th>@LabelNames.MSD_SupplyQty</th>
                                                            <th>@LabelNames.MSD_BreakageQty</th>
                                                            <th>@LabelNames.MSD_NetLossQty</th>
                                                            <th style="display: none;">MaterialBelongsCode</th>
                                                            @*MaterialBelongs MEANS PLANT NAME*@
                                                            <th style="display: none;">MaterialBelongsID</th>
                                                            <th style="display: none;">ProductSuppliedFromCode</th>@* Product supliedfrom means SUPPLY_TYPE NAME*@
                                                            <th style="display: none;">ProductSuppliedFromID</th>
                                                            <th style="display: none;">NameCode</th>@* Name means SUPPLY NAME*@
                                                            <th style="display: none;">NameID</th>
                                                            <th style="display: none;">LineID</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="button" value="Add" id="Mat_Sup_Det_Add" class="smallbutton" data-toggle="modal" data-target="#" ng-click="OpenMSDModel()" />

                                                <table class="table innertable" id="Material_Supply_Detail_Table_BU3">
                                                    <thead>
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>Product Code</th>
                                                            <th>Product Name</th>
                                                            <th>
                                                                Material<br />
                                                                Belongs To
                                                            </th>
                                                            <th>
                                                                Product<br />
                                                                Supplied From
                                                            </th>
                                                            <th>Name</th>
                                                            <th>UOM</th>
                                                            <th>
                                                                Supply<br />
                                                                Qty
                                                            </th>
                                                            <th>
                                                                Defect<br />
                                                                Qty
                                                            </th>
                                                            <th>
                                                                Actual<br />
                                                                Defect Qty
                                                            </th>
                                                            <th style="display: none;">Material Belongs To Code</th>
                                                            <th style="display: none;">Product Supplied From Code</th>
                                                            <th style="display: none;">Name Code</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="button" value="Add" id="Mat_Sup_Det_BU3_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="OpenMSD_BU3Model()" />

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 tabdiv">
                                        <div class="col-sm-12 CloseOpen" onclick="FormToggle('Breakage_Investigation_Details')">
                                            <img src="~/Images/en_next.png" id="Breakage_Investigation_Details_Img" />
                                            <a class="Expand">Breakage & Investigation Details</a>
                                        </div>

                                        <div class="row" style="padding-top: 30px; display: none;" id="Breakage_Investigation_Details_Form">
                                            <div class="col-sm-12">
                                                <div class="row" id="InvoiceBasedDiv">
                                                    <div class="form-group">
                                                        <label for="label-2-1" class="col-sm-1 control-label InvoiceBasedClass" style="text-align: right; padding: 0px;">
                                                            @LabelNames.InvoiceBased
                                                        </label>
                                                        <div class="col-sm-7">
                                                            <input type="checkbox" id="Invoice_Based" data-ng-model="Invoice_Based" class="InvoiceBasedClass" />
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-1" class="col-sm-1 control-label PeriodBasedClass" style="text-align: right; padding: 0px;">
                                                            @LabelNames.PeriodBased
                                                        </label>
                                                        <div class="col-sm-7">
                                                            <div class="input-group">
                                                                <input type="checkbox" id="Period_Based" data-ng-model="Period_Based" class="PeriodBasedClass" style="float: left;" />
                                                                <label for="label-2-2" class="col-sm-13 control-label PeriodBasedClass" style="text-align: right; padding-left: 30px; padding-right: 10px; float: left;">
                                                                    @LabelNames.DateSupplyFrom<span class="Mandatory">*</span>
                                                                </label>
                                                                <input type="text" id="Date_Supply_From" data-ng-model="Date_Supply_From" readonly onchange="BindToInvoiceDetails()" class="PeriodBasedClass" style="float: left;" />
                                                                <label for="label-2-2" class="col-sm-13 control-label PeriodBasedClass" style="text-align: right; padding-left: 30px; padding-right: 10px; float: left;">
                                                                    @LabelNames.DateSupplyTo<span class="Mandatory">*</span>
                                                                </label>
                                                                <input type="text" id="Date_Supply_TO" data-ng-model="Date_Supply_TO" readonly onchange="ToDateChangeChange()" class="PeriodBasedClass" style="float: left;" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-2 control-label" style="text-align: right;">
                                                            @LabelNames.InvoiceDetails
                                                        </label>
                                                        <div class="col-sm-7">
                                                            <textarea class="form-control" id="Invoice_Details" data-ng-model="Invoice_Details" maxlength="3000"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="label-2-2" class="col-sm-2 control-label" style="text-align: right;">
                                                            @LabelNames.ProductDetails
                                                        </label>
                                                        <div class="col-sm-7">
                                                            <textarea class="form-control" id="Product_Details" data-ng-model="Product_Details" maxlength="3000"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12" id="Breakage_Investigation_Details_Div">
                                                <table class="table innertable" id="Breakage_Investigation_Details_Table">
                                                    <thead>
                                                        <tr>
                                                            <th>S No</th>
                                                            <th>@LabelNames.BID_ItemProductName</th>
                                                            <th>
                                                                <label class="ForACSheets" style="display: block;">Size(M)</label><label class="ForCCSheets" style="display: none;">Size(ft)</label>
                                                            </th>
                                                            <th style="display: none;">@LabelNames.BID_GrossWtTons</th>
                                                            <th>@LabelNames.BID_SuppliedQtyNos</th>
                                                            <th>
                                                                <label class="ForACSheets" style="display: block;">Supplied Qty(M)</label><label class="ForCCSheets" style="display: none;">Supplied Qty(ft)</label>
                                                            </th>
                                                            <th style="display: none;">@LabelNames.BID_SuppliedQtyTon</th>
                                                            <th>@LabelNames.BID_BreakageQtyNos</th>
                                                            <th>
                                                                <label class="ForACSheets" style="display: block;">Breakage Qty(M)</label><label class="ForCCSheets" style="display: none;">Breakage Qty(ft)</label>
                                                            </th>
                                                            <th style="display: none;">@LabelNames.BID_BreakageQtyTon</th>
                                                            <th>@LabelNames.BID_BreakagePer</th>
                                                            <th>@LabelNames.BID_DefectType</th>
                                                            <th>@LabelNames.BID_Remarks</th>

                                                            <th style="display: none;">ProductCode</th>
                                                            <th style="display: none;">ProductID</th>
                                                            <th style="display: none;">Defect_Type_Code</th>
                                                            <th style="display: none;">Defect_Type_Id</th>
                                                            <th style="display: none;">LineID</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="button" value="Add" id="BRK_INV_Det_Add" class="smallbutton" data-toggle="modal" data-target="#" ng-click="BRKInvOpenModel()" />
                                            </div>


                                            <div class="col-sm-12" id="Breakage_Investigation_Details_SBU3">

                                                <table class="table innertable" id="Supply_Details_TableB" style="margin-top: 10px;">
                                                    <thead>
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>Product Code</th>
                                                            <th>Product Name</th>
                                                            <th style="display:none" id="THPlantName">Plant Name</th>
                                                            <th>Invoice No</th>
                                                            <th>Invoice Date</th>
                                                            <th>Batch No</th>
                                                            <th>
                                                                Supplied
                                                                <br />
                                                                Qty(Nos)
                                                            </th>
                                                            <th>
                                                                Defect
                                                                <br />
                                                                Qty(Nos)
                                                            </th>
                                                            <th>
                                                                Actual
                                                                <br />
                                                                Defect
                                                                <br />
                                                                Qty(Nos)
                                                            </th>
                                                            <th>Transporter</th>
                                                            <th>Defect Type</th>
                                                            <th id="THDefectprct">Defect %</th>
                                                            <th>Remarks</th>
                                                            <th id="THBasicAmount">Basic Amount</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="button" value="Add" id="Supply_Details_AddB" class="smallbutton" data-toggle="modal" data-target="#" onclick="OpenSupDetModelB()" />
                                                @*VIKAS G , 2023-3-17 SBU8 START.*@
                                                <div class="col-sm-12" id="totalprodvalue">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-10 control-label" style="text-align: right;">
                                                                Total Basic Value
                                                            </label>
                                                            <div class="col-sm-2" style="float : right">
                                                                <input type="text" class="form-control" id="total_prod_value" data-ng-model="total_prod_value" disabled />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                @*VIKAS G , 2023-3-17 SBU8 END.*@
                                            </div>
                                            <div class="col-sm-12" id="SupplyDetailsDiv_SBU2">
                                                <table class="table innertable" id="Supply_Details_Table_SBU2" style="margin-top: 10px;">
                                                    <thead>
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>Product Code</th>
                                                            <th>Product Name</th>
                                                            <th>Invoice No</th>
                                                            <th>Invoice Date</th>
                                                            <th>Batch No</th>
                                                            <th>Supplied Qty(Nos)</th>
                                                            <th class="BreakageQtyLabel">Breakage Qty(Nos)</th>
                                                            <th>@LabelNames.CompBreakageOtherTotalBreakageQtyPercentage</th>
                                                            <th>@LabelNames.CompBreakageOtherAllowedBreakagePercentage</th>
                                                            <th>@LabelNames.CompBreakageOtherActualBreakageQtyNos</th>
                                                            <th>Transporter</th>
                                                            <th>Defect Type</th>
                                                            <th>Remarks</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                            <div class="col-sm-12" id="Breakage_OtherLines_Details_Div" style="display: none;">
                                                <table class="table innertable" id="Breakage_OtherLines_Details_Table">
                                                    <thead>
                                                        <tr>
                                                            <th>@LabelNames.CompBreakageOtherSNo</th>
                                                            <th>@LabelNames.CompBreakageOtherSuppliedQty</th>
                                                            <th>@LabelNames.CompBreakageOtherTotalBreakageQty</th>

                                                            <th>@LabelNames.CompBreakageOtherTotalBreakageQtyPercentage</th>
                                                            <th>@LabelNames.CompBreakageOtherAllowedBreakagePercentage</th>

                                                            <th>@LabelNames.CompBreakageOtherActualBreakageQtyNos</th>
                                                            <th>@LabelNames.CompBreakageOtherTransporter</th>

                                                            <th>@LabelNames.CompBreakageOtherRemarks</th>
                                                            <th style="display: none;">LineID</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <input type="button" value="Add" id="BRK_OtherLines_Det_Add" class="smallbutton" data-toggle="modal" data-target="#" ng-click="BRKOtherLinesOpenModel()" />
                                            </div>
                                            <div class="col-sm-12" id="CompensationQtyMtrTonsDiv">
                                                <div class="col-sm-6">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                                                Total Supply Qty(Mtrs)
                                                            </label>
                                                            <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                                                Total Supply Qty(ft)
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control" id="Total_Supply_Qty_Mtrs_Compensation" data-ng-model="Total_Supply_Qty_Mtrs" onkeypress="return isNumber(event)" onchange="Total_Supply_Oty_MtrsChange_Compensation()" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                                                Total Breakage Qty(Mtrs)
                                                            </label>
                                                            <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                                                Total Breakage Qty(ft)
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control" id="Total_Breakage_Qty_Mtrs_Compensation" data-ng-model="Total_Breakage_Qty_Mtrs" onkeypress="return isNumber(event)" onchange="Total_Breakage_Qty_MtrsChange_Compensation()" />
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                                                Total Recovery(Mtrs)
                                                            </label>
                                                            <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                                                Total Recovery(ft)
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control" id="Total_Recovery_Mtrs_Compensation" data-ng-model="Total_Recovery_Mtrs" onkeypress="return isNumber(event)" onchange="Total_Recovery_MtrsChange_Compensation()" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                                                Net Loss(Mtrs)
                                                            </label>
                                                            <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                                                Net Loss(ft)
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control gray" id="Net_Loss_Mtrs_Compensation" data-ng-model="Net_Loss_Mtrs" onkeypress="return isNumber(event)" disabled="disabled" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                @LabelNames.TotalSupplyQtyTons
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control gray" id="Total_Supply_Qty_Tons_Compensation" data-ng-model="Total_Supply_Qty_Tons" onkeypress="return isNumber(event)" disabled="disabled" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                @LabelNames.TotalBreakageQtyTons
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control gray" id="Total_Breakage_Qty_Tons_Compensation" data-ng-model="Total_Breakage_Qty_Tons" onkeypress="return isNumber(event)" disabled="disabled" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                @LabelNames.TotalRecoveryTons
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control gray" id="Total_Recovery_Tons_Compensation" data-ng-model="Total_Recovery_Tons" onkeypress="return isNumber(event)" onchange="Total_Recovery_Tons_Compensation_Change()" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                @LabelNames.NetLossTons
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <input type="text" class="form-control gray" id="Net_Loss_Tons_Compensation" data-ng-model="Net_Loss_Tons" onkeypress="return isNumber(event)" disabled="disabled" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                    <div class="col-sm-12 tabdiv">
                                        <div class="col-sm-12 CloseOpen" onclick="FormToggle('Compensation_Recommendation')">
                                            <img src="~/Images/en_next.png" id="Compensation_Recommendation_Img" />
                                            @*<a class="Expand">Compensation Recommendation (Sheeting)</a>*@
                                            <a class="Expand">Compensation Recommendation </a>
                                        </div>

                                        <div class="row" style="padding-top: 30px; display: none;" id="Compensation_Recommendation_Form">
                                            <div class="col-sm-12">
                                                <div class="col-sm-6">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                @LabelNames.CompensationMode<span class="Mandatory">*</span>
                                                            </label>

                                                            <div class="col-sm-6">
                                                                <div class="input-group add-on">
                                                                    <input type="text" class="form-control" id="Compensation_Mode" data-ng-model="Compensation_Mode" disabled="disabled" />
                                                                    <div class="input-group-btn">
                                                                        <span class="btn btn-default" ng-click="Getdata('GetCompensation_Mode_Mast','Compensation_Mode_Mast','Compensation Mode List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @*<div class="input-group OpenPopupIcon col-sm-7">
                                    <input type="text" class="form-control" id="Compensation_Mode" data-ng-model="Compensation_Mode" disabled="disabled" />
                                    <span class="input-group-addon AddonButton" ng-click="Getdata('GetCompensation_Mode_Mast','Compensation_Mode_Mast','Compensation Mode List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                </div>*@
                                                        </div>
                                                    </div>
                                                    @*if Product type is Sheeting*@
                                                    <div id="CompensationDiv_Sheeting">
                                                        <div class="row">
                                                            <div class="form-group">
                                                                <label style="text-align: right; display: block;" class="col-sm-5 control-label ForACSheets" for="label-2-2">
                                                                    Compensation In Running Meters
                                                                </label>
                                                                <label style="text-align: right; display: none;" class="col-sm-5 control-label ForCCSheets" for="label-2-2">
                                                                    Compensation In Running feet
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <input type="text" class="form-control" id="Compensation_In_Running_Meters" data-ng-model="Compensation_In_Running_Meters" value="" name="inum" onkeypress="return isNumber(event)" onkeyup="test.rnum.value = toWords(test.inum.value);" />
                                                                    <div id="divDisplayWords">
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.CompensationInTons
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <input type="text" class="form-control" id="Compensation_In_Tons" data-ng-model="Compensation_In_Tons" onkeypress="return isNumber(event)" onchange="CompareWithNetLossTons()" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group">
                                                                <label style="text-align: right; display: block;" class="col-sm-5 control-label ForACSheets" for="label-2-2">
                                                                    Compensation In Running Meter (Words)
                                                                </label>
                                                                <label style="text-align: right; display: none;" class="col-sm-5 control-label ForCCSheets" for="label-2-2">
                                                                    Compensation In Running Feet (Words)
                                                                </label>
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <textarea class="form-control" id="Compensation_In_Running_Meter_Words" data-ng-model="Compensation_In_Running_Meter_Words" name="rnum" maxlength="300"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row HideMeForCCSheets">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.SizeRecommendationRMTSOf36M
                                                                </label>
                                                                <div class="col-sm-7">
                                                                    <div class="input-group">
                                                                        <input type="text" class="form-control gray" id="Size_Recommendation_RMTS" data-ng-model="Size_Recommendation_RMTS" disabled="disabled" style="width: 40%" onkeypress="return isNumber(event)" />
                                                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right; width: 20%; padding-left: 0px; padding-right: 0px;">
                                                                            @LabelNames.Noof36
                                                                        </label>
                                                                        <input type="text" class="form-control" id="No_of_36" data-ng-model="No_of_36" style="width: 40%" onkeypress="return isNumber(event)" onchange="CalculateSizeRecommendation()" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row HideMeForCCSheets">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.OtherSizeRMTS
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <input type="text" class="form-control" id="Other_Size_RMTS" data-ng-model="Other_Size_RMTS" onkeypress="return isNumber(event)" />
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="col-sm-12" id="RecommendedForCCSheetsDivision">
                                                            <table class="table innertable" id="RecommendedForCCSheets" style="width: 100%;">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Sl No</th>
                                                                        <th>Recommended Size</th>
                                                                        <th>Nos</th>
                                                                        <th>GrossWeight</th>
                                                                        <th>Tons</th>
                                                                        <th style="display: none;">ProductCode</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>
                                                            <input type="button" value="Add" id="RecommendedForCCSheets_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="RecommendedLinesCCSheets()" />
                                                        </div>

                                                    </div>

                                                    @*End*@
                                                    @*if Product type is Aerocon*@
                                                    <div id="CompensationDiv_Aerocon" style="display: none;">
                                                        <div class="row">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.CompensationInNos<span class="Mandatory">*</span>
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <input type="text" class="form-control" id="CompensationInNos" data-ng-model="CompensationInNos" value="" name="inum_Aerocon" onkeypress="return isInteger(event)" onkeyup="test.rnum_Aerocon.value = toWords(test.inum_Aerocon.value);" />
                                                                    @*<input type="text" class="form-control" id="CompensationInNos" data-ng-model="CompensationInNos" value="" name="inum_Aerocon" onkeypress="return isNumberKey(event)" onkeyup="test.rnum_Aerocon.value = toWords(test.inum_Aerocon.value);" />*@
                                                                    <div id="divDisplayWordsSize">
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.CompensationInNosWords
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <textarea class="form-control" id="CompensationInNosWords" data-ng-model="CompensationInNosWords" name="rnum_Aerocon" maxlength="300"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row" id="CompensationinMetricCubicValueDivision">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.CompensationinMetricCubic
                                                                </label>
                                                                <div class="col-sm-7">
                                                                    <div class="input-group">
                                                                        <select class="form-control" id="CompensationinMetricCubic" style="width: 40%" data-ng-model="CompensationinMetricCubic">
                                                                            <option value="">Select UOM</option>
                                                                            <option value="Cubic Meters">Cubic Meters</option>
                                                                            <option value="Metric Tons">Metric Tons</option>

                                                                        </select>
                                                                        @* <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right; width: 20%; padding-left: 0px; padding-right: 0px;">*@
                                                                        @* @LabelNames.Noof36</label>*@
                                                                        <input type="text" class="form-control" id="CompensationinMetricCubicValue" data-ng-model="CompensationinMetricCubicValue" style="width: 40%" onkeypress="return isNumber(event)" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.CompensationIssueCreditNote
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <input type="checkbox" id="CompensationIssueCreditNote" data-ng-model="CompensationIssueCreditNote" ng-change="IssueCredited()" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row" ng-show="AmountCredited">
                                                            <div class="form-group">
                                                                <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                    @LabelNames.CompensationAmountCredited
                                                                </label>
                                                                <div class="col-sm-6">
                                                                    <input type="text" class="form-control" id="CompensationAmountCredited" data-ng-model="CompensationAmountCredited" onkeypress="return isNumber(event)" />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    @*End*@

                                                </div>

                                                <div class="col-sm-6">
                                                    <div class="row">
                                                        <div class="form-group">
                                                            <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                                                @LabelNames.AnySpecialRemarks
                                                            </label>
                                                            <div class="col-sm-7">
                                                                <textarea class="form-control" id="Any_Special_Remarks" data-ng-model="Any_Special_Remarks" maxlength="300"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-12" id="CompensationSize_Details_Div">
                                                    <table class="table innertable" id="CompensationSizeLines_Details_Table">
                                                        <thead>
                                                            <tr>
                                                                <th>@LabelNames.CompensationSizeLinesSNo</th>
                                                                <th>@LabelNames.CompensationSizeLinesRecommendSize</th>
                                                                <th>@LabelNames.CompensationSizeLinesNos</th>

                                                                <th>@LabelNames.CompensationSizeLinesGrossWeight</th>
                                                                <th>@LabelNames.CompensationSizeLinesTons</th>
                                                                <th style="display: none;">ProductCode</th>
                                                                <th style="display: none;">ProductID</th>
                                                                <th style="display: none;">LineID</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                    <input type="button" value="Add" id="CompensationSize_Add" class="smallbutton" data-toggle="modal" data-target="#" ng-click="CompensationSizeLinesOpenModel()" />
                                                </div>


                                                <div class="col-sm-12" id="CompensationRecommSBU3Div">
                                                    <table class="table innertable" id="CompensationRecommSBU3">
                                                        <thead>
                                                            <tr>
                                                                <th>SlNo</th>
                                                                <th>Product Code</th>
                                                                <th>Product Name</th>
                                                                <th id="THUnits" >Units</th>
                                                                <th id="THPkgQty">Package Qty</th>
                                                                <th class="RecomNos">Nos</th>
                                                                <th id="THTotQtyinUnits">Total Qty</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                    <input type="button" value="Add" id="CompensationRecommSBU3_Add" class="smallbutton" data-toggle="modal" data-target="#" onclick="RecommSBU3LinesOpenModel()" />
                                                </div>



                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="modal fade" id="MaterialSupplyDetailModal" tabindex="-1" role="dialog" aria-labelledby="MSDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="MSDModalLabel">@LabelNames.MaterialSupplyDetailPopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="MSD_id" data-ng-model="MSD_id" />
                            <input type="text" id="CompFormIden" style="display: none;" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_MaterialBelongsTo
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Material_Belongs_To" data-ng-model="Material_Belongs_To" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetPlantMasterInv_Compensation','GetPlantMaster','Plant List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                                <input type="text" class="form-control" id="Materrial_Belongs_To_PlantCode" data-ng-model="Materrial_Belongs_To_PlantCode" style="display: none;" />
                                                <input type="text" class="form-control" id="Materrial_Belongs_To_PlantId" data-ng-model="Materrial_Belongs_To_PlantId" style="display: none;" />
                                            </div>
                                        </div>
                                        @*<div class="input-group OpenPopupIcon col-sm-5">
                                            <input type="text" class="form-control" id="Material_Belongs_To" data-ng-model="Material_Belongs_To" disabled="disabled" />
                                            <span class="input-group-addon AddonButton" ng-click="Getdata('GetPlantMasterInv_Compensation','GetPlantMaster','Plant List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                            <input type="text" class="form-control" id="Materrial_Belongs_To_PlantCode" data-ng-model="Materrial_Belongs_To_PlantCode" style="display: none;" />
                                            <input type="text" class="form-control" id="Materrial_Belongs_To_PlantId" data-ng-model="Materrial_Belongs_To_PlantId" style="display: none;" />
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_ProductSuppliedFrom
                                        </label>

                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Product_Supplied_From" data-ng-model="Product_Supplied_From" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductSuppliedFromInv_Compensation','Product_Supplied_From','Supplier List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                                <input type="text" class="form-control" id="ProductSuppliedFrom_CODE" data-ng-model="ProductSuppliedFrom_CODE" style="display: none;" />
                                                <input type="text" class="form-control" id="ProductSuppliedFrom_ID" data-ng-model="ProductSuppliedFrom_ID" style="display: none;" />
                                            </div>
                                        </div>



                                        @*<div class="input-group OpenPopupIcon col-sm-5">
                                            <input type="text" class="form-control" id="Product_Supplied_From" data-ng-model="Product_Supplied_From" disabled="disabled" />
                                            <span class="input-group-addon AddonButton" ng-click="Getdata('GetProductSuppliedFromInv_Compensation','Product_Supplied_From','Supplier List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                            <input type="text" class="form-control" id="ProductSuppliedFrom_CODE" data-ng-model="ProductSuppliedFrom_CODE" style="display: none;" />
                                            <input type="text" class="form-control" id="ProductSuppliedFrom_ID" data-ng-model="ProductSuppliedFrom_ID" style="display: none;" />
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_Name
                                        </label>

                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="MSD_Name" data-ng-model="MSD_Name" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetMSD_NameInv_Compensation','MSD_Name','')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                    @*<span class="btn btn-default" ng-click="Getdata('GetMSD_NameInv','MSD_Name','')"><i class="glyphicon glyphicon-new-window"></i></span>*@
                                                </div>
                                                <input type="text" class="form-control" id="Name_CODE" data-ng-model="Name_CODE" style="display: none;" />
                                                <input type="text" class="form-control" id="Name_Id" data-ng-model="Name_Id" style="display: none;" />
                                            </div>
                                        </div>

                                        @*<div class="input-group OpenPopupIcon col-sm-5">
                                            <input type="text" class="form-control" id="MSD_Name" data-ng-model="MSD_Name" disabled="disabled" />
                                            <span class="input-group-addon AddonButton" ng-click="Getdata('GetMSD_NameInv_Compensation','MSD_Name','')"><i class="glyphicon glyphicon-new-window"></i></span>
                                            <input type="text" class="form-control" id="Name_CODE" data-ng-model="Name_CODE" style="display: none;" />
                                            <input type="text" class="form-control" id="Name_Id" data-ng-model="Name_Id" style="display: none;" />
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_UOM
                                        </label>
                                        <div class="col-sm-5">
                                            <select class="form-control" id="MSD_UOM" data-ng-model="MSD_UOM">
                                                <option value="">Select UOM</option>
                                                <option value="Metric Tons">Metric Tons</option>
                                                <option value="Cubic Meters">Cubic Meters</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_SupplyQty
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="MSD_Supply_Qty" data-ng-model="MSD_Supply_Qty" onkeypress="return isNumber(event)" onchange="CalculateNetLossqty()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_BreakageQty
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="MSD_Breakage_Qty" data-ng-model="MSD_Breakage_Qty" onkeypress="return isNumber(event)" onchange="CalculateNetLossqty()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_NetLossQty
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="MSD_Net_Loss_Qty" data-ng-model="MSD_Net_Loss_Qty" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="MSD_Save" class="btn btn-danger smallbutton" ng-click="SaveMSDData()">Save</button>
                    <button type="button" id="MSD_Delete" class="btn btn-danger smallbutton" ng-click="DeleteMSD()">Delete</button>
                    <button type="button" id="MSD_Close" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="Breakage_Investigation_Details_Modal" tabindex="-1" role="dialog" aria-labelledby="BIDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="BIDModalLabel">@LabelNames.BreakageInvestigationDetailsPopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="BID_id" data-ng-model="BID_id" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.BID_ItemTypeProductName<span class="Mandatory">*</span>
                                        </label>

                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Item_Type_Product_Name" data-ng-model="Item_Type_Product_Name" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetItem_Type_Product_NameComp','ProductMaster','Product Details List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                                <input type="text" class="form-control" id="Item_Type_Product_Id" data-ng-model="Item_Type_Product_Id" style="display: none;" />
                                                <input type="text" class="form-control" id="Item_Type_Product_Code" data-ng-model="Item_Type_Product_Code" style="display: none;" />
                                            </div>
                                        </div>

                                        @*<div class="input-group OpenPopupIcon col-sm-5">
                                            <input type="text" class="form-control" id="Item_Type_Product_Name" data-ng-model="Item_Type_Product_Name" disabled="disabled" />

                                            <span class="input-group-addon AddonButton" ng-click="Getdata('GetItem_Type_Product_NameComp','ProductMaster','Product Details List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                            <input type="text" class="form-control" id="Item_Type_Product_Id" data-ng-model="Item_Type_Product_Id" style="display: none;" />
                                            <input type="text" class="form-control" id="Item_Type_Product_Code" data-ng-model="Item_Type_Product_Code" style="display: none;" />
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12" style="display: none;">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            GrossWeight<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="GrossWeight" data-ng-model="GrossWeight" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                            Size(M)<span class="Mandatory">*</span></label>
                                        <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                            Size(ft)<span class="Mandatory">*</span></label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="Size_M" data-ng-model="Size_M" onkeypress="return isNumber(event)" onchange="SizeisChanged()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.BID_SuppliedQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="Supplied_Qty_Nos" data-ng-model="Supplied_Qty_Nos" onkeypress="return isNumber(event)" onchange="CalculateSupplyinTons()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                            Supplied Qty(M)<span class="Mandatory">*</span></label>
                                        <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                            Supplied Qty(ft)<span class="Mandatory">*</span></label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control gray" id="Supplied_Qty_M" data-ng-model="Supplied_Qty_M" onkeypress="return isNumber(event)" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12" style="display: none;">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.BID_SuppliedQtyTons<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="Supplied_Qty_Tons" data-ng-model="Supplied_Qty_Tons" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Breakage Qty(Nos)<span class="Mandatory">*</span></label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="Breakage_Qty_Nos" data-ng-model="Breakage_Qty_Nos" onkeypress="return isNumber(event)" onchange="CalculateBreakagePercentage()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label ForACSheets" style="text-align: right; display: block;">
                                            Breakage Qty(M)<span class="Mandatory">*</span></label>
                                        <label for="label-2-2" class="col-sm-5 control-label ForCCSheets" style="text-align: right; display: none;">
                                            Breakage Qty(ft)<span class="Mandatory">*</span></label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control gray" id="Breakage_Qty_M" data-ng-model="Breakage_Qty_M" onkeypress="return isNumber(event)" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12" style="display: none;">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right; display: none;">
                                            BID_BreakageQtyTons<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="Breakage_Qty_Tons" data-ng-model="Breakage_Qty_Tons" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.BID_BreakagePer<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control gray" id="Breakage_Percentage" data-ng-model="Breakage_Percentage" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.BID_DefectType<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Defect_Type" data-ng-model="Defect_Type" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetDefect_TypeComp','DefectTypeMaster','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                                <input type="text" class="form-control" id="Defect_Type_Id" data-ng-model="Defect_Type_Id" style="display: none;" />
                                                <input type="text" class="form-control" id="Defect_Type_Code" data-ng-model="Defect_Type_Code" style="display: none;" />
                                            </div>
                                        </div>

                                        @*<div class="input-group OpenPopupIcon col-sm-5">
                                            <input type="text" class="form-control" id="Defect_Type" data-ng-model="Defect_Type" disabled="disabled" />
                                            <span class="input-group-addon AddonButton" ng-click="Getdata('GetDefect_TypeComp','DefectTypeMaster','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                            <input type="text" class="form-control" id="Defect_Type_Id" data-ng-model="Defect_Type_Id" style="display: none;" />
                                            <input type="text" class="form-control" id="Defect_Type_Code" data-ng-model="Defect_Type_Code" style="display: none;" />
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.BID_Remarks
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BID_Remarks" data-ng-model="BID_Remarks" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="BID_Save" class="btn btn-danger smallbutton" ng-click="SaveBIDData()">Save</button>
                    <button type="button" id="BID_Delete" class="btn btn-danger smallbutton" ng-click="DeleteBID()">Delete</button>
                    <button type="button" id="BID_Close" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="Breakage_OtherLines_Details_Modal" tabindex="-1" role="dialog" aria-labelledby="BIDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="BIDOtherModalLabel">@LabelNames.CompBreakLinesOtherHeading</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="BreakOtherID_id" data-ng-model="BreakOtherID_id" />

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherSuppliedQtyNo<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BOTHER_SuppliedQtyNo" data-ng-model="BOTHER_SuppliedQtyNo" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherTotalBreakageQtyNo<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BOTHER_TotalBreakageQtyNo" data-ng-model="BOTHER_TotalBreakageQtyNo" onkeypress="return isNumber(event)" onchange="CalculateBreakagePercentage_BreakageLines()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherTotalBreakageQtyPercentage<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control gray" id="BOTHER_TotalBreakageQtyPer" data-ng-model="BOTHER_TotalBreakageQtyPer" onkeypress="return isNumber(event)" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherAllowedBreakagePercentage<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BOTHER_AllowedBreakageQtyPer" data-ng-model="BOTHER_AllowedBreakageQtyPer" onkeypress="return isNumber(event)" onchange="AllowedBreakagePercentageChange()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherActualBreakageQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BOTHER_ActualBreakageQtyNos" data-ng-model="BOTHER_ActualBreakageQtyNos" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherTransporter
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BOTHER_Transporter" data-ng-model="BOTHER_Transporter" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherRemarks
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="BOTHER_Remarks" data-ng-model="BOTHER_Remarks" />
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="BOtherID_Save" class="btn btn-danger smallbutton" ng-click="SaveBIDOtherData()">Save</button>
                    <button type="button" id="BOtherID_Delete" class="btn btn-danger smallbutton" ng-click="DeleteBIDOther()">Delete</button>
                    <button type="button" id="BOtherID_Close" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="CompensationSizeLines_Details_Modal" tabindex="-1" role="dialog" aria-labelledby="CompensationSizeModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="CompensationSizeModalLabel">@LabelNames.CompensationSizeLinePopUpHeading</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="CompensationSize_id" data-ng-model="CompensationSize_id" />

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompensationSizeLinePopUpRecommendedSize<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="CompensationRecommendedSize" data-ng-model="CompensationRecommendedSize" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetRecommendedSizeCompensation_SBU2','GetProductMaster_Compensation_SBU2','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                                <input type="text" class="form-control" id="CompensationProductID" data-ng-model="CompensationProductID" style="display: none;" />
                                                <input type="text" class="form-control" id="CompensationProductCode" data-ng-model="CompensationProductCode" style="display: none;" />
                                            </div>
                                        </div>

                                        @*<div class="input-group OpenPopupIcon col-sm-5">
                                            <input type="text" class="form-control" id="CompensationRecommendedSize" data-ng-model="CompensationRecommendedSize" disabled="disabled" />

                                            <span class="input-group-addon AddonButton" ng-click="Getdata('GetRecommendedSizeCompensation','GetProductMaster_Compensation','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                            <input type="text" class="form-control" id="CompensationProductID" data-ng-model="CompensationProductID" style="display: none;" />
                                            <input type="text" class="form-control" id="CompensationProductCode" data-ng-model="CompensationProductCode" style="display: none;" />
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompensationSizeLinePopUpNos
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="CompensationSizeLineNos" data-ng-model="CompensationSizeLineNos" onkeypress="return isNumber(event)" onchange="CalculateGrossWt()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompensationSizeLinePopUpGrossWeight
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="CompensationSizeLineGrossWeight" data-ng-model="CompensationSizeLineGrossWeight" onkeypress="return isNumber(event)" onchange="CalculateGrossWt()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompensationSizeLinePopUpTons
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="CompensationSizeLineTons" data-ng-model="CompensationSizeLineTons" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="CompSizeLines_Save" class="btn btn-danger smallbutton" ng-click="SaveCompensationSizeLinesData()">Save</button>
                    <button type="button" id="CompSizeLines_Delete" class="btn btn-danger smallbutton" ng-click="DeleteCompensationSizeLines()">Delete</button>
                    <button type="button" id="CompSizeLines_Close" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="CCSheetsCompensationSizeLines_Details_Modal" tabindex="-1" role="dialog" aria-labelledby="CCSheetsCompensationSizeModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="CCSheetsCompensationSizeModalLabel">@LabelNames.CompensationSizeLinePopUpHeading</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="text" id="CCS_CompensationSize_id" data-ng-model="CCS_CompensationSize_id" style="display: none;" />

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Recommended Size<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="CCS_CompensationRecommendedSize" data-ng-model="CCS_CompensationRecommendedSize" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetRecommendedSizeCompensationCCSheets','GetRecommendedSizeCompensationCCSheets','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                    @*<span class="btn btn-default" ng-click="Getdata('GetRecommendedSizeCompensation_SBU2','GetProductMaster_Compensation_SBU2','Product Details')"><i class="glyphicon glyphicon-new-window"></i></span>*@
                                                </div>
                                                <input type="text" class="form-control" id="CCS_CompensationProductCode" data-ng-model="CCS_CompensationProductCode" style="display: none;" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Nos
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="CCSCompensationSizeLineNos" data-ng-model="CCSCompensationSizeLineNos" onkeypress="return isNumber(event)" onchange="CCSCompensationSizeLineNosNumber()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Gross Weight
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="CCS_Gross_Weight" data-ng-model="CCS_Gross_Weight" onkeypress="return isNumber(event)" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Tons
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="CCS_CompensationSizeLineTons" data-ng-model="CCS_CompensationSizeLineTons" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="CCSheets_Save" class="btn btn-danger smallbutton" onclick="SaveCompensationSizeLinesData()">Save</button>
                    <button type="button" id="CCSheets_Delete" class="btn btn-danger smallbutton" onclick="DeleteCCLines()">Delete</button>
                    <button type="button" id="CCSheets_Close" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="ApprovalsActionForm" tabindex="-1" role="dialog" aria-labelledby="ApprovalsLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="ApprovalsLabel">Approvals Action Form</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Remarks</label>
                                        <div class="col-sm-4">
                                            <textarea class="form-control" id="Approvals_Remarks" data-ng-model="Approvals_Remarks" maxlength="300"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" ng-click="MakeApproved('Approved')">Approve</button>
                    <button type="button" class="btn btn-info" ng-click="MakeApproved('Rejected')">Reject</button>
                    <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="MaterialSupplyDetailModalBU3" tabindex="-1" role="dialog" aria-labelledby="MSDModalLabelBU3">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="MSDModalLabelBU3">@LabelNames.MaterialSupplyDetailPopUp</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="BU3MSD_id" />

                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">Product Code<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="BU3MSD_ProductCode" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductMasterInvBU3Comp','GetProductMasterBU3','Product Details List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">Product Name</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control disabled" id="BU3MSD_ProductName" data-ng-model="MSD_Breakage_Qty" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_MaterialBelongsTo<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="BU3Material_Belongs_To_Name" disabled="disabled" />
                                                <input type="text" class="form-control" id="BU3Material_Belongs_TO_CODE" style="display: none;" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetPlantMasterInvBU3Comp','GetPlantMaster','Plant List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_ProductSuppliedFrom<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="BU3Product_Supplied_From_Name" disabled="disabled" />
                                                <input type="text" class="form-control" id="BU3Product_Supplied_From_CODE" style="display: none;" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductSuppliedFromInvBU3Comp','Product_Supplied_FromComp','Supplier List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_Name<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="BU3MSD_Name_Name" disabled="disabled" />
                                                <input type="text" class="form-control" id="BU3MSD_Name_CODE" style="display: none;" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetMSD_NameInvBU3Comp','MSD_NameBU3','')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_UOM<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BU3MSD_UOM" disabled="disabled" value="EA" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.MSD_SupplyQty<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BU3MSD_Supply_Qty" onkeypress="return isNumber(event)" onchange="MSD_QuantityChangesBU3(this.id)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">Defect Qty<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BU3MSD_Defect_Qty" onkeypress="return isNumber(event)" onchange="MSD_QuantityChangesBU3(this.id)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">Actual Defect Qty<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BU3MSD_Actual_Defect_Qty" onkeypress="return isNumber(event)" onchange="MSD_QuantityChangesBU3(this.id)" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="BU3MSD_Save" class="btn btn-info" onclick="SaveMSDBU3Data()">Save</button>
                    <button type="button" id="BU3MSD_Delete" class="btn btn-info" onclick="DeleteMSDBU3()">Delete</button>
                    <button type="button" id="BU3MSD_Close" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SupplyDetailModalB" tabindex="-1" role="dialog" aria-labelledby="SDModalLabelB">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    @*<h4 class="modal-title" id="SDModalLabelB">@LabelNames.SupplyDetailPopUp</h4>*@
                    <h4 class="modal-title" id="SDModalLabelB">Supply Lines</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="SD_idB" data-ng-model="SD_idB" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Product Code<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_Item_Type_Product_Name_CODEB" data-ng-model="SD_Item_Type_Product_Name_CODEB" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductMasterInvBSBU3Comp_','GetProductMasterSBU3','Product Details List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Product Name
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Item_Type_Product_NameB" data-ng-model="SD_Item_Type_Product_NameB" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @*//VIKAS G, 8/3/2022 JOSEPH REQUIREMENT, Material supply details and invoice details - - what is the purpose of entering data two doff places. Cumbersome process .start*@
                            <div class="col-sm-12" style="display : none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Plant Name
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Item_Type_Plant_NameB" data-ng-model="SD_Item_Type_Plant_NameB" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @*//VIKAS G, 8/3/2022 JOSEPH REQUIREMENT, Material supply details and invoice details - - what is the purpose of entering data two doff places. Cumbersome process .*@
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Invoice No<span class="Mandatory">*</span>
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="InvoiceNoB" data-ng-model="InvoiceNoB" maxlength="10" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Invoice Date<span class="Mandatory">*</span>
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="InvoiceDateB" data-ng-model="InvoiceDateB" readonly="readonly" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Batch No
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="BatchNoB" data-ng-model="BatchNoB" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Supplied Qty(Nos)<span class="Mandatory">*</span>
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="SuppliedQtyNosB" data-ng-model="SuppliedQtyNosB" onkeypress="return isInteger(event)" onchange="SDMBSuppliedBreakageQtyChange(this.id)" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Defect Qty(Nos)<span class="Mandatory">*</span>
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="BreakageQtyNosB" data-ng-model="BreakageQtyNosB" onkeypress="return isInteger(event)" onchange="SDMBSuppliedBreakageQtyChange(this.id)" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Actual Defect Qty(Nos)<span class="Mandatory">*</span>
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="ActualBreakageQtyNosB" data-ng-model="ActualBreakageQtyNosB" onkeypress="return isInteger(event)" onchange="SDMBSuppliedBreakageQtyChange(this.id)" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Transporter
                    </label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="TransporterB" data-ng-model="TransporterB" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="row">
                <div class="form-group">
                    <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                        Defect Type<span class="Mandatory">*</span>
                    </label>
                    <div class="col-sm-4">
                        <div class="input-group add-on">
                            <input type="text" class="form-control" id="Defect_TypeB" disabled="disabled" />
                            <input type="text" class="form-control" id="Defect_Type_CODEB" style="display: none;" />
                            <div class="input-group-btn">
                                <span class="btn btn-default" ng-click="Getdata('GetDefectTypeMasterCompBSBU3','GetDefectTypeMasterCompBSBU3','Defect Type List')"><i class="glyphicon glyphicon-new-window"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* VIKAS G, 2023-03-17 SBU8 START*@
                            <div class="col-sm-12" id="Defectprctdiv" style="display:none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Defect %
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="DefectprctBU8" data-ng-model="DefectprctBU8" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @* VIKAS G, 2023-03-17 SBU8 END*@
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Remarks
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="RemarksB" data-ng-model="RemarksB" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @* VIKAS G, 2023-03-17 SBU8 START*@
                            <div class="col-sm-12" id="BasicAmountdiv" style="display:none">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Basic Amount
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BasicAmount" data-ng-model="BasicAmount" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @* VIKAS G, 2023-03-17 SBU8 END*@
                            <div class="col-sm-12" style="display: none;">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Attachments
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="AttachmentsB" data-ng-model="AttachmentsB" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="SD_SaveB" class="btn btn-info" ng-click="SaveSDDataB()">Save</button>
                    <button type="button" id="SD_DeleteB" class="btn btn-info" ng-click="DeleteSDB()">Delete</button>
                    <button type="button" id="SD_CloseB" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SupplyDetailModal_SBU2" tabindex="-1" role="dialog" aria-labelledby="SDModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="SDModalLabel_SBU2">Supply Detail_SBU2@*@LabelName.SupplyDetail_PopUp*@</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">                        
                        <div class="row">
                            <input type="hidden" id="SD_id_SBU2" data-ng-model="SD_id_SBU2" />
                            <input type="hidden" id="SD_LineId" data-ng-model="SD_LineId" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Product Code<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="SD_Item_Type_Product_Name_CODE_SBU2" data-ng-model="SD_Item_Type_Product_Name_CODE_SBU2" disabled="disabled" />
                                                <div class="input-group-btn">                                                    
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Product Name</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SD_Item_Type_Product_Name_SBU2" data-ng-model="SD_Item_Type_Product_Name_SBU2" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Invoice No<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="InvoiceNo_SBU2" data-ng-model="InvoiceNo_SBU2" maxlength="10" disabled="disabled"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Invoice Date<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="InvoiceDate_SBU2" data-ng-model="InvoiceDate_SBU2" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Batch No</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BatchNo_SBU2" data-ng-model="BatchNo_SBU2" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Supplied Qty(Nos)<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="SuppliedQtyNos_SBU2" data-ng-model="SuppliedQtyNos_SBU2" onkeypress="return isInteger(event)" onchange="SDMBSuppliedBreakageQtyChange(this.id)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Breakage Qty(Nos)<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="BreakageQtyNos_SBU2" data-ng-model="BreakageQtyNos_SBU2" onkeypress="return isInteger(event)" onchange="CalculateBreakagePercentage_BreakageLines_SBU2()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherTotalBreakageQtyPercentage<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control gray" id="BreakageQtyPer_SBU2" data-ng-model="BreakageQtyPer_SBU2" onkeypress="return isNumber(event)" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherAllowedBreakagePercentage<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="AllowedBreakageQtyPer_SBU2" data-ng-model="AllowedBreakageQtyPer_SBU2" onkeypress="return isNumber(event)" onchange="AllowedBreakagePercentageChange_SBU2()" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            @LabelNames.CompBreakLinesOtherActualBreakageQtyNos<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" id="ActualBreakageQtyNos_SBU2" data-ng-model="ActualBreakageQtyNos_SBU2" onkeypress="return isNumber(event)" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Transporter<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Transporter_SBU2" data-ng-model="Transporter_SBU2" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Defect Type<span class="Mandatory">*</span></label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Defect_Type_SBU2" disabled="disabled" />
                                                <input type="text" class="form-control" id="Defect_Type_CODE_SBU2" style="display: none;" />
                                                <div class="input-group-btn">                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Remarks</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Remarks_SBU2" data-ng-model="Remarks_SBU2" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12" style="display: none;">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Attachments</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Attachments_SBU2" data-ng-model="Attachments_SBU2" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="SD_Save_SBU2" class="btn btn-info" onclick="SaveSDData_SBU2()">Save</button>
                    <button type="button" id="SD_Delete_SBU2" class="btn btn-info" onclick="DeleteSD_SBU2()">Delete</button>
                    <button type="button" id="SD_Close_SBU2" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="RecommendedSBU3Lines" tabindex="-1" role="dialog" aria-labelledby="SDModalLabelRec">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="SDModalLabelRec">Compensation Recommendation Form</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal ng-pristine ng-valid" role="form" method="get" action="#">
                        <div class="row">
                            <input type="hidden" id="RCM_idB" />
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Product Code<span class="Mandatory">*</span>
                                        </label>
                                        <div class="col-sm-4">
                                            <div class="input-group add-on">
                                                <input type="text" class="form-control" id="Rec_ProductCode" disabled="disabled" />
                                                <div class="input-group-btn">
                                                    <span class="btn btn-default" ng-click="Getdata('GetProductMasterInvBSBU3Comp','GetProductMasterSBU3','Product Details List')"><i class="glyphicon glyphicon-new-window"></i></span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Product Name
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Rec_ProductName" disabled="disabled" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Units
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" id="CompensationinUnits" class="form-control"  disabled="disabled" />
                                            @*<select class="form-control" id="CompensationinUnits" style="width: 40%" data-ng-model="CompensationinUnits">
            <option value="">Select UOM</option>
            <option value="EA">EA</option>
            <option value="KG">KG</option>
            <option value="LTR">LTRs</option>
            <option value="ML">ML</option>

        </select>*@
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Package Qty
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" id="CompensationinPkgQty" class="form-control"  disabled="disabled" />
                                            @*<select class="form-control" id="CompensationinPkgQty" style="width: 40%" data-ng-model="CompensationinPkgQty" onchange="calculateTotalQty()">
            <option value="">Select UOM</option>
            <option value="1">1 KG</option>
            <option value="5">5 KG</option>
            <option value="10">10 KG</option>
            <option value="20">10 KG</option>
            <option value="300">30 KG</option>
            <option value="40">40 KG</option>
            <option value="0.05">50 ML</option>
             <option value="0.1">100 ML</option>
             <option value="0.2">200 ML</option>
            <option value="0.5">500 ML</option>
            <option value="1">1 LTR</option>
            <option value="4">4 LTR</option>
            <option value="5">5 LTR</option>
            <option value="10">10 LTR</option>
            <option value="20">20 LTR</option>
        </select>*@
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Nos
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="Rec_Nos" maxlength="10" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="label-2-2" class="col-sm-5 control-label" style="text-align: right;">
                                            Total Qty in Units
                                        </label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" id="TotQtyinUnits" disabled="disabled" maxlength="10"  />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="Rec_SaveB" class="btn btn-info" onclick="SaveRecDataB()">Save</button>
                    <button type="button" id="Rec_DeleteB" class="btn btn-info" onclick="DeleteRecB()">Delete</button>
                    <button type="button" id="Rec_CloseB" class="btn btn-info" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {

        var unitOptions = {
            'EA': ['EA'],
            'KG': ['Select one','1 KG', '5 KG', '10 KG', '20 KG', '30 KG', '40 KG'], // Add options for Cubic Meters if needed
            'LTR': ['Select one','1 LTR', '4 LTR', '5 LTR', '10 LTR', '20 LTR'], //Add options for LTRs if needed
            'ML': ['Select one','50 ML', '100 ML', '200 ML', '500 ML']      // Add options for ML if needed
        };

        // Get the initial options of CompensationinPkgQty dropdown
        var initialOptions = $('#CompensationinPkgQty').html();

        // Listen for changes in CompensationinUnits dropdown
        $('#CompensationinUnits').change(function () {
            debugger
            // Get the selected value of CompensationinUnits dropdown
            var selectedValue = $(this).val();

            // Clear the options of CompensationinPkgQty dropdown
            $('#CompensationinPkgQty').html('');

            // If a unit with specific options is selected, append the options to CompensationinPkgQty dropdown
            if (unitOptions.hasOwnProperty(selectedValue)) {
                var options = unitOptions[selectedValue];
                for (var i = 0; i < options.length; i++) {
                    var packageQty = options[i];
                    var packageQtyValue = parseFloat(packageQty.split(" ")[0]);
                    $('#CompensationinPkgQty').append('<option value="' + packageQtyValue + '">' + options[i] + '</option>');
                }
            } else {
                $('#CompensationinPkgQty').html(initialOptions); // Restore the initial options
            }
        });


        function calculateTotalQty() {
            debugger
            // Get the values of Rec_Nos and CompensationinPkgQty
            var recNos = parseFloat(document.getElementById("Rec_Nos").value);
            var pkgQty = parseFloat(document.getElementById("CompensationinPkgQty").value);

            // Calculate the total quantity in units
            var totalQty = recNos * pkgQty;

            // Update the value of TotQtyinUnits input field
            document.getElementById("TotQtyinUnits").value = totalQty;
        }

        var compensationinUnitsDropdown = document.getElementById("CompensationinPkgQty");
        compensationinUnitsDropdown.addEventListener("change", calculateTotalQty);
        var compensationin = document.getElementById("Rec_Nos");
        compensationin.addEventListener("change", calculateTotalQty);



        //ACSHEETS
        if ($("#Product_CategoryCode").val() == "11") {
            $("#Total_Recovery_Tons_Compensation").prop("disabled", true);
        }
            //CCSHEETS
        else if ($("#Product_CategoryCode").val() == "14") {
            $("#Total_Recovery_Tons_Compensation").prop("disabled", false);
        }

        if (Product_Type == "SBU3") {

            $("#THDefectprct").css("display", "none");
            $("#THBasicAmount").css("display", "none");
            $("#Defectprctdiv").hide();
            $("#BasicAmountdiv").hide();
        }
        else if (Product_Type == "SBU8") {

            $("#THDefectprct").css("display", "block");
            $("#THBasicAmount").css("display", "block");
            $(".RecomNos").text("Recommended Qty (Nos)");
            $("#Defectprctdiv").show();
            $("#BasicAmountdiv").hide();
        }

        //svprasadk 20-05-2020 SBU 1 requirement to add type of complaint start
        //$.ajax({
        //    type: 'POST',
        //    url: '../../ComplaintRegistration/GetTypeofComplaints',
        //    async: true,
        //    success: function (response) {
        //        $("#TYPE_OF_COMPLAINT").empty();

        //        if (response == "FALSE") {

        //        }
        //        else {
        //            response = JSON.parse(response);
        //            var option = "";
        //            option = '<option value="0">Select</option>';
        //            for (var i = 0; i < response.length; i++) {
        //                option += '<option value="' + response[i]["id"] + '">' + response[i]["COMPLAINT_TYPE"] + '</option>';
        //            }
        //            $("#TYPE_OF_COMPLAINT").append(option);
        //        }
        //    },
        //    error: function (xhr, ajaxOptions, thrownError) {
        //    }
        //});
        //svprasadk 20-05-2020 SBU 1 requirement to add type of complaint end
    });

    $(window).resize(function () {
        $('.CustomHeight_Section').height($(window).height() - 170);
    });
    $('.CustomHeight_Section').height($(window).trigger('resize'));

    $("#Date_Supply_From").datepicker({
        format: 'dd/mm/yyyy',
        autoclose: true,
        endDate: SERVER_DATE
    });

    $("#Date_Supply_TO").datepicker({
        format: 'dd/mm/yyyy',
        autoclose: true,
        endDate: SERVER_DATE
    });

    $("#InvoiceDateB").datepicker({
        format: 'dd/mm/yyyy',
        autoclose: true
    });

    $("#SelectedComplaintFiles").on('change', function () {
        enabledisableFileUpload();
    });
    $("#SelectedInvestigationFiles").on('change', function () {
        enabledisableFileUpload();
    });


   

    function AllowedBreakagePercentageChange() {
        try {

            $("#BOTHER_ActualBreakageQtyNos").val("");

            var TotalQty = $("#BOTHER_TotalBreakageQtyPer").val();
            var AllowedQty = $("#BOTHER_AllowedBreakageQtyPer").val();

            if (TotalQty == "" || AllowedQty == "") {
                $("#BOTHER_AllowedBreakageQtyPer").val("");
                return;
            }
            else {
                TotalQty = Math.round(TotalQty * 100) / 100;
                AllowedQty = Math.round(AllowedQty * 100) / 100;

                $("#BOTHER_TotalBreakageQtyPer").val(TotalQty);
                $("#BOTHER_AllowedBreakageQtyPer").val(AllowedQty);

                var ActualBreakage = (parseFloat(TotalQty) - parseFloat(AllowedQty));

                var SuppliedQtyNo = $("#BOTHER_SuppliedQtyNo").val();
                if (SuppliedQtyNo == "") {
                    $("#BOTHER_ActualBreakageQtyNos").val("");
                }
                else {
                    ActualBreakage = parseFloat(Math.round(((SuppliedQtyNo / 100) * ActualBreakage) * 1000) / 1000).toFixed(0);
                    $("#BOTHER_ActualBreakageQtyNos").val(ActualBreakage);
                }
            }
        }
        catch (e) {

        }
    }


    function SheetingLabels(PC) {
        if (PC == "CC Iron Sheets") {
            $(".ForACSheets").css('display', 'none');
            $(".ForCCSheets").css('display', 'block');
        }
        else if (PC == "CC Iron Sheets") {
            $(".ForACSheets").css('display', 'block');
            $(".ForCCSheets").css('display', 'none');
        }
    }





    function OpenMSD_BU3Model() {
        try {

            var CNO = $("#Compensation_Id").val();
            if (CNO == "" || CNO == "0" || CNO == null) {
                //alert("Select and save the complaint");
                //return;

            }


            if ($("#Product_Type").val() == "SBU3") {
            }
            else if ($("#Product_Type").val("") == "Construction Chemicals") {
                //Product_Type = $("#Product_Type").val("SBU8");
            }
            else {
                return;
            }

            $("#BU3MSD_id").val("");

            $("#BU3MSD_ProductCode").val("");
            $("#BU3MSD_ProductName").val("");

            $("#BU3Material_Belongs_To_Name").val("");
            $("#BU3Material_Belongs_TO_CODE").val("");

            $("#BU3Product_Supplied_From_Name").val("");
            $("#BU3Product_Supplied_From_CODE").val("");

            $("#BU3MSD_Name_Name").val("");
            $("#BU3MSD_Name_CODE").val("");

            $("#BU3MSD_UOM").val("EA");
            $("#BU3MSD_Supply_Qty").val("");
            $("#BU3MSD_Defect_Qty").val("");
            $("#BU3MSD_Actual_Defect_Qty").val("");


            $("#BU3MSD_Delete").hide();
            $("#BU3MSD_Save").text("Save");

            $("#MaterialSupplyDetailModalBU3").modal('show');
        }
        catch (e) {
            alert("Error : OpenBU3 :" + e);
        }
    }


    function SaveMSDBU3Data() {
        var Product_Type = $("#Product_Type").val();
        var Product_TypeBU8 = Product_Type;
        if (Product_TypeBU8 == "Construction Chemicals") {
            Product_Type = "SBU8";
        }
        var MSD_id = $("#BU3MSD_id").val();

        var ProductCode = $("#BU3MSD_ProductCode").val();
        var ProductName = $("#BU3MSD_ProductName").val();

        var MatBelToName = $("#BU3Material_Belongs_To_Name").val();
        var MatBelToCode = $("#BU3Material_Belongs_TO_CODE").val();

        var ProSupFromName = $("#BU3Product_Supplied_From_Name").val();
        var ProSupFromCode = $("#BU3Product_Supplied_From_CODE").val();

        var NameName = $("#BU3MSD_Name_Name").val();
        var NameCode = $("#BU3MSD_Name_CODE").val();

        var MSD_UOM = $("#BU3MSD_UOM").val();
        var SupplyQty = $("#BU3MSD_Supply_Qty").val();
        var DefectQty = $("#BU3MSD_Defect_Qty").val();
        var ActDftQty = $("#BU3MSD_Actual_Defect_Qty").val();

        MSD_UOM = "EA";

        var Flag = 0;

        if (ProductCode == "") {
            Flag = Flag + 1;
            $("#BU3MSD_ProductCode").css("border-color", "red");
        }
        else {
            $("#BU3MSD_ProductCode").css("border-color", "#d2d6de");
        }

        if (MatBelToName == "") {
            Flag = Flag + 1;
            $("#BU3Material_Belongs_To_Name").css("border-color", "red");
        }
        else {
            $("#BU3Material_Belongs_To_Name").css("border-color", "#d2d6de");
        }

        if (ProSupFromName == "") {
            Flag = Flag + 1;
            $("#BU3Product_Supplied_From_Name").css("border-color", "red");
        }
        else {
            $("#BU3Product_Supplied_From_Name").css("border-color", "#d2d6de");
        }

        if (NameName == "") {
            Flag = Flag + 1;
            $("#BU3MSD_Name_Name").css("border-color", "red");
        }
        else {
            $("#BU3MSD_Name_Name").css("border-color", "#d2d6de");
        }

        if (MSD_UOM == "") {
            Flag = Flag + 1;
            $("#BU3MSD_UOM").css("border-color", "red");
        }
        else {
            $("#BU3MSD_UOM").css("border-color", "#d2d6de");
        }

        if (SupplyQty == "") {
            Flag = Flag + 1;
            $("#BU3MSD_Supply_Qty").css("border-color", "red");
        }
        else {
            $("#BU3MSD_Supply_Qty").css("border-color", "#d2d6de");
        }

        if (DefectQty == "") {
            Flag = Flag + 1;
            $("#BU3MSD_Defect_Qty").css("border-color", "red");
        }
        else {
            $("#BU3MSD_Defect_Qty").css("border-color", "#d2d6de");
        }

        if (ActDftQty == "") {
            Flag = Flag + 1;
            $("#BU3MSD_Actual_Defect_Qty").css("border-color", "red");
        }
        else {
            $("#BU3MSD_Actual_Defect_Qty").css("border-color", "#d2d6de");
        }


        if (Flag > 0) {
            return;
        }
        else {

            if (isNaN(SupplyQty) || isNaN(DefectQty) || isNaN(ActDftQty)) {
                alert("Enter valid numbers in Supply, Defect and Actual Defect Quantities");
                return;
            }
            else {
                SupplyQty = parseInt(SupplyQty);
                DefectQty = parseInt(DefectQty);
                ActDftQty = parseInt(ActDftQty);

                if (parseInt(SupplyQty) < parseInt(DefectQty)) {
                    alert("Defect Quantity cannot be morethan Supply Quantity");
                    return;
                }
                if (parseInt(SupplyQty) < parseInt(ActDftQty)) {
                    alert("Actual Defect Quantity cannot be morethan Supply Quantity");
                    return;
                }
            }

            if (MSD_id == "") {

                MSD_id = $("#Material_Supply_Detail_Table_BU3 tbody tr").length + 1;
                var TRCode = "";

                TRCode = TRCode + "<td>" + ProductCode + "</td>";
                TRCode = TRCode + "<td>" + ProductName + "</td>";
                TRCode = TRCode + "<td>" + MatBelToName + "</td>";
                TRCode = TRCode + "<td>" + ProSupFromName + "</td>";

                TRCode = TRCode + "<td>" + NameName + "</td>";
                TRCode = TRCode + "<td>" + MSD_UOM + "</td>";
                TRCode = TRCode + "<td>" + SupplyQty + "</td>";
                TRCode = TRCode + "<td>" + DefectQty + "</td>";

                TRCode = TRCode + "<td>" + ActDftQty + "</td>";
                TRCode = TRCode + "<td style='display:none;'>" + MatBelToCode + "</td>";
                TRCode = TRCode + "<td style='display:none;'>" + ProSupFromCode + "</td>";
                TRCode = TRCode + "<td style='display:none;'>" + NameCode + "</td>";

                TRCode = "<tr class='MousePointer' id='BU3MSD_" + MSD_id + "' onclick='EditMSDBU3(this.id)'><td>" + MSD_id + "</td>" + TRCode + "</tr>";
                $("#Material_Supply_Detail_Table_BU3 tbody").append(TRCode);

            }
            else {

                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[0].innerHTML = MSD_id;

                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[1].innerHTML = ProductCode;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[2].innerHTML = ProductName;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[3].innerHTML = MatBelToName;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[4].innerHTML = ProSupFromName;

                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[5].innerHTML = NameName;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[6].innerHTML = MSD_UOM;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[7].innerHTML = SupplyQty;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[8].innerHTML = DefectQty;

                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[9].innerHTML = ActDftQty;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[10].innerHTML = MatBelToCode;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[11].innerHTML = ProSupFromCode;
                $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + " td")[12].innerHTML = NameCode;

            }

            $("#BU3MSD_id").val("");

            $("#BU3MSD_ProductCode").val("");
            $("#BU3MSD_ProductName").val("");

            $("#BU3Material_Belongs_To_Name").val("");
            $("#BU3Material_Belongs_TO_CODE").val("");

            $("#BU3Product_Supplied_From_Name").val("");
            $("#BU3Product_Supplied_From_CODE").val("");

            $("#BU3MSD_Name_Name").val("");
            $("#BU3MSD_Name_CODE").val("");

            $("#BU3MSD_UOM").val("");
            $("#BU3MSD_Supply_Qty").val("");
            $("#BU3MSD_Defect_Qty").val("");
            $("#BU3MSD_Actual_Defect_Qty").val("");

            if (Product_Type == "SBU3") { SaveCompensationLinesSBU3();}
            else if (Product_Type == "SBU8") { SaveCompensationLinesSBU8(); }
            $("#MaterialSupplyDetailModalBU3").modal("hide");

        }

    }


    function EditMSDBU3(RowId) {
        try {
            var IS = $("#Investigation_Status").val();
            var UserTypeCode = $("#SessionUserTypeID").val();
            if (IS == "Approved" || IS == "Rejected") {
                if ((IS == "Approved") && (UserTypeCode == "CSM" || UserTypeCode == "QH" || UserTypeCode == "CSM_BU2" || UserTypeCode == "CSM_BU3")) {
                }
                else {
                    return;
                }
            }


            $("#BU3MSD_id").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[0].innerHTML);

            $("#BU3MSD_ProductCode").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[1].innerHTML);
            $("#BU3MSD_ProductName").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[2].innerHTML);

            $("#BU3Material_Belongs_To_Name").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[3].innerHTML);
            $("#BU3Material_Belongs_TO_CODE").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[10].innerHTML);

            $("#BU3Product_Supplied_From_Name").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[4].innerHTML);
            $("#BU3Product_Supplied_From_CODE").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[11].innerHTML);

            $("#BU3MSD_Name_Name").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[5].innerHTML);
            $("#BU3MSD_Name_CODE").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[12].innerHTML);

            $("#BU3MSD_UOM").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[6].innerHTML);
            $("#BU3MSD_Supply_Qty").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[7].innerHTML);
            $("#BU3MSD_Defect_Qty").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[8].innerHTML);
            $("#BU3MSD_Actual_Defect_Qty").val($("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[9].innerHTML);


            $("#MaterialSupplyDetailModalBU3").modal('show');
            $("#BU3MSD_Delete").show();
            $("#BU3MSD_Save").text("Update");

        }
        catch (e) {
            alert("Error : EditMSD : " + e);
        }

    }


    function DeleteMSDBU3() {
        var Product_Type = $("#Product_Type").val();
        var Product_TypeBU8 = Product_Type;
        if (Product_TypeBU8 == "Construction Chemicals") {
            Product_Type = "SBU8";
        }

        var MSD_id = $("#BU3MSD_id").val();

        $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + MSD_id + "").remove();

        $("#BU3MSD_id").val();

        $("#BU3MSD_id").val("");

        $("#BU3MSD_ProductCode").val("");
        $("#BU3MSD_ProductName").val("");

        $("#BU3Material_Belongs_To_Name").val("");
        $("#BU3Material_Belongs_TO_CODE").val("");

        $("#BU3Product_Supplied_From_Name").val("");
        $("#BU3Product_Supplied_From_CODE").val("");

        $("#BU3MSD_Name_Name").val("");
        $("#BU3MSD_Name_CODE").val("");

        $("#BU3MSD_UOM").val("");
        $("#BU3MSD_Supply_Qty").val("");
        $("#BU3MSD_Defect_Qty").val("");
        $("#BU3MSD_Actual_Defect_Qty").val("");



        var i = 1;

        $("#Material_Supply_Detail_Table_BU3 tbody tr").each(function () {
            $(this).attr("id", "BU3MSD_" + i);
            $("#Material_Supply_Detail_Table_BU3 tbody #BU3MSD_" + i + " td")[0].innerHTML = i;
            i = i + 1;
        });

        if (Product_Type == "SBU3") { SaveCompensationLinesSBU3(); }
        else if (Product_Type == "SBU8") { SaveCompensationLinesSBU8(); }
        $("#MaterialSupplyDetailModalBU3").modal("hide");


    }


    function MSD_QuantityChangesBU3(Identity) {
        try {
            var IPData = $("#" + Identity).val();

            if (IPData == "" || IPData == null || IPData == undefined || isNaN(IPData)) {
                $("#" + Identity).val("");
            }
            else {
                $("#" + Identity).val(parseInt(IPData));
            }
        }
        catch (e) {
            alert("Error : MSD_QuantityChanges : " + e);
        }
    }





    function OpenSupDetModelB() {
        try {
            var CNO = $("#Compensation_Id").val();
            if (CNO == "" || CNO == "0" || CNO == null) {
                //alert("Select and save the complaint");
                //return;
            }

            $("#SD_idB").val("");
            $("#SD_Item_Type_Product_NameB").val("");
            $("#SD_Item_Type_Product_Name_IDB").val("");
            $("#SD_Item_Type_Product_Name_CODEB").val("");
            $("#InvoiceNoB").val("");
            $("#InvoiceDateB").val("");
            $("#BatchNoB").val("");
            $("#SuppliedQtyNosB").val("");
            $("#BreakageQtyNosB").val("");
            $("#ActualBreakageQtyNosB").val("");
            $("#TransporterB").val("");
            $("#Defect_TypeB").val("");
            $("#DefectprctBU8").val("");
            $("#Defect_Type_IDB").val("");
            $("#Defect_Type_CODEB").val("");
            $("#RemarksB").val("");
            $("#AttachmentsB").val("");



            $("#SD_DeleteB").hide();
            $("#SD_SaveB").text("Save");

            $("#SupplyDetailModalB").modal('show');
        }
        catch (e) {
            alert("Error : SupplyDetailModalB :" + e);
        }
    }


    //function SaveSDDataB() {
    //    try {
    //        debugger
    //        var Product_Type = $("#Product_Type").val();

    //        var SD_idB = $("#SD_idB").val();
    //        var SD_Item_Type_Product_NameB = $("#SD_Item_Type_Product_NameB").val();
    //        var SD_Item_Type_Product_Name_IDB = $("#SD_Item_Type_Product_Name_IDB").val();
    //        var SD_Item_Type_Product_Name_CODEB = $("#SD_Item_Type_Product_Name_CODEB").val();
    //        var InvoiceNoB = $("#InvoiceNoB").val();
    //        var InvoiceDateB = $("#InvoiceDateB").val();
    //        var BatchNoB = $("#BatchNoB").val();
    //        var SuppliedQtyNosB = $("#SuppliedQtyNosB").val();
    //        var BreakageQtyNosB = $("#BreakageQtyNosB").val();
    //        var ActualBreakageQtyNosB = $("#ActualBreakageQtyNosB").val();
    //        var TransporterB = $("#TransporterB").val();
    //        var Defect_TypeB = $("#Defect_TypeB").val(); 
    //        var DefectprctBU8 = $("#DefectprctBU8").val();
    //        var Defect_Type_IDB = $("#Defect_Type_IDB").val();
    //        var Defect_Type_CODEB = $("#Defect_Type_CODEB").val();
    //        var RemarksB = $("#RemarksB").val();
    //        var AttachmentsB = $("#AttachmentsB").val();

    //        var Flag = 0;

    //        if (SD_Item_Type_Product_Name_CODEB == "") {
    //            Flag = Flag + 1;
    //            $("#SD_Item_Type_Product_Name_CODEB").css("border-color", "red");
    //        }
    //        else {
    //            $("#SD_Item_Type_Product_Name_CODEB").css("border-color", "#d2d6de");
    //        }

    //        if (SuppliedQtyNosB == "") {
    //            Flag = Flag + 1;
    //            $("#SuppliedQtyNosB").css("border-color", "red");
    //        }
    //        else {
    //            $("#SuppliedQtyNosB").css("border-color", "#d2d6de");
    //        }

    //        if (BreakageQtyNosB == "") {
    //            Flag = Flag + 1;
    //            $("#BreakageQtyNosB").css("border-color", "red");
    //        }
    //        else {
    //            $("#BreakageQtyNosB").css("border-color", "#d2d6de");
    //        }

    //        if (ActualBreakageQtyNosB == "") {
    //            Flag = Flag + 1;
    //            $("#ActualBreakageQtyNosB").css("border-color", "red");
    //        }
    //        else {
    //            $("#ActualBreakageQtyNosB").css("border-color", "#d2d6de");
    //        }

            
    //        if (Defect_TypeB == "") {
    //            Flag = Flag + 1;
    //            $("#Defect_TypeB").css("border-color", "red");
    //        }
    //        else {
    //            $("#Defect_TypeB").css("border-color", "#d2d6de");
    //        }


    //        if (InvoiceNoB == "") {
    //            Flag = Flag + 1;
    //            $("#InvoiceNoB").css("border-color", "red");
    //        }
    //        else {
    //            $("#InvoiceNoB").css("border-color", "#d2d6de");
    //        }

    //        if (InvoiceDateB == "") {
    //            Flag = Flag + 1;
    //            $("#InvoiceDateB").css("border-color", "red");
    //        }
    //        else {
    //            $("#InvoiceDateB").css("border-color", "#d2d6de");
    //        }




    //        if (Flag > 0) {
    //            return;
    //        }
    //        else {
    //            if (InvoiceNoB == "") {
    //            }
    //            else if (InvoiceNoB.length == 10) {
    //            }
    //            else {
    //                alert("Invalid Invoice Number");
    //                return
    //            }

    //            SuppliedQtyNosB = parseInt(SuppliedQtyNosB);
    //            BreakageQtyNosB = parseInt(BreakageQtyNosB);
    //            ActualBreakageQtyNosB = parseInt(ActualBreakageQtyNosB);

    //            if (parseInt(BreakageQtyNosB) > parseInt(SuppliedQtyNosB)) {
    //                alert("Defect Quantity Cannot be morethan Supplied Quantity");
    //                return;
    //            }

    //            if (parseInt(ActualBreakageQtyNosB) > parseInt(SuppliedQtyNosB)) {
    //                alert("Acutal Defect Quantity Cannot be morethan Supplied Quantity");
    //                return;
    //            }

    //            var TRCode = "";

    //            TRCode = TRCode + "<td>" + SD_Item_Type_Product_Name_CODEB + "</td>";
    //            TRCode = TRCode + "<td>" + SD_Item_Type_Product_NameB + "</td>";
    //            TRCode = TRCode + "<td>" + InvoiceNoB + "</td>";
    //            TRCode = TRCode + "<td>" + InvoiceDateB + "</td>";
    //            TRCode = TRCode + "<td>" + BatchNoB + "</td>";
    //            TRCode = TRCode + "<td>" + SuppliedQtyNosB + "</td>";

    //            TRCode = TRCode + "<td>" + BreakageQtyNosB + "</td>";
    //            TRCode = TRCode + "<td>" + ActualBreakageQtyNosB + "</td>";

    //            TRCode = TRCode + "<td>" + TransporterB + "</td>";
    //            TRCode = TRCode + "<td>" + Defect_TypeB + "</td>"; 
    //            TRCode = TRCode + "<td>" + DefectprctBU8 + "</td>";
    //            TRCode = TRCode + "<td>" + RemarksB + "</td>";

    //            TRCode = TRCode + "<td style='display:none;'>" + Defect_Type_CODEB + "</td>";

    //            if (SD_idB == "") {
    //                SD_idB = $("#Supply_Details_TableB tbody tr").length + 1;

    //                TRCode = "<tr class='MousePointer' id='SDB_" + SD_idB + "' onclick='EditSDB(this.id)'><td>" + SD_idB + "</td>" + TRCode + "</tr>";
    //                $("#Supply_Details_TableB tbody").append(TRCode);
    //            }
    //            else {
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[0].innerHTML = SD_idB;

    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[1].innerHTML = SD_Item_Type_Product_Name_CODEB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[2].innerHTML = SD_Item_Type_Product_NameB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[3].innerHTML = InvoiceNoB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[4].innerHTML = InvoiceDateB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[5].innerHTML = BatchNoB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[6].innerHTML = SuppliedQtyNosB;

    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[7].innerHTML = BreakageQtyNosB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[8].innerHTML = ActualBreakageQtyNosB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[9].innerHTML = TransporterB;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[10].innerHTML = Defect_TypeB; 
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[11].innerHTML = DefectprctBU8;
    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[12].innerHTML = RemarksB;

    //                $("#Supply_Details_TableB tbody #SDB_" + SD_idB + " td")[13].innerHTML = Defect_Type_CODEB;
    //            }


    //            $("#SD_idB").val("");
    //            $("#SD_Item_Type_Product_NameB").val("");
    //            $("#SD_Item_Type_Product_Name_IDB").val("");
    //            $("#SD_Item_Type_Product_Name_CODEB").val("");
    //            $("#InvoiceNoB").val("");
    //            $("#InvoiceDateB").val("");
    //            $("#BatchNoB").val("");
    //            $("#SuppliedQtyNosB").val("");
    //            $("#BreakageQtyNosB").val("");
    //            $("#ActualBreakageQtyNosB").val();
    //            $("#TransporterB").val("");
    //            $("#Defect_TypeB").val(""); 
    //            $("#DefectprctBU8").val("");
    //            $("#Defect_Type_IDB").val("");
    //            $("#Defect_Type_CODEB").val("");
    //            $("#RemarksB").val("");

    //            if (Product_Type == "SBU3") { SaveCompensationLinesSBU3(); }
    //            else if (Product_Type == "SBU8") { SaveCompensationLinesSBU8(); }
    //            $("#SupplyDetailModalB").modal("hide");

    //        }
    //    }
    //    catch (e) {
    //        alert("Error : SaveSDDataB :" + e);
    //    }
    //}


    function EditSDB(RowId) {
        try {
            debugger
            var Product_Type = $("#Product_Type").val();
            var Product_TypeBU8 = Product_Type;
            if (Product_TypeBU8 == "Construction Chemicals") {
                Product_Type = "SBU8";
            }
            var IS = $("#Investigation_Status").val();
            var UserTypeCode = $("#SessionUserTypeID").val();
            if (IS == "Approved" || IS == "Rejected") {
                if ((IS == "Approved") && (UserTypeCode == "CSM" || UserTypeCode == "QH" || UserTypeCode == "CSM_BU2" || UserTypeCode == "CSM_BU3")) {
                }
                else {
                    return;
                }
            }

            $("#SD_idB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[0].innerHTML);

            $("#SD_Item_Type_Product_Name_CODEB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[1].innerHTML);
            $("#SD_Item_Type_Product_NameB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[2].innerHTML);
            $("#InvoiceNoB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[3].innerHTML);
            $("#InvoiceDateB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[4].innerHTML);
            $("#BatchNoB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[5].innerHTML);
            $("#SuppliedQtyNosB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[6].innerHTML);

            $("#BreakageQtyNosB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[7].innerHTML);
            $("#ActualBreakageQtyNosB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[8].innerHTML);
            $("#TransporterB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[9].innerHTML);
            $("#Defect_TypeB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[10].innerHTML);
            $("#DefectprctBU8").val($("#Supply_Details_TableB tbody #" + RowId + " td")[11].innerHTML);
            $("#RemarksB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[12].innerHTML);

            $("#Defect_Type_CODEB").val($("#Supply_Details_TableB tbody #" + RowId + " td")[13].innerHTML);


            $("#SupplyDetailModalB").modal('show');
            $("#SD_DeleteB").show();
            $("#SD_SaveB").text("Update");

        }
        catch (e) {
            alert("Error : EditSDB : " + e);
        }

    }


    //function DeleteSDB() {
    //    try {
    //        var SD_idB = $("#SD_idB").val();

    //        $("#Supply_Details_TableB tbody #SDB_" + SD_idB + "").remove();


    //        $("#SD_idB").val("");
    //        $("#SD_Item_Type_Product_NameB").val("");
    //        $("#SD_Item_Type_Product_Name_IDB").val("");
    //        $("#SD_Item_Type_Product_Name_CODEB").val("");
    //        $("#InvoiceNoB").val("");
    //        $("#InvoiceDateB").val("");
    //        $("#BatchNoB").val("");
    //        $("#SuppliedQtyNosB").val("");
    //        $("#BreakageQtyNosB").val("");
    //        $("#TransporterB").val("");
    //        $("#Defect_TypeB").val("");
    //        $("#DefectprctBU8").val("");
    //        $("#Defect_Type_IDB").val("");
    //        $("#Defect_Type_CODEB").val("");
    //        $("#RemarksB").val("");
    //        $("#AttachmentsB").val("");


    //        var i = 1;

    //        $("#Supply_Details_TableB tbody tr").each(function () {
    //            $(this).attr("id", "SDB_" + i);
    //            $("#Supply_Details_TableB tbody #SDB_" + i + " td")[0].innerHTML = i;
    //            i = i + 1;
    //        });

    //        if (Product_Type == "SBU3") { SaveCompensationLinesSBU3(); }
    //        else if (Product_Type == "SBU8") { SaveCompensationLinesSBU8(); }
    //        $("#SupplyDetailModalB").modal("hide");

    //    }
    //    catch (e) {
    //        alert("Error : DeleteSDB : " + e);
    //    }
    //}

    function SaveSDData_SBU2() {
        try {
            var SD_id_SBU2 = $("#SD_id_SBU2").val();
            var SD_Item_Type_Product_Name_SBU2 = $("#SD_Item_Type_Product_Name_SBU2").val();
            var SD_Item_Type_Product_Name_ID_SBU2 = $("#SD_Item_Type_Product_Name_ID_SBU2").val();
            var SD_Item_Type_Product_Name_CODE_SBU2 = $("#SD_Item_Type_Product_Name_CODE_SBU2").val();
            var InvoiceNo_SBU2 = $("#InvoiceNo_SBU2").val();
            var InvoiceDate_SBU2 = $("#InvoiceDate_SBU2").val();
            var BatchNo_SBU2 = $("#BatchNo_SBU2").val();
            var SuppliedQtyNos_SBU2 = $("#SuppliedQtyNos_SBU2").val();
            var BreakageQtyNos_SBU2 = $("#BreakageQtyNos_SBU2").val();

            var BreakageQtyPer_SBU2 = $("#BreakageQtyPer_SBU2").val();
            var AllowedBreakageQtyPer_SBU2 = $("#AllowedBreakageQtyPer_SBU2").val();
            var ActualBreakageQtyNos_SBU2 = $("#ActualBreakageQtyNos_SBU2").val();

            var Transporter_SBU2 = $("#Transporter_SBU2").val();
            var Defect_Type_SBU2 = $("#Defect_Type_SBU2").val();
            var Defect_Type_CODE_SBU2 = $("#Defect_Type_CODE_SBU2").val();
            var Remarks_SBU2 = $("#Remarks_SBU2").val();
            var Attachments_SBU2 = $("#Attachments_SBU2").val();
            var SD_LineId = $("#SD_LineId").val();

            var Flag = 0;

            if (SD_Item_Type_Product_Name_CODE_SBU2 == "") {
                Flag = Flag + 1;
                $("#SD_Item_Type_Product_Name_CODE_SBU2").css("border-color", "red");
            }
            else {
                $("#SD_Item_Type_Product_Name_CODE_SBU2").css("border-color", "#d2d6de");
            }

            if (SuppliedQtyNos_SBU2 == "") {
                Flag = Flag + 1;
                $("#SuppliedQtyNos_SBU2").css("border-color", "red");
            }
            else {
                $("#SuppliedQtyNos_SBU2").css("border-color", "#d2d6de");
            }

            if (BreakageQtyNos_SBU2 == "") {
                Flag = Flag + 1;
                $("#BreakageQtyNos_SBU2").css("border-color", "red");
            }
            else {
                $("#BreakageQtyNos_SBU2").css("border-color", "#d2d6de");
            }
            if (BreakageQtyPer_SBU2 == "") {
                Flag = Flag + 1;
                $("#BreakageQtyPer_SBU2").css("border-color", "red");
            }
            else {
                $("#BreakageQtyPer_SBU2").css("border-color", "#d2d6de");
            }
            if (AllowedBreakageQtyPer_SBU2 == "") {
                Flag = Flag + 1;
                $("#AllowedBreakageQtyPer_SBU2").css("border-color", "red");
            }
            else {
                $("#AllowedBreakageQtyPer_SBU2").css("border-color", "#d2d6de");
            }
            if (ActualBreakageQtyNos_SBU2 == "") {
                Flag = Flag + 1;
                $("#ActualBreakageQtyNos_SBU2").css("border-color", "red");
            }
            else {
                $("#ActualBreakageQtyNos_SBU2").css("border-color", "#d2d6de");
            }
            if (Transporter_SBU2 == "") {
                Flag = Flag + 1;
                $("#Transporter_SBU2").css("border-color", "red");
            }
            else {
                $("#Transporter_SBU2").css("border-color", "#d2d6de");
            }
            
            if (Defect_Type_SBU2 == "") {
                Flag = Flag + 1;
                $("#Defect_Type_SBU2").css("border-color", "red");
            }
            else {
                $("#Defect_Type_SBU2").css("border-color", "#d2d6de");
            }


            if (InvoiceNo_SBU2 == "") {
                Flag = Flag + 1;
                $("#InvoiceNo_SBU2").css("border-color", "red");
            }
            else {
                $("#InvoiceNo_SBU2").css("border-color", "#d2d6de");
            }

            if (InvoiceDate_SBU2 == "") {
                Flag = Flag + 1;
                $("#InvoiceDate_SBU2").css("border-color", "red");
            }
            else {
                $("#InvoiceDate_SBU2").css("border-color", "#d2d6de");
            }           



            if (Flag > 0) {
                return;
            }
            else {
                if (InvoiceNo_SBU2 == "") {
                }
                else if (InvoiceNo_SBU2.length == 10) {
                }
                else {
                    alert("Invalid Invoice Number");
                    return
                }

                SuppliedQtyNos_SBU2 = parseInt(SuppliedQtyNos_SBU2);
                BreakageQtyNos_SBU2 = parseInt(BreakageQtyNos_SBU2);

                if (parseInt(BreakageQtyNos_SBU2) > parseInt(SuppliedQtyNos_SBU2)) {
                    alert("Defect Quantity Cannot be more than Supplied Quantity");
                    return;
                }
                
                var TRCode = "";
                TRCode = TRCode + "<td>" + SD_id_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + SD_Item_Type_Product_Name_CODE_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + SD_Item_Type_Product_Name_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + InvoiceNo_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + InvoiceDate_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + BatchNo_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + SuppliedQtyNos_SBU2 + "</td>";

                TRCode = TRCode + "<td>" + BreakageQtyNos_SBU2 + "</td>";

                TRCode = TRCode + "<td>" + BreakageQtyPer_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + AllowedBreakageQtyPer_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + ActualBreakageQtyNos_SBU2 + "</td>";

                TRCode = TRCode + "<td>" + Transporter_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + Defect_Type_SBU2 + "</td>";
                TRCode = TRCode + "<td>" + Remarks_SBU2 + "</td>";

                TRCode = TRCode + "<td style='display:none;'>" + Defect_Type_CODE_SBU2 + "</td>";
                TRCode = TRCode + "<td style='display:none;'>" + SD_LineId + "</td>";

                if (SD_id_SBU2 == "") {
                    SD_id_SBU2 = $("#Supply_Details_Table_SBU2 tbody tr").length + 1;

                    TRCode = "<tr class='MousePointer' id='SDB_" + SD_id_SBU2 + "' onclick='EditSDB_SBU2(this.id)'><td>" + SD_id_SBU2 + "</td>" + TRCode + "</tr>";
                    $("#Supply_Details_Table_SBU2 tbody").append(TRCode);
                }
                else {
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[0].innerHTML = SD_id_SBU2;

                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[1].innerHTML = SD_Item_Type_Product_Name_CODE_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[2].innerHTML = SD_Item_Type_Product_Name_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[3].innerHTML = InvoiceNo_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[4].innerHTML = InvoiceDate_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[5].innerHTML = BatchNo_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[6].innerHTML = SuppliedQtyNos_SBU2;

                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[7].innerHTML = BreakageQtyNos_SBU2;

                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[8].innerHTML = BreakageQtyPer_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[9].innerHTML = AllowedBreakageQtyPer_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[10].innerHTML = ActualBreakageQtyNos_SBU2;

                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[11].innerHTML = Transporter_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[12].innerHTML = Defect_Type_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[13].innerHTML = Remarks_SBU2;

                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[14].innerHTML = Defect_Type_CODE_SBU2;
                    $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_id_SBU2 + " td")[15].innerHTML = SD_LineId;
                }
                var CompensationinNumber_SBU2 = 0.0;
                var tablelength = $("#Supply_Details_Table_SBU2 tbody tr").length;
                for (var i = 1; i <= tablelength; i++) {
                    var ActualBreakageQty = 0;
                    if ($("#Supply_Details_Table_SBU2 tbody #SDB_" + i + " td")[10].innerHTML != "") {
                        ActualBreakageQty = $("#Supply_Details_Table_SBU2 tbody #SDB_" + i + " td")[10].innerHTML;
                    }
                    CompensationinNumber_SBU2 = (parseFloat(CompensationinNumber_SBU2) + parseFloat(ActualBreakageQty)).toFixed(0);
                }
                if (isNaN(CompensationinNumber_SBU2)) {
                    $("#CompensationInNos").val("");
                }
                else {
                    $("#CompensationInNos").val(CompensationinNumber_SBU2);
                    $("#CompensationInNosWords").val(toWords($("#CompensationInNos").val()));
                }

                $("#SD_id_SBU2").val("");
                $("#SD_Item_Type_Product_Name_SBU2").val("");
                $("#SD_Item_Type_Product_Name_ID_SBU2").val("");
                $("#SD_Item_Type_Product_Name_CODE_SBU2").val("");
                $("#InvoiceNo_SBU2").val("");
                $("#InvoiceDate_SBU2").val("");
                $("#BatchNo_SBU2").val("");
                $("#SuppliedQtyNos_SBU2").val("");
                $("#BreakageQtyNos_SBU2").val("");
                $("#Transporter_SBU2").val("");
                $("#Defect_Type_SBU2").val("");
                $("#Defect_Type_CODE_SBU2").val("");
                $("#Remarks_SBU2").val("");
                $("#SD_LineId").val("");

                SaveCompensationLinesSBU2();
                $("#SupplyDetailModal_SBU2").modal("hide");

            }
        }
        catch (e) {
            alert("Error : SaveSDDataB :" + e);
        }
    }

    function EditSDB_SBU2(RowId) {
        try {

            var IS = $("#Investigation_Status").val();
            var UserTypeCode = $("#SessionUserTypeID").val();
            if (IS == "Approved" || IS == "Rejected") {
                if ((IS == "Approved") && (UserTypeCode == "CSM" || UserTypeCode == "QH" || UserTypeCode == "CSM_BU2" || UserTypeCode == "CSM_BU3")) {
                }
                else {
                    return;
                }
            }

            $("#SD_id_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[0].innerHTML);

            $("#SD_Item_Type_Product_Name_CODE_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[1].innerHTML);
            $("#SD_Item_Type_Product_Name_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[2].innerHTML);
            $("#InvoiceNo_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[3].innerHTML);
            $("#InvoiceDate_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[4].innerHTML);
            $("#BatchNo_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[5].innerHTML);
            $("#SuppliedQtyNos_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[6].innerHTML);

            $("#BreakageQtyNos_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[7].innerHTML);

            $("#BreakageQtyPer_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[8].innerHTML);
            $("#AllowedBreakageQtyPer_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[9].innerHTML);
            $("#ActualBreakageQtyNos_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[10].innerHTML);

            $("#Transporter_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[11].innerHTML);
            $("#Defect_Type_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[12].innerHTML);
            $("#Remarks_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[13].innerHTML);

            $("#Defect_Type_CODE_SBU2").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[14].innerHTML);
            $("#SD_LineId").val($("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[15].innerHTML);


            $("#SupplyDetailModal_SBU2").modal('show');
            $("#SD_Delete_SBU2").hide();
            $("#SD_Save_SBU2").text("Update");

        }
        catch (e) {
            alert("Error : EditSDB_SBU2 : " + e);
        }

    }

    function DeleteSDB_SBU2() {
        try {
            var SD_idB = $("#SD_idB").val();

            $("#Supply_Details_Table_SBU2 tbody #SDB_" + SD_idB + "").remove();


            $("#SD_idB").val("");
            $("#SD_Item_Type_Product_NameB").val("");
            $("#SD_Item_Type_Product_Name_IDB").val("");
            $("#SD_Item_Type_Product_Name_CODEB").val("");
            $("#InvoiceNoB").val("");
            $("#InvoiceDateB").val("");
            $("#BatchNoB").val("");
            $("#SuppliedQtyNosB").val("");
            $("#BreakageQtyNosB").val("");
            $("#TransporterB").val("");
            $("#Defect_TypeB").val("");
            $("#Defect_Type_IDB").val("");
            $("#Defect_Type_CODEB").val("");
            $("#RemarksB").val("");
            $("#AttachmentsB").val("");


            var i = 1;

            $("#Supply_Details_Table_SBU2 tbody tr").each(function () {
                $(this).attr("id", "SDB_" + i);
                $("#Supply_Details_Table_SBU2 tbody #SDB_" + i + " td")[0].innerHTML = i;
                i = i + 1;
            });

            $("#SupplyDetailModalB").modal("hide");

            SaveDataToServerInvestigation('Supply_DetailsB');
            AddThingsToProductDetails();
        }
        catch (e) {
            alert("Error : DeleteSDB_SBU2 : " + e);
        }

    }

    function AllowedBreakagePercentageChange_SBU2() {
        try {            
            $("#ActualBreakageQtyNos_SBU2").val("");

            var TotalQty = $("#BreakageQtyPer_SBU2").val();
            var AllowedQty = $("#AllowedBreakageQtyPer_SBU2").val();

            if (TotalQty == "" || AllowedQty == "") {
                $("#AllowedBreakageQtyPer_SBU2").val("");
                return;
            }
            else {
                TotalQty = Math.round(TotalQty * 100) / 100;
                AllowedQty = Math.round(AllowedQty * 100) / 100;

                $("#BreakageQtyPer_SBU2").val(TotalQty);
                $("#AllowedBreakageQtyPer_SBU2").val(AllowedQty);

                var ActualBreakage = (parseFloat(TotalQty) - parseFloat(AllowedQty));

                var SuppliedQtyNo = $("#SuppliedQtyNos_SBU2").val();
                if (SuppliedQtyNo == "") {
                    $("#ActualBreakageQtyNos_SBU2").val("");
                }
                else {
                    if (ActualBreakage > 0) {
                        ActualBreakage = parseFloat(Math.round(((SuppliedQtyNo / 100) * ActualBreakage) * 1000) / 1000).toFixed(0);                        
                        $("#ActualBreakageQtyNos_SBU2").val(ActualBreakage);
                    } else {
                        $("#ActualBreakageQtyNos_SBU2").val("0");
                    }
                }
            }
        }
        catch (e) {

        }
    }

    function CalculateBreakagePercentage_BreakageLines_SBU2() {
        var suppliedqty = $("#SuppliedQtyNos_SBU2").val();
        var Breakage_Qty_Nos = $("#BreakageQtyNos_SBU2").val();
        $("#AllowedBreakageQtyPer_SBU2").removeClass("gray");
        $("#AllowedBreakageQtyPer_SBU2").prop("disabled", false);
        $("#ActualBreakageQtyNos_SBU2").removeClass("gray");
        $("#ActualBreakageQtyNos_SBU2").prop("disabled", false);
        if (Breakage_Qty_Nos != "" && parseInt(Breakage_Qty_Nos) != 0) {

            if (suppliedqty != "") {

                if (parseFloat(Breakage_Qty_Nos) > parseFloat(suppliedqty)) {
                }
                else {
                }
                var Breakgpercentage = (Breakage_Qty_Nos / suppliedqty) * 100;
                $("#BreakageQtyPer_SBU2").val(parseFloat(Breakgpercentage).toFixed(2));

            }

            if ($("#AllowedBreakageQtyPer_SBU2").val() != "" || $("#AllowedBreakageQtyPer_SBU2").val() != undefined) {
                var TotalQty = $("#BreakageQtyPer_SBU2").val();
                var AllowedQty = $("#AllowedBreakageQtyPer_SBU2").val();

                TotalQty = Math.round(TotalQty * 100) / 100;
                AllowedQty = Math.round(AllowedQty * 100) / 100;

                $("#BreakageQtyPer_SBU2").val(TotalQty);
                $("#AllowedBreakageQtyPer_SBU2").val(AllowedQty);

                var ActualBreakage = (parseFloat(TotalQty) - parseFloat(AllowedQty));

                var SuppliedQtyNo = $("#SuppliedQtyNos_SBU2").val();
                if (SuppliedQtyNo == "") {
                    $("#ActualBreakageQtyNos_SBU2").val("");
                }
                else {
                    if (ActualBreakage > 0) {
                        ActualBreakage = parseInt(Math.round(((SuppliedQtyNo / 100) * ActualBreakage) * 1000) / 1000);
                        $("#ActualBreakageQtyNos_SBU2").val(parseInt(ActualBreakage));
                    } else {
                        $("#ActualBreakageQtyNos_SBU2").val("0");
                    }
                }
            }
        }
        else if (parseInt(Breakage_Qty_Nos) == 0) {
            $("#BreakageQtyPer_SBU2").val(parseFloat(Breakage_Qty_Nos).toFixed(2));
            $("#AllowedBreakageQtyPer_SBU2").val(parseInt(Breakage_Qty_Nos));
            $("#AllowedBreakageQtyPer_SBU2").prop("disabled", true);
            $("#AllowedBreakageQtyPer_SBU2").addClass("gray");
            $("#ActualBreakageQtyNos_SBU2").val(parseInt(Breakage_Qty_Nos));
            $("#ActualBreakageQtyNos_SBU2").prop("disabled", true);
            $("#ActualBreakageQtyNos_SBU2").addClass("gray");
        }
    }

    function RecommSBU3LinesOpenModel() {
        try {
            var CNO = $("#Compensation_Id").val();
            if (CNO == "" || CNO == "0" || CNO == null) {
                alert("Select and save the complaint");
                return;
            }
            $(".RecomNos").text("Recommended Qty (Nos)");

            $("#RCM_idB").val("");
            $("#Rec_ProductCode").val("");
            $("#Rec_ProductName").val("");
            $("#CompensationinUnits").val("");
            $("#CompensationinPkgQty").val("");
            $("#Rec_Nos").val("");
            $("#TotQtyinUnits").val("");


            $("#Rec_DeleteB").hide();
            $("#Rec_SaveB").text("Save");

            $("#RecommendedSBU3Lines").modal('show');
        }
        catch (e) {
            alert("Error : RecommSBU3LinesOpenModel :" + e);
        }
    }


    function SaveRecDataB() {
        debugger
        var Product_Type = $("#Product_Type").val();
        var Product_TypeBU8 = Product_Type;
        if (Product_TypeBU8 == "Construction Chemicals") {
            Product_Type ="SBU8";
        }
        var LineId = $("#RCM_idB").val();
        var ProdCode = $("#Rec_ProductCode").val();
        var ProdName = $("#Rec_ProductName").val();
        var Units = $("#CompensationinUnits").val();
        var PackageQty = $("#CompensationinPkgQty").val();
        var RecNos = $("#Rec_Nos").val();
        var TotalQtyinUnits = $("#TotQtyinUnits").val();

        if (ProdCode == "") {
            alert("Select Product");
            return;
        }
        else if (RecNos == "") {
            alert("Enter Nos");
            return;
        }
        else if (isNaN(RecNos)) {
            alert("Enter Valid No");
            return;
        }
        else {
            RecNos = parseInt(RecNos);
            $("#Rec_Nos").val(RecNos);

            if (LineId == "") {

                var TRCode = "";

                TRCode = TRCode + "<td>" + ProdCode + "</td>";
                TRCode = TRCode + "<td>" + ProdName + "</td>";
                TRCode = TRCode + "<td>" + Units + "</td>";
                TRCode = TRCode + "<td>" + PackageQty + "</td>";
                TRCode = TRCode + "<td>" + RecNos + "</td>";
                TRCode = TRCode + "<td>" + TotalQtyinUnits + "</td>";

                LineId = $("#CompensationRecommSBU3 tbody tr").length + 1;

                TRCode = "<tr class='MousePointer' id='BU3Rec_" + LineId + "' onclick='EditBU3Rec(this.id)'><td>" + LineId + "</td>" + TRCode + "</tr>";
                $("#CompensationRecommSBU3 tbody").append(TRCode);
            }
            else {

                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[0].innerHTML = LineId;

                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[1].innerHTML = ProdCode;
                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[2].innerHTML = ProdName;
                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[3].innerHTML = Units;
                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[4].innerHTML = PackageQty;
                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[5].innerHTML = RecNos;
                $("#CompensationRecommSBU3 tbody #BU3Rec_" + LineId + " td")[6].innerHTML = TotalQtyinUnits;

            }

            if (Product_Type == "SBU3") { SaveCompensationLinesSBU3(); }
            else if (Product_Type == "SBU8") { SaveCompensationLinesSBU8(); }
            CompensationScope.SBU3CompensationInNosUpdate();

            $("#RecommendedSBU3Lines").modal("hide");
        }

    }


    function EditBU3Rec(RowId) {
        try {
            debugger
            var Product_Type = $("#Product_Type").val();
            //var Product_TypeBU8 = Product_Type;
            if (Product_Type == "Construction Chemicals") {
                Product_Type = "SBU8";
            }
            var IS = $("#Investigation_Status").val();
            var UserTypeCode = $("#SessionUserTypeID").val();
            if (IS == "Approved" || IS == "Rejected") {
                if ((IS == "Approved") && (UserTypeCode == "CSM" || UserTypeCode == "QH" || UserTypeCode == "CSM_BU2" || UserTypeCode == "CSM_BU3")) {
                }
                else {
                    return;
                }
            }

            if (Product_Type == "SBU3") {
                $("#RCM_idB").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[0].innerHTML);
                $("#Rec_ProductCode").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[1].innerHTML);
                $("#Rec_ProductName").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[2].innerHTML);
                $("#Rec_Nos").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[3].innerHTML);
            }
            if (Product_Type == "SBU8") {
                $("#RCM_idB").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[0].innerHTML);
                $("#Rec_ProductCode").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[1].innerHTML);
                $("#Rec_ProductName").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[2].innerHTML);
                $("#CompensationinUnits").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[3].innerHTML);
                $("#CompensationinPkgQty").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[4].innerHTML);
                $("#Rec_Nos").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[5].innerHTML);
                $("#TotQtyinUnits").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[6].innerHTML);
                //$("#RCM_idB").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[0].innerHTML);
                //$("#Rec_ProductCode").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[1].innerHTML);
                //$("#Rec_ProductName").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[2].innerHTML);
                //$("#Rec_Nos").val($("#CompensationRecommSBU3 tbody #" + RowId + " td")[3].innerHTML);
            }

            $("#RecommendedSBU3Lines").modal('show');
            $("#Rec_DeleteB").show();
            $("#Rec_SaveB").text("Update");

        }
        catch (e) {
            alert("Error : EditBU3Rec : " + e);
        }

    }


    function DeleteRecB() {
        try {
            debugger
            var Product_Type = $("#Product_Type").val();
            var Product_TypeBU8 = Product_Type;
            if (Product_TypeBU8 == "Construction Chemicals") {
                Product_Type = "SBU8";
            }
            var RCM_idB = $("#RCM_idB").val();

            $("#CompensationRecommSBU3 tbody #BU3Rec_" + RCM_idB + "").remove();


            $("#RCM_idB").val("");
            $("#Rec_ProductCode").val("");
            $("#Rec_ProductName").val("");
            $("#CompensationinUnits").val("");
            $("#CompensationinPkgQty").val("");
            $("#Rec_Nos").val("");
            $("#TotQtyinUnits").val("");

            var i = 1;

            $("#CompensationRecommSBU3 tbody tr").each(function () {
                $(this).attr("id", "BU3Rec_" + i);
                $("#CompensationRecommSBU3 tbody #BU3Rec_" + i + " td")[0].innerHTML = i;
                i = i + 1;
            });

            if (Product_Type == "SBU3") { SaveCompensationLinesSBU3(); }
            else if (Product_Type == "SBU8") { SaveCompensationLinesSBU8(); }
            CompensationScope.SBU3CompensationInNosUpdate();

            $("#RecommendedSBU3Lines").modal('hide');

        }
        catch (e) {
            alert("Error : DeleteRecB : " + e);
        }
    }

    function SaveCompensationLinesSBU8() {
        try {

            //var Compensation_Id = $("#Compensation_Id").val();
            debugger
            var Compensation_Id = $("#CompFormIden").val();

            if (Compensation_Id == "" || Compensation_Id == "0" || Compensation_Id == 0 || Compensation_Id == null) {
                return;
            }
            else {
                var MSD_BU8 = new Array();
                var SupplyDetailsBU8 = new Array();
                var RecLineBU8 = new Array();

                if ($("#Material_Supply_Detail_Table_BU3 tbody tr").length > 0) {
                    $("#Material_Supply_Detail_Table_BU3 tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        MSD_BU8.push({
                            SlNo: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[1].innerHTML,
                            UOM: "EA",
                            SupQty: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[7].innerHTML,
                            DefQty: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[8].innerHTML,
                            ActDftQty: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[9].innerHTML,
                            PlantCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[10].innerHTML,
                            ProdSupFromCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[11].innerHTML,
                            NameCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[12].innerHTML
                        });
                    });
                }
                else {
                    MSD_BU8 = "";
                }

                if ($("#Supply_Details_TableB tbody tr").length > 0) {
                    $("#Supply_Details_TableB tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        SupplyDetailsBU8.push({
                            SlNo: $("#Supply_Details_TableB tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#Supply_Details_TableB tbody #" + RowId + " td")[1].innerHTML,
                            InvoiceNo: $("#Supply_Details_TableB tbody #" + RowId + " td")[3].innerHTML,

                            InvoiceDate: $("#Supply_Details_TableB tbody #" + RowId + " td")[4].innerHTML,
                            BatchNo: $("#Supply_Details_TableB tbody #" + RowId + " td")[5].innerHTML,
                            SupplyQty: $("#Supply_Details_TableB tbody #" + RowId + " td")[6].innerHTML,

                            DefectQty: $("#Supply_Details_TableB tbody #" + RowId + " td")[7].innerHTML,
                            ActDefectQty: $("#Supply_Details_TableB tbody #" + RowId + " td")[8].innerHTML,
                            Transporter: $("#Supply_Details_TableB tbody #" + RowId + " td")[9].innerHTML,
                            DefectType: $("#Supply_Details_TableB tbody #" + RowId + " td")[10].innerHTML,
                            Defprct: $("#Supply_Details_TableB tbody #" + RowId + " td")[11].innerHTML,
                            Remarks: $("#Supply_Details_TableB tbody #" + RowId + " td")[12].innerHTML,
                            DefectTypeCode: $("#Supply_Details_TableB tbody #" + RowId + " td")[14].innerHTML,

                        });
                    });
                }
                else {
                    SupplyDetailsBU8 = "";
                }




                if ($("#CompensationRecommSBU3 tbody tr").length > 0) {
                    $("#CompensationRecommSBU3 tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        RecLineBU8.push({
                            SlNo: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[1].innerHTML,
                            ProdName: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[2].innerHTML,
                            Units: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[3].innerHTML,
                            PackageQty: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[4].innerHTML,
                            Nos: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[5].innerHTML,
                             TotalQtyinUnits: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[6].innerHTML,
                        });
                    });
                }
                else {
                    RecLineBU8 = "";
                }





                var IPData = JSON.stringify({
                    Compensation_Id: Compensation_Id,
                    MSD_BU8: MSD_BU8,
                    SupplyDetailsBU8: SupplyDetailsBU8,
                    RecLineBU8: RecLineBU8
                });
                ShowLoader();

                $.ajax({
                    method: 'POST',
                    url: '../../ComplaintRegistration/SaveCompensationLinesSBU8',
                    async: false,
                    data: { IPData: IPData },
                }).then(function successCallback(response) {

                    HideLoader();
                    var Data = JSON.stringify({
                        MasterType: "CompensationDetails",
                        ID: Compensation_Id
                    });
                    // Retrieving Data for Editing                   
                    //$scope.getCompensationdata();
                },
                    function errorCallback(response) {
                        alert("Error : " + response);
                        HideLoader();
                    });
            }
        }
        catch (e) {
            alert("Error : " + e);
            HideLoader();
        }
    }


    function SDMBSuppliedBreakageQtyChange(Identity) {
        try {
            var BoxValue = $("#" + Identity + "").val();
            if (BoxValue == "" || BoxValue == null || isNaN(BoxValue)) {
                $("#" + Identity + "").val("");
            }
            else {
                $("#" + Identity + "").val(parseInt(BoxValue));
            }
            var Actual_Breakage = $("#ActualBreakageQtyNosB").val();
            if (Actual_Breakage != "" || Actual_Breakage != undefined || Actual_Breakage != null) {
                var Supply = $("#SuppliedQtyNosB").val();
                var Breakage = $("#ActualBreakageQtyNosB").val();
                var Defectprct = $("#DefectprctBU8").val();

                Defectprct = ((Breakage / Supply) * 100);
                var DefectPercentage = Math.round(Defectprct);
                var DefectPercentagenew = roundNumber(Defectprct, 3);

                $("#DefectprctBU8").val(DefectPercentagenew);
            }
            else {
            }
        }
        catch (e) {
            alert("Error : SDMBSuppliedBreakageQtyChange : " + e);
        }
    }

    function roundNumber(num, decimalPlaces) {
        const factor = 10 ** decimalPlaces;
        return Math.round(num * factor) / factor;
    }

    function SaveCompensationLinesSBU3() {
        try {

            //var Compensation_Id = $("#Compensation_Id").val();

            var Compensation_Id = $("#CompFormIden").val();

            if (Compensation_Id == "" || Compensation_Id == "0" || Compensation_Id == 0 || Compensation_Id == null) {
                return;
            }
            else {
                var MSD_BU3 = new Array();
                var SupplyDetails = new Array();
                var RecLine = new Array();

                if ($("#Material_Supply_Detail_Table_BU3 tbody tr").length > 0) {
                    $("#Material_Supply_Detail_Table_BU3 tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        MSD_BU3.push({
                            SlNo: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[1].innerHTML,
                            UOM: "EA",
                            SupQty: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[7].innerHTML,
                            DefQty: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[8].innerHTML,
                            ActDftQty: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[9].innerHTML,
                            PlantCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[10].innerHTML,
                            ProdSupFromCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[11].innerHTML,
                            NameCode: $("#Material_Supply_Detail_Table_BU3 tbody #" + RowId + " td")[12].innerHTML
                        });
                    });
                }
                else {
                    MSD_BU3 = "";
                }

                if ($("#Supply_Details_TableB tbody tr").length > 0) {
                    $("#Supply_Details_TableB tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        SupplyDetails.push({
                            SlNo: $("#Supply_Details_TableB tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#Supply_Details_TableB tbody #" + RowId + " td")[1].innerHTML,
                            InvoiceNo: $("#Supply_Details_TableB tbody #" + RowId + " td")[3].innerHTML,

                            InvoiceDate: $("#Supply_Details_TableB tbody #" + RowId + " td")[4].innerHTML,
                            BatchNo: $("#Supply_Details_TableB tbody #" + RowId + " td")[5].innerHTML,
                            SupplyQty: $("#Supply_Details_TableB tbody #" + RowId + " td")[6].innerHTML,

                            DefectQty: $("#Supply_Details_TableB tbody #" + RowId + " td")[7].innerHTML,
                            ActDefectQty: $("#Supply_Details_TableB tbody #" + RowId + " td")[8].innerHTML,
                            Transporter: $("#Supply_Details_TableB tbody #" + RowId + " td")[9].innerHTML,
                            Remarks: $("#Supply_Details_TableB tbody #" + RowId + " td")[11].innerHTML,

                            DefectType: $("#Supply_Details_TableB tbody #" + RowId + " td")[12].innerHTML

                        });
                    });
                }
                else {
                    SupplyDetails = "";
                }




                if ($("#CompensationRecommSBU3 tbody tr").length > 0) {
                    $("#CompensationRecommSBU3 tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        RecLine.push({
                            SlNo: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[1].innerHTML,
                            ProdName: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[2].innerHTML,
                            Nos: $("#CompensationRecommSBU3 tbody #" + RowId + " td")[3].innerHTML
                        });
                    });
                }
                else {
                    RecLine = "";
                }





                var IPData = JSON.stringify({
                    Compensation_Id: Compensation_Id,
                    MSD_BU3: MSD_BU3,
                    SupplyDetails: SupplyDetails,
                    RecLine: RecLine
                });
                ShowLoader();

                $.ajax({
                    method: 'POST',
                    url: '../../ComplaintRegistration/SaveCompensationLinesSBU3',
                    async: false,
                    data: { IPData: IPData },
                }).then(function successCallback(response) {

                    HideLoader();

                },
                function errorCallback(response) {
                    alert("Error : " + response);
                    HideLoader();
                });
            }
        }
        catch (e) {
            alert("Error : " + e);
            HideLoader();
        }
    }    

    function SaveCompensationLinesSBU2() {
        try {

            var Compensation_Id = $("#CompFormIden").val();
            if (Compensation_Id == "" || Compensation_Id == "0" || Compensation_Id == 0 || Compensation_Id == null) {
                return;
            }
            else {
                var SupplyDetails = new Array();

                if ($("#Supply_Details_Table_SBU2 tbody tr").length > 0) {                    
                    $("#Supply_Details_Table_SBU2 tbody tr").each(function () {
                        RowId = ($(this).attr("id"));
                        SupplyDetails.push({
                            SlNo: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[0].innerHTML,
                            ProdCode: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[1].innerHTML,
                            InvoiceNo: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[3].innerHTML,

                            InvoiceDate: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[4].innerHTML,
                            BatchNo: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[5].innerHTML,
                            SupplyQty: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[6].innerHTML,

                            DefectQty: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[7].innerHTML,

                            BreakageQtyPer_SBU2: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[8].innerHTML,
                            AllowedBreakageQtyPer_SBU2: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[9].innerHTML,
                            ActualBreakageQtyNos_SBU2: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[10].innerHTML,

                            Transporter: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[11].innerHTML,
                            Remarks: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[13].innerHTML,

                            DefectType: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[14].innerHTML,
                            LineId: $("#Supply_Details_Table_SBU2 tbody #" + RowId + " td")[15].innerHTML

                        });
                    });
                    var CompensationinNumber_SBU2 = 0.0;
                    var tablelength = $("#Supply_Details_Table_SBU2 tbody tr").length;
                    for (var i = 1; i <= tablelength; i++) {
                        var ActualBreakageQty = 0;
                        if ($("#Supply_Details_Table_SBU2 tbody #SDB_" + i + " td")[10].innerHTML != "") {
                            ActualBreakageQty = $("#Supply_Details_Table_SBU2 tbody #SDB_" + i + " td")[10].innerHTML;
                        }
                        CompensationinNumber_SBU2 = (parseFloat(CompensationinNumber_SBU2) + parseFloat(ActualBreakageQty)).toFixed(0);
                    }
                    if (isNaN(CompensationinNumber_SBU2)) {
                        $("#CompensationInNos").val("");
                    }
                    else {
                        $("#CompensationInNos").val(CompensationinNumber_SBU2);
                        $("#CompensationInNosWords").val(toWords($("#CompensationInNos").val()));
                    }
                }
                else {
                    SupplyDetails = "";
                }
                var IPData = JSON.stringify({
                    Compensation_Id: Compensation_Id,
                    CompensationInNos : $("#CompensationInNosWords").val(),
                    SupplyDetails: SupplyDetails
                });
                ShowLoader();

                $.ajax({
                    method: 'POST',
                    url: '../../ComplaintRegistration/SaveCompensationLinesSBU2',
                    async: false,
                    data: { IPData: IPData },
                }).then(function successCallback(response) {

                    HideLoader();

                },
                function errorCallback(response) {
                    alert("Error : " + response);
                    HideLoader();
                });
            }
        }
        catch (e) {
            alert("Error : " + e);
            HideLoader();
        }
    }    

    // function to convert number to words
    function toWords(s) {
        var th = ['', 'THOUSAND', 'MILLION', 'BILLION', 'TRILLION'];
        var dg = ['ZERO', 'ONE', 'TWO', 'THREE', 'FOUR', 'FIVE', 'SIX', 'SEVEN', 'EIGHT', 'NINE'];
        var tn = ['TEN', 'ELEVEN', 'TWELVE', 'THIRTEEN', 'FOURTEEN', 'FIFTEEN', 'SIXTEEN', 'SEVENTEEN', 'EIGHTEEN', 'NINETEEN'];
        var tw = ['TWENTY', 'THIRTY', 'FORTY', 'FIFTY', 'SIXTY', 'SEVENTY', 'EIGHTY', 'NINTY'];
        s = s.toString();
        s = s.replace(/[\, ]/g, '');
        // alert(s);
        if (s != parseFloat(s)) return 'NOT A NUMBER';        
        var x = s.indexOf('.');
        // alert(x)
        if (x == -1) x = s.length;
        if (x > 15) return 'TOO BIG';
        var n = s.split('');
        //alert(n)
        var str = '';
        if (s.length == 1 && s == 0) {
            str = 'ZERO';
            return str;
        }
        var sk = 0;
        for (var i = 0; i < x; i++) {
            if ((x - i) % 3 == 2) {
                if (n[i] == '1') {
                    str += tn[Number(n[i + 1])] + ' ';
                    i++;
                    sk = 1;
                } else if (n[i] != 0) {
                    str += tw[n[i] - 2] + ' ';
                    sk = 1;
                }
            } else if (n[i] != 0) {
                str += dg[n[i]] + ' ';
                if ((x - i) % 3 == 0) str += 'HUNDRED ';
                sk = 1;
            }
            if ((x - i) % 3 == 1) {
                if (sk) str += th[(x - i - 1) / 3] + ' ';
                sk = 0;
            }
        }
        if (x != s.length) {
            var y = s.length;
            str += 'DECIMAL ';
            for (var i = x + 1; i < y; i++) str += dg[n[i]] + ' ';
        }
        return str.replace(/\s+/g, ' ');
    }

    function SizeisChanged() {

        var Size_M = $("#Size_M").val();

        if (Size_M == "") { }
        else {
            var Supplied_Qty_Nos = $("#Supplied_Qty_Nos").val();
            var Breakage_Qty_Nos = $("#Breakage_Qty_Nos").val();

            if (Supplied_Qty_Nos == "") { }
            else {
                $("#Supplied_Qty_M").val(parseFloat(Supplied_Qty_Nos) * parseFloat(Size_M));
            }
            if (Breakage_Qty_Nos == "") { }
            else {
                $("#Breakage_Qty_M").val(parseFloat(Breakage_Qty_Nos) * parseFloat(Size_M));
            }

        }
    }

    function enabledisableFileUpload() {        
        HideFileUpload();
    }
    function HideFileUpload() {
        $("#NewAttachmentsDiv").hide();
        $("#LoadAttachmentsDiv").show();
        $("#AttachmentsUploaded").empty();
        if ($("#SelectedComplaintFiles").text() != "") {
            $("#lblAttachments").show();
            var Paths = $("#SelectedComplaintFiles").text().split(',');
            var mydiv = document.getElementById("LoadAttachmentsDiv");
            for (var i = 0; i < Paths.length; i++) {
                var myList = document.getElementById("AttachmentsUploaded");
                var liTag = document.createElement('li');
                var aTag = document.createElement('a');
                if ($("#CREATED_IN").val() == "mobile") {
                    //aTag.setAttribute('href', 'http://219.65.69.198:3001/DIMSFiles/ComplaintFiles/' + Paths[i]);
                    aTag.setAttribute('href', 'http://219.65.69.198:3001/ComplaintFiles/' + Paths[i]);
                } else {
                    aTag.setAttribute('href', window.location.origin + '/DIMSFiles/ComplaintFiles/' + Paths[i]);
                }
                //aTag.setAttribute('href', window.location.origin + '/DIMSFiles/ComplaintFiles/' + Paths[i]);
                aTag.setAttribute('target', "_blank");
                aTag.innerHTML = Paths[i].substring(0, 30);
                liTag.appendChild(aTag);
                myList.appendChild(liTag);
                mydiv.appendChild(myList);
            }
        }
        if ($("#SelectedInvestigationFiles").text() != "") {
            $("#lblAttachments").show();
            var Paths = $("#SelectedInvestigationFiles").text().split(',');
            var mydiv = document.getElementById("LoadAttachmentsDiv");            
            for (var i = 0; i < Paths.length; i++) {
                var myList = document.getElementById("AttachmentsUploaded");
                var liTag = document.createElement('li');
                var aTag = document.createElement('a');
                if ($("#CREATED_IN").val() == "mobile") {
                    //aTag.setAttribute('href', 'http://219.65.69.198:3001/DIMSFiles/InvestigationFiles/' + Paths[i]);
                    aTag.setAttribute('href', 'http://219.65.69.198:3001/InvestigationFiles/' + Paths[i]);
                } else {
                    aTag.setAttribute('href', window.location.origin + '/DIMSFiles/InvestigationFiles/' + Paths[i]);
                }
                //aTag.setAttribute('href', window.location.origin + '/DIMSFiles/InvestigationFiles/' + Paths[i]);
                aTag.setAttribute('target', "_blank");
                aTag.innerHTML = Paths[i].substring(0, 30);
                liTag.appendChild(aTag);
                myList.appendChild(liTag);
                mydiv.appendChild(myList);
            }
        }        
        if ($("#SelectedComplaintFiles").text() != "") {
            $("#lblAttachments").show();
        }
        else if ($("#SelectedInvestigationFiles").text() != "") {
            $("#lblAttachments").show();
        }
        else {
            $("#lblAttachments").hide();
        }
    }
</script>
